var En=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);import{R as Sn,_ as Y,o as d,c as _,a as T,r as O,b as c,t as m,F as E,d as R,e as y,f as A,w as X,g as q,n as ie,h as v,i as N,j as Or,k as de,l as Tn,m as bn,p as Rn,q as Dn,s as kn}from"./theme.0a19d99a.js";var pd=En((vd,H)=>{const $n={components:{RouterView:Sn},data(){return{races:[]}},mounted:function(){window.location.hash=="#/"&&this.$router.push("/series/pcrs_2022")},computed:{}},Nn={class:"container"};function wn(t,e,r,n,i,s){const o=O("RouterView");return d(),_("div",Nn,[T(o)])}const On=Y($n,[["render",wn]]);let In=t=>{const e=new Date(Date.UTC(0,0,0,0,0,0,t));let n=[e.getUTCMinutes(),e.getUTCSeconds()].map(i=>String(i).padStart(2,"0")).join(":");return e.getUTCHours()&&(n=e.getUTCHours()+":"+n),n};const Un={props:["data","Pos","totLaps"],data(){return{count:0}},computed:{incompleteLaps(){return new Array(this.totLaps-this.data.laps.length).fill("-")},formattedTime(){return In(this.data.duration)}}};function Cn(t,e,r,n,i,s){return d(),_(E,null,[c("td",null,m(r.Pos+1),1),c("td",null,m(r.data.Bib),1),c("td",null,m(r.data.Name),1),c("td",null,m(r.data.Sponsor),1),(d(!0),_(E,null,R(r.data.laps,(o,a)=>(d(),_("td",{key:a},m(o.timeString),1))),128)),r.totLaps-r.data.laps.length>0?(d(!0),_(E,{key:0},R(s.incompleteLaps,o=>(d(),_("td",null,m(o),1))),256)):y("",!0),c("td",null,m(s.formattedTime),1),c("td",null,m(r.data.back||"-"),1)],64)}const Bn=Y(Un,[["render",Cn]]),xn={props:["series"],data(){return{count:0,seriesData:{}}},created(){this.$watch(()=>this.series,function(){if(!this.series)return;let t=`/api/series/${this.series}/races`;A(t).then(({data:e})=>{this.seriesData=e})})},computed:{isPcrs(){return this.series&&this.series.indexOf("pcrs")>-1}}},Yn={id:"top",class:"navbar navbar-light bg-light"},Gn={class:"container-fluid"},An={class:"navbar-brand",href:"#"},Pn={key:0,class:"nav-item"},Mn=["href"],Ln=c("p",{class:"mt-3"},"View Weekly lap times:",-1),Fn={class:"nav nav-tabs mt-1 justify-content-center"},jn={key:0,class:"nav-item"},Hn=q("Series Standings"),qn={key:1,class:"nav-item"},Vn=q("Grom Series Standings"),zn={key:2,class:"nav-item"},Wn=q("Team Competition");function Xn(t,e,r,n,i,s){const o=O("RouterLink");return d(),_(E,null,[c("nav",Yn,[c("div",Gn,[c("div",An,m(i.seriesData.displayName),1),i.seriesData.homepage?(d(),_("div",Pn,[c("a",{class:"nav-link active","aria-current":"page",href:i.seriesData.homepage.url},m(i.seriesData.homepage.linkString),9,Mn)])):y("",!0)])]),Ln,c("ul",Fn,[(d(!0),_(E,null,R(i.seriesData.races,a=>(d(),_("li",{key:a.raceid,class:"nav-item"},[T(o,{class:ie(["nav-link",{active:t.$route.params.raceid===a.raceid}]),to:`/race/${a.raceid}`},{default:X(()=>[q(m(a.displayName+` - ${a.formattedStartDate}`),1)]),_:2},1032,["class","to"])]))),128)),s.isPcrs?(d(),_("li",jn,[T(o,{class:ie(["nav-link",{active:t.$route.path=="/series/pcrs_2022"}]),to:"/series/pcrs_2022"},{default:X(()=>[Hn]),_:1},8,["class"])])):y("",!0),s.isPcrs?(d(),_("li",qn,[T(o,{class:ie(["nav-link",{active:t.$route.path=="/series/grom/pcrs_2022"}]),to:"/series/grom/pcrs_2022"},{default:X(()=>[Vn]),_:1},8,["class"])])):y("",!0),s.isPcrs?(d(),_("li",zn,[T(o,{class:ie(["nav-link",{active:t.$route.path=="/teamcomp/pcrs_2022"}]),to:"/teamcomp/pcrs_2022"},{default:X(()=>[Wn]),_:1},8,["class"])])):y("",!0)])],64)}const It=Y(xn,[["render",Xn]]),Kn={components:{ResultRow:Bn,SeriesNavBar:It},data(){return{categories:{},loading:!1,error:null,formattedStartDate:"",series:null}},created(){this.$watch(()=>this.$route.params,()=>{this.fetchData()},{immediate:!0})},methods:{scrollMeTo(t){var e=document.querySelector(`#${t}`);e.scrollIntoView({behavior:"smooth"})},fetchData(){if(this.error=null,this.loading=!0,this.$route.params.raceid){let t=`/api/races/results/${this.$route.params.raceid}`;A(t).then(({data:e})=>{this.formattedStartDate=e.raceMeta.formattedStartDate,this.series=e.series,this.loading=!1,this.categories=e.categories}).catch(e=>{console.error(e),this.categories={},this.error=e.toString()})}}},computed:{sortedCats(){return v.orderBy(this.categories,"disporder")},expertCats(){return v.filter(this.sortedCats,{laps:4})},sportCats(){return v.filter(this.sortedCats,{laps:3})},beginnerCats(){return v.filter(this.sortedCats,{laps:2})},gromCats(){return v.filter(this.categories,t=>t.id.indexOf("grom")>-1)},haveResults(){return this.categories?Object.keys(this.categories).length>0:!1}}},Jn={key:0,class:"text-center"},Zn={class:"mt-5"},Qn={key:1,class:"loading"},ei={key:2},ti={key:0,class:"error"},ri={key:1},ni={class:"container text-center mt-5"},ii={class:"list-inline"},si=["onClick"],ai={class:"list-inline"},oi=["onClick"],ui={class:"list-inline"},ci=["onClick"],li={class:"list-inline"},di=["onClick"],_i={class:"container-fluid"},fi=["id"],hi={class:"table table-striped table-hover"},pi={key:2},mi=c("div",{class:"text-center"},[c("h2",{class:"mt-5"},"No results yet...")],-1),gi=[mi];function vi(t,e,r,n,i,s){const o=O("SeriesNavBar"),a=O("ResultRow");return d(),_(E,null,[T(o,{series:i.series},null,8,["series"]),i.formattedStartDate?(d(),_("div",Jn,[c("h2",Zn,"Race Results - "+m(i.formattedStartDate),1)])):y("",!0),i.loading?(d(),_("div",Qn,"Loading...")):(d(),_("div",ei,[i.error?(d(),_("div",ti,m(i.error),1)):y("",!0),s.haveResults?(d(),_("div",ri,[c("div",ni,[c("ul",ii,[(d(!0),_(E,null,R(s.expertCats,(u,l)=>(d(),_("li",{key:u.id,class:"list-inline-item mx-2"},[c("a",{role:"button",onClick:f=>s.scrollMeTo(u.id),class:"link-primary"},m(u.catdispname),9,si)]))),128))]),c("ul",ai,[(d(!0),_(E,null,R(s.sportCats,(u,l)=>(d(),_("li",{key:u.id,class:"list-inline-item mx-2"},[c("a",{role:"button",onClick:f=>s.scrollMeTo(u.id),class:"link-primary"},m(u.catdispname),9,oi)]))),128))]),c("ul",ui,[(d(!0),_(E,null,R(s.beginnerCats,(u,l)=>(d(),_("li",{key:u.id,class:"list-inline-item mx-2"},[c("a",{role:"button",onClick:f=>s.scrollMeTo(u.id),class:"link-primary"},m(u.catdispname),9,ci)]))),128))]),c("ul",li,[(d(!0),_(E,null,R(s.gromCats,(u,l)=>(d(),_("li",{key:u.id,class:"list-inline-item mx-2"},[c("a",{role:"button",onClick:f=>s.scrollMeTo(u.id),class:"link-primary"},m(u.catdispname),9,di)]))),128))])]),c("div",_i,[(d(!0),_(E,null,R(s.sortedCats,(u,l)=>(d(),_("div",{key:u.id,class:"mt-5"},[c("h3",{id:u.id},m(u.catdispname),9,fi),c("table",hi,[c("thead",null,[c("tr",null,[(d(!0),_(E,null,R(u.columns,(f,p)=>(d(),_("th",{scope:"col",key:p},m(f),1))),128))])]),c("tbody",null,[(d(!0),_(E,null,R(u.results,(f,p)=>(d(),_("tr",{key:p},[T(a,{totLaps:u.laps,Pos:p,data:f},null,8,["totLaps","Pos","data"])]))),128))])]),c("a",{role:"button",onClick:e[0]||(e[0]=f=>s.scrollMeTo("top")),class:"link-primary"},"Back to Top")]))),128))])])):(d(),_("div",pi,gi))]))],64)}const yi=Y(Kn,[["render",vi]]),Ei={props:["url"],created(){(function(t,e,r){var n,i=t.getElementsByTagName(e)[0];t.getElementById(r)||(n=t.createElement(e),n.id=r,n.src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v15.0",i.parentNode.insertBefore(n,i))})(document,"script","facebook-jssdk")},mounted(){window.FB&&FB.XFBML.parse()}},Si={id:"1"},Ti=c("div",{id:"fb-root"},null,-1),bi=["data-href"];function Ri(t,e,r,n,i,s){return d(),_("div",Si,[Ti,c("div",{class:"fb-share-button","data-href":this.url,"data-layout":"button","data-size":"large"},null,8,bi)])}const Di=Y(Ei,[["render",Ri]]),ki={components:{FbShareComponent:Di},props:["details"],data(){return{}},computed:{isRosterPage(){return this.$route.path.includes("/roster/")},isRegPage(){return this.$route.name==="register"}}},$i={class:"container mb-4"},Ni={class:"row p-4 pb-0 pe-lg-0 pt-lg-3 align-items-center rounded-3 border shadow"},wi={class:"col-lg-3 offset-lg-1 p-0"},Oi=["src"],Ii={class:"col-lg-7 p-3 p-lg-3 pt-lg-3"},Ui={class:"display-5 fw-bold lh-3"},Ci={class:"lead"},Bi={key:0,class:"d-grid gap-2 d-md-flex justify-content-md-between mb-4 mb-lg-3"},xi=["href"],Yi={key:0},Gi={class:"row"},Ai={key:0,class:"col"},Pi=q("See who is signed up"),Mi={key:1,class:"col"},Li=q("Register");function Fi(t,e,r,n,i,s){const o=O("FbShareComponent"),a=O("RouterLink");return d(),_("div",$i,[c("div",Ni,[c("div",wi,[c("img",{class:"pb-3",src:r.details.logoUrl,alt:"",width:"200"},null,8,Oi)]),c("div",Ii,[c("h3",Ui,m(r.details.name),1),c("p",Ci,m(r.details.tagline),1),r.details.homepageUrl?(d(),_("div",Bi,[c("div",null,[c("a",{href:r.details.homepageUrl},"Event Homepage",8,xi)]),r.details.facebookShare?(d(),_("div",Yi,[T(o,{url:r.details.homepageUrl},null,8,["url"])])):y("",!0)])):y("",!0),c("div",Gi,[s.isRosterPage?y("",!0):(d(),_("div",Ai,[T(a,{to:`/roster/${t.$route.params.raceid}`},{default:X(()=>[Pi]),_:1},8,["to"])])),s.isRegPage?y("",!0):(d(),_("div",Mi,[T(a,{to:{name:"register",params:t.$route.params.raceid}},{default:X(()=>[Li]),_:1},8,["to"])]))])])])])}const Ut=Y(ki,[["render",Fi]]),ji={props:["categories","raceDate"],data(){return{}},methods:{formatStartTime(t){return N(`${N(this.raceDate).format("YYYY-MM-DD")} ${t}`).format("h:mm A")}},computed:{groupByStartTimes(){return v.groupBy(v.orderBy(this.categories,["startTime","disporder"]),"startTime")},hasStartTimes(){return!!v.some(this.categories,"startTime")}}},Hi={key:0},qi=c("h5",null,"Race Start Times:",-1),Vi={class:"row gap-5 mb-3"},zi={class:""},Wi={class:"row g-2 px-4 gx-4 border bg-light"};function Xi(t,e,r,n,i,s){return r.categories.length&&s.hasStartTimes?(d(),_("div",Hi,[qi,c("div",Vi,[(d(!0),_(E,null,R(s.groupByStartTimes,(o,a)=>(d(),_("div",{key:a,class:"col-md-5"},[c("h6",zi,m(s.formatStartTime(a))+":",1),c("div",Wi,[(d(!0),_(E,null,R(s.groupByStartTimes[a],u=>(d(),_("div",{key:u.id,class:"col-lg text-nowrap my-1"},m(u.catdispname),1))),128))])]))),128))])])):y("",!0)}const Ki=Y(ji,[["render",Xi]]);var Ir={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Or,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,o,a){var u=o.prototype;a.utc=function(g){var x={date:g,utc:!0,args:arguments};return new o(x)},u.utc=function(g){var x=a(this.toDate(),{locale:this.$L,utc:!0});return g?x.add(this.utcOffset(),r):x},u.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var l=u.parse;u.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),l.call(this,g)};var f=u.init;u.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else f.call(this)};var p=u.utcOffset;u.utcOffset=function(g,x){var De=this.$utils().u;if(De(g))return this.$u?0:De(this.$offset)?p.call(this):this.$offset;if(typeof g=="string"&&(g=function(ct){ct===void 0&&(ct="");var Qt=ct.match(n);if(!Qt)return null;var lt=(""+Qt[0]).match(i)||["-",0,0],yn=lt[0],dt=60*+lt[1]+ +lt[2];return dt===0?0:yn==="+"?dt:-dt}(g),g===null))return this;var ke=Math.abs(g)<=16?60*g:g,F=this;if(x)return F.$offset=ke,F.$u=g===0,F;if(g!==0){var Zt=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(F=this.local().add(ke+Zt,r)).$offset=ke,F.$x.$localOffset=Zt}else F=this.utc();return F};var S=u.format;u.format=function(g){var x=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return S.call(this,x)},u.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},u.isUTC=function(){return!!this.$u},u.toISOString=function(){return this.toDate().toISOString()},u.toString=function(){return this.toDate().toUTCString()};var I=u.toDate;u.toDate=function(g){return g==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():I.call(this)};var le=u.diff;u.diff=function(g,x,De){if(g&&this.$u===g.$u)return le.call(this,g,x,De);var ke=this.local(),F=a(g).local();return le.call(ke,F,x,De)}}})})(Ir);const Ji=Ir.exports;var Ur={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Or,function(){return function(r,n,i){var s=function(o,a){if(!a||!a.length||!a[0]||a.length===1&&!a[0].length)return null;var u;a.length===1&&a[0].length>0&&(a=a[0]),u=a[0];for(var l=1;l<a.length;l+=1)a[l].isValid()&&!a[l][o](u)||(u=a[l]);return u};i.max=function(){var o=[].slice.call(arguments,0);return s("isAfter",o)},i.min=function(){var o=[].slice.call(arguments,0);return s("isBefore",o)}}})})(Ur);const Zi=Ur.exports;N.extend(Zi);N.extend(Ji);let Qi=v.debounce(t=>{window.localStorage.setItem("race-reg-form-data",JSON.stringify(t))},3500),es=()=>{let t=window.localStorage.getItem("race-reg-form-data");return t?JSON.parse(t):null},ts=()=>{window.localStorage.removeItem("race-reg-form-data")};const rs={components:{EventDetailsComponent:Ut,EventCategoryScheduleComponent:Ki},data(){return{categories:{},loading:!1,error:null,formError:[],formInputData:{},raceData:{},payment:"",birthdate:"",submitted:!1,couponError:[],prevBibError:[],seriesRaces:{},seriesRaceIdx:0,previousReg:!1,prevAge:null}},created(){this.$watch(()=>this.$route.params.raceid,()=>{this.fetchData()},{immediate:!0})},watch:{formInputData:{handler(t,e){this.previousReg==!1&&Qi(t)},deep:!0}},methods:{dollas(t){return t.toLocaleString("en-US",{style:"currency",currency:"USD"})},fetchData(){this.error=null,this.loading=!0,this.$route.params.raceid&&A(`/api/races/${this.$route.params.raceid}`).then(async t=>{this.raceData=t.data;let e=es();e&&(this.formInputData=e),this.raceData.series&&this.raceData.toString().length>1&&await A(`/api/series/${this.raceData.series}/registration`).then(({data:r})=>{this.seriesRaces=r;let n=N();this.seriesRaceIdx=0,v.some(r,({eventDate:i,raceid:s},o)=>N(i).add(21,"hour").isBefore(n)?(console.log(N(i).add(21,"hour").format()),console.log(n.format()),!1):(this.seriesRaceIdx=o,this.$router.push(`/register/${s}`),!0))}),this.loading=!1,this.payment=this.raceData.paymentOptions[0].type}).catch(t=>{this.loading=!1,this.error=t.toString(),console.error(t)})},findPrevBib(t){A.post("/api/racers/bib",{series:`${this.raceData.series}`,bibNumber:t}).then(({data:e})=>{if(console.log("prevbib"),console.log(e),e.paytype==="season"){this.prevBibError=["You are already registered for the whole season"];return}e.prevPaymentId=e.paymentId,delete e.paymentId,this.formInputData=e,this.prevAge=e.racerAge}).catch(({response:e})=>{console.dir(e),e.status==404&&(this.prevBibError=[e.data.message])})},onPrevBibChange(t){t?this.findPrevBib(t):(this.prevBibError=[],this.prevAge=null)},getCouponPricing(t){A.post("/api/payments/pricing",{raceid:`${this.$route.params.raceid}`,couponCode:t}).then(({data:e})=>{this.raceData.paymentOptions=e.paymentOptions,e.validCoupon?this.couponError=[]:this.couponError=["Invalid Coupon Code"]})},onCouponChange(t){t?this.getCouponPricing(t):this.couponError=[]},submitForm(t){t.preventDefault(),this.$formkit.submit("race-registration")},async submit(t){console.log(t),t.birthdate=void 0,t.racerAge=this.racerAge,t.paytype=this.payment,t.timestamp=N().format(),await A.post(`/api/payments/start-registration?race=${this.raceData.raceid}`,t).then(e=>{if(e.data)return this.submitted=!0,ts(),console.log("response data"),console.log(e.data),new Promise(r=>setTimeout(()=>{window.location.href=e.data,r()},2e3))}).catch(e=>{this.formError=["Error submitting request"],console.log(e)})},getEventTimeObj(t){return N(`${N(this.raceData.eventDate).format("YYYY-MM-DD")} ${t}`)}},computed:{startTimes(){return this.hasStartTimes?v.map(v.uniqBy(this.raceData.regCategories,"startTime"),"startTime"):null},hasStartTimes(){return!!v.some(this.raceData.regCategories,"startTime")},currentTime(){return N().local().format()},firstRaceTime(){return this.hasStartTimes?N.min(v.map(this.startTimes,t=>N(`${this.eventDateFormatted} ${t}`))):null},lastRaceTime(){return this.hasStartTimes?N.max(v.map(this.startTimes,t=>N(`${this.eventDateFormatted} ${t}`))):null},sortedCats(){if(!this.racerAge&&this.formInputData.category==null)return[];const t=v.filter(this.raceData.regCategories,r=>!(r.minAge&&this.racerAge<r.minAge||r.maxAge&&this.racerAge>r.maxAge));let e={};return v.forEach(v.orderBy(t,"disporder"),r=>{e[r.id]=r.catdispname}),e},loaded(){return!!this.raceData},submitLabel(){return this.payment=="cash"?"Sign Up!":"Go to Payment"},cashEnabled(){return this.lastRaceTime?N().isAfter(this.lastRaceTime.subtract(6,"hour")):!1},eventDateFormatted(){return N(this.raceData.eventDate).format("YYYY-MM-DD")},regDisabled(){return this.lastRaceTime?N().isAfter(this.lastRaceTime.subtract(5,"minute")):!1},paymentOptions(){let t={};return v.forEach(this.raceData.paymentOptions,e=>{t[e.type]=e.name}),this.cashEnabled&&(t.cash="Cash Payment (Today's Race)"),t},paymentCostDets(){var s;if(this.sponsoredCategorySelected)return this.payment="season",{cost:this.dollas(0),regFee:this.dollas(0),tot:this.dollas(0)};let t;this.payment==="cash"?t="single":t=this.payment;const e=v.find((s=this.raceData)==null?void 0:s.paymentOptions,o=>o.type===t);if(!e)return null;const r=parseFloat(e.amount);let n=0;r>0&&this.payment!=="cash"&&(n=(e.regFee+e.stripeFee)/100);const i={};return v.assign(i,e,{name:e.name,cost:this.dollas(r),regFee:this.dollas(n),tot:this.dollas(parseFloat(e.amount)+parseFloat(n))}),i},showPaymentOption(){return this.sponsoredCategorySelected?!1:this.cashEnabled?!0:!(this.raceData.paymentOptions&&this.raceData.paymentOptions.length<2)},sponsoredCategorySelected(){var t;return!!((t=this.selectedCategory)!=null&&t.sponsored)},selectedCategory(){var t,e;return this.formInputData&&this.formInputData.category?v.find((t=this.raceData)==null?void 0:t.regCategories,{id:(e=this.formInputData)==null?void 0:e.category}):null},racerAge(){if(this.prevAge)return this.prevAge;if(this.birthdate){const t=N(),e=N(this.birthdate);return t.year()-e.year()}}}},ns={key:0,class:"loading"},is={key:1},ss={key:0,class:"error"},as={key:1},os={key:0},us=c("h3",null,"Registration is closed. Register for next week after 9 PM",-1),cs=[us],ls={key:1,class:"mb-5"},ds={key:0},_s={class:"row"},fs={class:"col-md-6 order-md-1 mb-3"},hs=c("h4",{class:"d-flex justify-content-between align-items-center mb-3"},[c("h5",null,"Registration Info"),c("span",{class:"badge badge-secondary badge-pill"},"3")],-1),ps={class:"form-group pt-3"},ms={class:"form-group pt-3"},gs={key:0,class:"col-md-5 order-md-2 mb-4"},vs=c("h4",{class:"d-flex justify-content-between align-items-center mb-3"},[c("h5",null,"Payment Detail"),c("span",{class:"badge badge-secondary badge-pill"},"3")],-1),ys={class:"list-group mb-3"},Es={class:"list-group mb-3"},Ss={class:"list-group mb-3 formkit-fieldset"},Ts={class:"list-group-item d-flex justify-content-between lh-condensed"},bs=c("h6",{class:"my-0"},"Race Entry:",-1),Rs={class:"text-muted"},Ds={key:0,class:"mx-3 text-decoration-line-through text-danger"},ks={class:"list-group-item d-flex justify-content-between lh-condensed"},$s=c("div",null,[c("h6",{class:"my-0"},"Online Processing Fee:"),c("small",{class:"text-muted"},"Credit Card Processing and Online Registration")],-1),Ns={class:"text-muted"},ws={class:"list-group-item d-flex justify-content-between"},Os=c("span",null,"Total (USD)",-1),Is={key:0},Us=c("h2",{class:"text-danger"},"Your registration will not be active until payment is received at the event",-1),Cs=[Us],Bs={key:1},xs={key:1},Ys=c("h2",null,"Submission successful, redirecting",-1),Gs=[Ys],As={key:2},Ps=c("div",{class:"text-center"},[c("h2",{class:"mt-5"},"Race not available for registration...")],-1),Ms=[Ps];function Ls(t,e,r,n,i,s){const o=O("EventDetailsComponent"),a=O("FormKit"),u=O("EventCategoryScheduleComponent");return i.loading?(d(),_("div",ns,"Loading...")):(d(),_("div",is,[i.error?(d(),_("div",ss,m(i.error),1)):y("",!0),s.loaded?(d(),_("div",as,[T(o,{details:i.raceData.eventDetails},null,8,["details"]),s.regDisabled?(d(),_("div",os,cs)):(d(),_("div",ls,[i.seriesRaceIdx>0?(d(),_("div",ds,[T(a,{"label-class":"text-danger fw-bold fs-5",type:"checkbox",name:"prevBibLookup",label:"I have a bib number!",help:"Look up your information from a previous race",modelValue:i.previousReg,"onUpdate:modelValue":e[0]||(e[0]=l=>i.previousReg=l)},null,8,["modelValue"]),i.previousReg?(d(),de(a,{key:0,type:"number",name:"bibNumber",label:"Bib Number:",help:"Enter your Bib Number from your previous race to pre-fill your info",delay:1500,onInput:s.onPrevBibChange,errors:i.prevBibError,validation:"required"},null,8,["onInput","errors"])):y("",!0)])):y("",!0),T(a,{type:"form",id:"race-registration",modelValue:i.formInputData,"onUpdate:modelValue":e[3]||(e[3]=l=>i.formInputData=l),"form-class":i.submitted?"hide":"show",errors:i.formError,actions:!1,onSubmit:s.submit},{default:X(()=>[c("div",_s,[c("div",fs,[hs,T(a,{type:"text",name:"first_name",label:"First name",help:"What is your first name",validation:"required"}),T(a,{type:"text",name:"last_name",label:"Last name",help:"What is your last name",validation:"required"}),c("div",ps,[i.previousReg?y("",!0):(d(),de(a,{key:0,type:"email",name:"email",label:"Your email",help:"Enter an email address",validation:"required|email"}))]),T(a,{type:"text",name:"sponsor",label:"Your Team or Sponsor",help:"Enter an optional Team or Sponsor name"}),i.previousReg?y("",!0):(d(),de(a,{key:0,type:"date",value:"2001-01-01",name:"birthdate",label:"Birthday",modelValue:i.birthdate,"onUpdate:modelValue":e[1]||(e[1]=l=>i.birthdate=l),help:"Enter your birthday to see Race Categories",validation:"required|before:2020-01-01","validation-visibility":"live"},null,8,["modelValue"])),c("div",ms,[T(a,{type:"select",id:"category",label:"Race Category:",placeholder:"Select a category",name:"category",options:s.sortedCats,validation:"required","validation-visibility":"dirty",help:"Select the Category you would like to race in","validation-messages":{is:"You must select a race category"}},null,8,["options"])])]),s.paymentCostDets?(d(),_("div",gs,[vs,c("fieldset",ys,[c("div",null,[i.raceData.couponsEnabled?(d(),de(a,{key:0,type:"text",name:"coupon",label:"Coupon Code",help:"",delay:1e3,onInput:s.onCouponChange,errors:i.couponError},null,8,["onInput","errors"])):y("",!0)])]),c("fieldset",Es,[c("div",null,[s.showPaymentOption?(d(),de(a,{key:0,type:"radio",name:"paytype",label:"Payment option",options:s.paymentOptions,validation:"required",modelValue:i.payment,"onUpdate:modelValue":e[2]||(e[2]=l=>i.payment=l)},null,8,["options","modelValue"])):y("",!0)])]),c("ul",Ss,[c("li",Ts,[c("div",null,[bs,c("small",Rs,m(s.paymentCostDets.name),1)]),c("div",null,[s.paymentCostDets.discounted?(d(),_("span",Ds,m(s.dollas(s.paymentCostDets.orig)),1)):y("",!0),c("span",{class:ie({"text-success":s.paymentCostDets.discounted})},m(s.paymentCostDets.cost),3)])]),c("li",ks,[$s,c("span",Ns,m(s.paymentCostDets.regFee),1)]),c("li",ws,[Os,c("strong",null,m(s.paymentCostDets.tot),1)])])])):y("",!0)]),i.payment==="cash"?(d(),_("div",Is,Cs)):y("",!0),s.sponsoredCategorySelected?(d(),_("div",Bs,[c("h5",null,"Your "+m(s.selectedCategory.catdispname)+" race entry is sponsored by "+m(s.selectedCategory.sponsorName),1),T(a,{type:"submit",label:"Sign Up!",onClick:s.submitForm},null,8,["onClick"])])):y("",!0),s.sponsoredCategorySelected?y("",!0):(d(),de(a,{key:2,type:"submit",label:s.submitLabel,onClick:s.submitForm},null,8,["label","onClick"]))]),_:1},8,["modelValue","form-class","errors","onSubmit"]),i.submitted?(d(),_("div",xs,Gs)):y("",!0)])),T(u,{categories:i.raceData.regCategories,raceDate:i.raceData.eventDate},null,8,["categories","raceDate"])])):(d(),_("div",As,Ms))]))}const Fs=Y(rs,[["render",Ls]]),js={components:{EventDetailsComponent:Ut},data(){return{categories:{},loading:!1,error:null,raceData:{},regData:{},payment:"",payStatus:!1}},created(){this.$watch(()=>this.$route.params,()=>{this.fetchData()},{immediate:!0})},methods:{fetchData(){this.error=null,this.loading=!0,this.$route.params.raceid&&this.$route.params.payment_id&&A(`/api/races/${this.$route.params.raceid}`).then(t=>(this.raceData=t.data,A(`/api/payments/status?payment_id=${this.$route.params.payment_id}`).then(e=>{var r;this.loading=!1,this.payStatus=e.data.status,this.paymentUrl=(r=e.data.stripePayment)==null?void 0:r.url,this.regData=e.data.regData,this.payment=e.data.regData.paytype}))).catch(t=>{this.error="Failed to load race "+this.$route.params.raceid,console.error(t)})}},computed:{sortedCats(){let t={};return v.forEach(v.orderBy(this.raceData.regCategories,"disporder"),e=>{t[e.id]=e.catdispname}),t},loaded(){return!!this.raceData},paymentOptions(){let t={};return v.forEach(this.raceData.paymentOptions,e=>{t[e.type]=e.name}),t},pendingPayment(){return!!(this.regData.raceid!=this.$route.params.raceid||this.payStatus&&this.payStatus!="paid")},sponsoredCategorySelected(){var t;return!!((t=this.selectedCategory)!=null&&t.sponsored)},selectedCategory(){return v.find(this.raceData.regCategories,{id:this.regData.category})}}},Hs={key:0,class:"loading"},qs={key:1},Vs={key:0,class:"error"},zs={key:1},Ws={class:"row"},Xs={class:"col-md-6 order-md-1"},Ks={key:0},Js=c("div",{class:"d-flex justify-content-between align-items-center mb-3"},[c("h4",null,"Your Registration is Confirmed")],-1),Zs=[Js],Qs={key:1,class:"mb-5"},ea=c("div",{class:"d-flex justify-content-between align-items-center mb-3"},[c("h4",null,"Your Registration is Incomplete")],-1),ta={key:0},ra=c("p",{class:"text-danger h5"},"Please make your cash payment at the event to complete your registration.",-1),na=c("p",null,'Your name will not show up on the "Who is signed up" list until payment is completed.',-1),ia=[ra,na],sa={key:1},aa=["href"],oa={class:"col"},ua={class:"row"},ca={class:"form-group pt-3"},la={class:"form-group pt-3"},da={key:2},_a=q(" Please send any corrections or questions to "),fa=c("a",{href:"mailto:support@signup.bike"},"support@signup.bike",-1),ha={key:2},pa={class:"text-center"},ma={class:"mt-5"};function ga(t,e,r,n,i,s){const o=O("EventDetailsComponent"),a=O("FormKit");return i.loading?(d(),_("div",Hs,"Loading...")):(d(),_("div",qs,[i.error?(d(),_("div",Vs,m(i.error),1)):y("",!0),s.loaded?(d(),_("div",zs,[T(o,{details:i.raceData.eventDetails},null,8,["details"]),T(a,{type:"form",id:"race-registration",disabled:"",actions:!1,modelValue:i.regData,"onUpdate:modelValue":e[0]||(e[0]=u=>i.regData=u)},{default:X(()=>[c("div",Ws,[c("div",Xs,[s.pendingPayment?y("",!0):(d(),_("div",Ks,Zs)),s.pendingPayment?(d(),_("div",Qs,[ea,i.payment==="cash"?(d(),_("div",ta,ia)):(d(),_("div",sa,[c("a",{href:t.paymentUrl},"Complete your payment",8,aa)]))])):y("",!0),c("div",oa,[c("div",ua,[T(a,{type:"text",name:"first_name",label:"First name"}),T(a,{type:"text",name:"last_name",label:"Last name"})])]),c("div",ca,[T(a,{type:"email",name:"email",label:"Email"})]),c("div",la,[T(a,{type:"text",name:"sponsor",label:"Your Team or Sponsor"}),T(a,{type:"select",label:"Race Category:",name:"category",options:s.sortedCats},null,8,["options"])]),s.sponsoredCategorySelected?(d(),_("div",da,[c("h5",null," Your "+m(s.selectedCategory.catdispname)+" race entry is sponsored by "+m(s.selectedCategory.sponsorName),1)])):y("",!0)])])]),_:1},8,["modelValue"]),_a,fa])):(d(),_("div",ha,[c("div",pa,[c("h2",ma," Unable to load requested information "+m(t.$route.params.raceid)+" payment: "+m(t.$route.params.payment_id),1)])]))]))}const va=Y(js,[["render",ga]]),ya={props:["data","Pos"],data(){return{count:0}},computed:{}};function Ea(t,e,r,n,i,s){return d(),_(E,null,[c("td",null,m(r.Pos+1),1),c("td",null,m(r.data.Bib),1),c("td",null,m(r.data.Name),1),c("td",null,m(r.data.Age),1),c("td",null,m(r.data.Sponsor),1),(d(!0),_(E,null,R(r.data.results,(o,a)=>(d(),_("td",{class:ie({"text-danger":o.dropped}),key:a},m(o.resultString),3))),128)),c("td",null,m(r.data.seriesPoints),1)],64)}const Sa=Y(ya,[["render",Ea]]),Ta={components:{SeriesResultRow:Sa,SeriesNavBar:It},data(){return{categories:{},loading:!1,error:null,displayName:"",series:null}},created(){this.$watch(()=>this.$route.params,()=>{this.fetchData()},{immediate:!0})},methods:{scrollMeTo(t){var e=document.querySelector(`#${t}`);e.scrollIntoView({behavior:"smooth"})},fetchData(){if(!this.$route.params.seriesid)return;this.error=null,this.loading=!0;let t=`/api/series/results/${this.$route.params.seriesid}`;A(t).then(({data:e})=>{this.loading=!1,this.categories=e.categories,this.displayName=e.displayName,this.series=this.$route.params.seriesid}).catch(e=>{console.error(e),this.categories={},this.error=e.toString()})}},computed:{sortedCats(){let t;return this.$route.path.indexOf("grom")>-1?t=v.filter(this.categories,e=>e.id.indexOf("grom")>-1):t=v.filter(this.categories,e=>e.id.indexOf("grom")==-1),v.orderBy(t,"disporder")},expertCats(){return v.filter(this.sortedCats,{laps:4})},sportCats(){return v.filter(this.sortedCats,{laps:3})},beginnerCats(){return v.filter(this.sortedCats,{laps:2})},gromCats(){return this.$route.path.indexOf("grom")>-1?v.filter(this.categories,t=>t.id.indexOf("grom")>-1):[]},haveResults(){return this.categories?Object.keys(this.categories).length>0:!1}}},ba={key:0,class:"loading"},Ra={key:1},Da={key:0,class:"error"},ka={class:"container-fluid text-center mt-5"},$a=c("h3",null,"Series Standings",-1),Na=c("p",null,[q("Glossary of terms below:"),c("br"),q(" 1/50 = 1st Place/50 Points -/- = Did not race")],-1),wa={key:1},Oa={class:"container-fluid text-center mt-5"},Ia={class:"list-inline"},Ua=["onClick"],Ca={class:"list-inline"},Ba=["onClick"],xa={class:"list-inline"},Ya=["onClick"],Ga={class:"list-inline"},Aa=["onClick"],Pa={class:"container-fluid"},Ma=["id"],La={class:"table table-striped table-hover"},Fa={key:2},ja=c("div",{class:"text-center"},[c("h2",{class:"mt-5"},"No results yet...")],-1),Ha=[ja];function qa(t,e,r,n,i,s){const o=O("SeriesNavBar"),a=O("SeriesResultRow");return d(),_(E,null,[T(o,{series:i.series},null,8,["series"]),i.loading?(d(),_("div",ba,"Loading...")):(d(),_("div",Ra,[i.error?(d(),_("div",Da,m(i.error),1)):y("",!0),c("div",ka,[c("h2",null,m(i.displayName),1),$a,Na]),s.haveResults?(d(),_("div",wa,[c("div",Oa,[c("ul",Ia,[(d(!0),_(E,null,R(s.expertCats,u=>(d(),_("li",{key:u.id,class:"list-inline-item mx-2"},[c("a",{role:"button",onClick:l=>s.scrollMeTo(u.id),class:"link-primary"},m(u.catdispname),9,Ua)]))),128))]),c("ul",Ca,[(d(!0),_(E,null,R(s.sportCats,u=>(d(),_("li",{key:u.id,class:"list-inline-item mx-2"},[c("a",{role:"button",onClick:l=>s.scrollMeTo(u.id),class:"link-primary"},m(u.catdispname),9,Ba)]))),128))]),c("ul",xa,[(d(!0),_(E,null,R(s.beginnerCats,u=>(d(),_("li",{key:u.id,class:"list-inline-item mx-2"},[c("a",{role:"button",onClick:l=>s.scrollMeTo(u.id),class:"link-primary"},m(u.catdispname),9,Ya)]))),128))]),c("ul",Ga,[(d(!0),_(E,null,R(s.gromCats,u=>(d(),_("li",{key:u.id,class:"list-inline-item mx-2"},[c("a",{role:"button",onClick:l=>s.scrollMeTo(u.id),class:"link-primary"},m(u.catdispname),9,Aa)]))),128))])]),c("div",Pa,[(d(!0),_(E,null,R(s.sortedCats,u=>(d(),_("div",{key:u.id,class:"mt-5"},[c("h3",{id:u.id},m(u.catdispname),9,Ma),c("table",La,[c("thead",null,[c("tr",null,[(d(!0),_(E,null,R(u.columns,(l,f)=>(d(),_("th",{scope:"col",key:f},m(l),1))),128))])]),c("tbody",null,[(d(!0),_(E,null,R(u.results,(l,f)=>(d(),_("tr",{key:f},[T(a,{Pos:f,data:l},null,8,["Pos","data"])]))),128))])]),c("a",{role:"button",onClick:e[0]||(e[0]=l=>s.scrollMeTo("top")),class:"link-primary"},"Back to Top")]))),128))])])):(d(),_("div",Fa,Ha))]))],64)}const er=Y(Ta,[["render",qa]]),Va={props:["data","Pos"],data(){return{count:0,dates:["5/4","5/11","5/18","5/25"]}},computed:{}};function za(t,e,r,n,i,s){return d(),_(E,null,[c("td",null,m(r.data.Name),1),c("td",null,m(r.data.Cat),1),(d(!0),_(E,null,R(i.dates,(o,a)=>(d(),_("td",{key:a},m(r.data[o]||"-"),1))),128))],64)}const Wa=Y(Va,[["render",za]]),Xa={components:{ResultRow:Wa,SeriesNavBar:It},data(){return{teamResults:{},loading:!1,error:null,series:null}},created(){this.$watch(()=>this.$route.params,()=>{this.fetchData()},{immediate:!0})},methods:{scrollMeTo(t){var e=document.querySelector(`#${t}`);e.scrollIntoView({behavior:"smooth"})},fetchData(){if(!this.$route.params.seriesid)return;this.error=null,this.loading=!0;let t=`/api/team-comp?series=${this.$route.params.seriesid}`;A(t).then(({data:e})=>{this.loading=!1,this.series=this.$route.params.seriesid,this.teamResults=e}).catch(e=>{console.error(e),this.teamResults={},this.error=e.toString()})}},computed:{dates:()=>{}}},Ka={key:0,class:"loading"},Ja={key:1},Za={key:0,class:"error"},Qa=c("h2",{class:"mt-5"},"Team Standings",-1),eo={class:"container-fluid mt-5"},to={class:"table table-striped table-hover"},ro=c("thead",null,[c("tr",null,[c("th",null,"Position"),c("th",null,"Team"),c("th",null,"Total Score")])],-1),no=c("h2",{class:"mt-5"},"Team Results",-1),io={class:"container-fluid"},so={class:"table table-striped table-hover"},ao=c("thead",null,[c("tr",null,[c("th",{style:{width:"25%"}},"Racer Name"),c("th",{style:{width:"25%"}},"Class"),c("th",{style:{width:"12.5%"}},"5/4"),c("th",{style:{width:"12.5%"}},"5/11"),c("th",{style:{width:"12.5%"}},"5/18"),c("th",{style:{width:"12.5%"}},"5/25")])],-1),oo={class:"table table-striped table-hover"},uo=c("th",{style:{width:"50%","text-align":"right"}},"Score (Avg of individual results):",-1),co={style:{width:"12.5%"}},lo={style:{width:"12.5%"}},_o={style:{width:"12.5%"}},fo={style:{width:"12.5%"}};function ho(t,e,r,n,i,s){const o=O("SeriesNavBar"),a=O("ResultRow");return d(),_(E,null,[T(o,{series:i.series},null,8,["series"]),i.loading?(d(),_("div",Ka,"Loading...")):(d(),_("div",Ja,[i.error?(d(),_("div",Za,m(i.error),1)):y("",!0),Qa,c("div",eo,[c("table",to,[ro,c("tbody",null,[(d(!0),_(E,null,R(i.teamResults.result,(u,l)=>(d(),_("tr",{key:l},[c("td",null,m(l+1),1),c("td",null,m(u.teamName),1),c("td",null,m(u.totalScore),1)]))),128))])])]),no,(d(!0),_(E,null,R(i.teamResults.result,(u,l)=>(d(),_("div",{class:"mt-5",key:l},[c("h3",null,m(u.teamName),1),c("div",io,[c("table",so,[ao,c("tbody",null,[(d(!0),_(E,null,R(i.teamResults.teamDets[u.teamName],(f,p)=>(d(),_("tr",{key:p},[T(a,{data:f},null,8,["data"])]))),128))])]),c("table",oo,[c("thead",null,[c("tr",null,[uo,c("th",co,m(u.results["5/4"]?u.results["5/4"].avg:"-"),1),c("th",lo,m(u.results["5/11"]?u.results["5/11"].avg:"-"),1),c("th",_o,m(u.results["5/18"]?u.results["5/18"].avg:"-"),1),c("th",fo,m(u.results["5/25"]?u.results["5/25"].avg:"-"),1)])])])])]))),128))]))],64)}const po=Y(Xa,[["render",ho]]),mo={components:{EventDetailsComponent:Ut},data(){return{categories:{},loading:!1,error:null,formattedStartDate:"",series:null,stageFilter:"all",racers:[],raceData:{}}},created(){this.$watch(()=>this.$route.params,()=>{this.fetchData()},{immediate:!0})},methods:{scrollMeTo(t){var e=document.querySelector(`#${t}`);e.scrollIntoView({behavior:"smooth"})},fetchData(){this.error=null,this.loading=!0,this.$route.params.raceid&&A(`/api/races/roster/${this.$route.params.raceid}`).then(({data:t})=>{this.raceData=t,this.series=t.series,this.loading=!1,this.categories=t.regCategories,this.racers=t.registeredRacers}).catch(t=>{var e;if(this.loading=!1,((e=t.response)==null?void 0:e.status)===404){this.error="Race not found";return}console.error(t),this.categories={},this.error=t.toString()})},replacePlusSymbol(t){return t.replace("+","Plus")},payTypeToStage(t){const e=v.find(this.raceData.paymentOptions,{type:t});return e?e.name:""}},computed:{showPaytype(){var t;return!!((t=this.raceData)!=null&&t.showPaytypeOnRoster)},filterOptions(){let t={all:"All Stages"};return v.forEach(this.raceData.paymentOptions,e=>{t[e.type]=e.name}),t},filteredRacers(){return this.showPaytype&&this.stageFilter!=="all"?v.filter(this.racers,{paytype:this.stageFilter}):this.racers},groupedRacers(){return v.groupBy(this.filteredRacers,"category")},sortedCats(){return v.filter(v.orderBy(this.categories,"disporder"),t=>v.includes(Object.keys(this.groupedRacers),t.id))},raceDate(){return N(this.raceData.eventDate).format("ddd, MMM D")}}},go={key:0,class:"loading"},vo={key:1},yo={key:0,class:"error"},Eo={key:1,id:"top"},So={key:0},To={class:"row"},bo={key:0,class:"col-md-6"},Ro={class:"container text-center mt-5"},Do={class:"list-inline"},ko=["onClick"],$o={class:"container-fluid"},No=["id"],wo={class:"table table-striped table-hover"},Oo=c("th",null," First Name ",-1),Io=c("th",null," Last Name ",-1),Uo=c("th",null," Team/Sponsor ",-1),Co={key:0},Bo={key:0},xo={key:1},Yo=c("div",{class:"text-center"},[c("h2",{class:"mt-5"},"No registrations yet...")],-1),Go=[Yo];function Ao(t,e,r,n,i,s){const o=O("EventDetailsComponent"),a=O("FormKit");return i.loading?(d(),_("div",go,"Loading...")):(d(),_("div",vo,[i.error?(d(),_("div",yo,m(i.error),1)):(d(),_("div",Eo,[T(o,{details:i.raceData.eventDetails},null,8,["details"]),Object.keys(i.racers).length?(d(),_("div",So,[c("div",To,[c("div",{class:ie({"col-md-6":s.showPaytype})},[c("h4",null,m(i.raceData.count)+" Registered for "+m(i.raceData.displayName)+" on "+m(s.raceDate),1)],2),s.showPaytype?(d(),_("div",bo,[T(a,{type:"select",label:"Show registrations for:",name:"stageFilter",modelValue:i.stageFilter,"onUpdate:modelValue":e[0]||(e[0]=u=>i.stageFilter=u),default:"all",options:s.filterOptions},null,8,["modelValue","options"])])):y("",!0)]),c("div",Ro,[c("ul",Do,[(d(!0),_(E,null,R(s.sortedCats,u=>(d(),_("li",{key:u.id,class:"list-inline-item mx-2"},[c("a",{role:"button",onClick:l=>s.scrollMeTo(s.replacePlusSymbol(u.id)),class:"link-primary"},m(u.catdispname),9,ko)]))),128))])]),c("div",$o,[(d(!0),_(E,null,R(s.sortedCats,u=>(d(),_("div",{key:u.id,class:"mt-5"},[c("h3",{id:s.replacePlusSymbol(u.id)},m(u.catdispname),9,No),c("table",wo,[c("thead",null,[c("tr",null,[Oo,Io,Uo,s.showPaytype?(d(),_("th",Co," Stages ")):y("",!0)])]),c("tbody",null,[(d(!0),_(E,null,R(s.groupedRacers[u.id],(l,f)=>(d(),_("tr",{key:f},[c("td",null,m(l.first_name),1),c("td",null,m(l.last_name),1),c("td",null,m(l.sponsor),1),s.showPaytype?(d(),_("td",Bo,m(s.payTypeToStage(l.paytype)),1)):y("",!0)]))),128))])]),c("a",{role:"button",onClick:e[1]||(e[1]=l=>s.scrollMeTo("top")),class:"link-primary"},"Back to Top")]))),128))])])):(d(),_("div",xo,Go))]))]))}const Po=Y(mo,[["render",Ao]]),Cr=Tn({history:bn("/"),routes:[{path:"/race/:raceid",component:yi},{path:"/register/:raceid",name:"register",component:Fs},{path:"/regconfirmation/:raceid/:payment_id",component:va},{path:"/roster/:raceid",component:Po},{path:"/series/:seriesid",component:er},{path:"/series/grom/:seriesid",component:er},{path:"/teamcomp/:seriesid",component:po}]});function He(t){return t&&t.Math==Math?t:void 0}var Br=typeof globalThis=="object"&&He(globalThis)||typeof window=="object"&&He(window)||typeof self=="object"&&He(self)||typeof global=="object"&&He(global)||function(){return this}()||{};function b(){return Br}function Ct(t,e,r){var n=r||Br,i=n.__SENTRY__=n.__SENTRY__||{},s=i[t]||(i[t]=e());return s}var xr=Object.prototype.toString;function Yr(t){switch(xr.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return L(t,Error)}}function be(t,e){return xr.call(t)===`[object ${e}]`}function Gr(t){return be(t,"ErrorEvent")}function tr(t){return be(t,"DOMError")}function Mo(t){return be(t,"DOMException")}function ue(t){return be(t,"String")}function Ar(t){return t===null||typeof t!="object"&&typeof t!="function"}function ye(t){return be(t,"Object")}function Bt(t){return typeof Event<"u"&&L(t,Event)}function Lo(t){return typeof Element<"u"&&L(t,Element)}function Fo(t){return be(t,"RegExp")}function xt(t){return Boolean(t&&t.then&&typeof t.then=="function")}function jo(t){return ye(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function Pr(t){return typeof t=="number"&&t!==t}function L(t,e){try{return t instanceof e}catch{return!1}}function Ue(t,e){try{let a=t;var r=5,n=80,i=[];let u=0,l=0;var s=" > ",o=s.length;let f;for(;a&&u++<r&&(f=Ho(a,e),!(f==="html"||u>1&&l+i.length*o+f.length>=n));)i.push(f),l+=f.length,a=a.parentNode;return i.reverse().join(s)}catch{return"<unknown>"}}function Ho(t,e){var r=t,n=[];let i,s,o,a,u;if(!r||!r.tagName)return"";n.push(r.tagName.toLowerCase());var l=e&&e.length?e.filter(p=>r.getAttribute(p)).map(p=>[p,r.getAttribute(p)]):null;if(l&&l.length)l.forEach(p=>{n.push(`[${p[0]}="${p[1]}"]`)});else if(r.id&&n.push(`#${r.id}`),i=r.className,i&&ue(i))for(s=i.split(/\s+/),u=0;u<s.length;u++)n.push(`.${s[u]}`);var f=["type","name","title","alt"];for(u=0;u<f.length;u++)o=f[u],a=r.getAttribute(o),a&&n.push(`[${o}="${a}"]`);return n.join("")}function qo(){var t=b();try{return t.document.location.href}catch{return""}}function Vo(t){var e=b();return e.document&&e.document.querySelector?e.document.querySelector(t):null}class U extends Error{constructor(e,r="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=r}}var zo=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Wo(t){return t==="http"||t==="https"}function Yt(t,e=!1){const{host:r,path:n,pass:i,port:s,projectId:o,protocol:a,publicKey:u}=t;return`${a}://${u}${e&&i?`:${i}`:""}@${r}${s?`:${s}`:""}/${n&&`${n}/`}${o}`}function Xo(t){var e=zo.exec(t);if(!e)throw new U(`Invalid Sentry Dsn: ${t}`);const[r,n,i="",s,o="",a]=e.slice(1);let u="",l=a;var f=l.split("/");if(f.length>1&&(u=f.slice(0,-1).join("/"),l=f.pop()),l){var p=l.match(/^\d+/);p&&(l=p[0])}return Mr({host:s,pass:i,path:u,projectId:l,port:o,protocol:r,publicKey:n})}function Mr(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function Ko(t){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return;const{port:e,projectId:r,protocol:n}=t;var i=["protocol","publicKey","host","projectId"];if(i.forEach(s=>{if(!t[s])throw new U(`Invalid Sentry Dsn: ${s} missing`)}),!r.match(/^\d+$/))throw new U(`Invalid Sentry Dsn: Invalid projectId ${r}`);if(!Wo(n))throw new U(`Invalid Sentry Dsn: Invalid protocol ${n}`);if(e&&isNaN(parseInt(e,10)))throw new U(`Invalid Sentry Dsn: Invalid port ${e}`);return!0}function Jo(t){var e=typeof t=="string"?Xo(t):Mr(t);return Ko(e),e}var Zo=b(),Qo="Sentry Logger ",Ze=["debug","info","warn","error","log","assert","trace"];function Lr(t){var e=b();if(!("console"in e))return t();var r=e.console,n={};Ze.forEach(i=>{var s=r[i]&&r[i].__sentry_original__;i in e.console&&s&&(n[i]=r[i],r[i]=s)});try{return t()}finally{Object.keys(n).forEach(i=>{r[i]=n[i]})}}function rr(){let t=!1;var e={enable:()=>{t=!0},disable:()=>{t=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?Ze.forEach(r=>{e[r]=(...n)=>{t&&Lr(()=>{Zo.console[r](`${Qo}[${r}]:`,...n)})}}):Ze.forEach(r=>{e[r]=()=>{}}),e}let h;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?h=Ct("logger",rr):h=rr();function Ne(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.substr(0,e)}...`}function nr(t,e){if(!Array.isArray(t))return"";var r=[];for(let i=0;i<t.length;i++){var n=t[i];try{r.push(String(n))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function Ce(t,e){return ue(t)?Fo(e)?e.test(t):typeof e=="string"?t.indexOf(e)!==-1:!1:!1}function C(t,e,r){if(e in t){var n=t[e],i=r(n);if(typeof i=="function")try{Fr(i,n)}catch{}t[e]=i}}function Gt(t,e,r){Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}function Fr(t,e){var r=e.prototype||{};t.prototype=e.prototype=r,Gt(t,"__sentry_original__",e)}function At(t){return t.__sentry_original__}function eu(t){return Object.keys(t).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`).join("&")}function jr(t){if(Yr(t))return{message:t.message,name:t.name,stack:t.stack,...sr(t)};if(Bt(t)){var e={type:t.type,target:ir(t.target),currentTarget:ir(t.currentTarget),...sr(t)};return typeof CustomEvent<"u"&&L(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function ir(t){try{return Lo(t)?Ue(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function sr(t){if(typeof t=="object"&&t!==null){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function tu(t,e=40){var r=Object.keys(jr(t));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=e)return Ne(r[0],e);for(let i=r.length;i>0;i--){var n=r.slice(0,i).join(", ");if(!(n.length>e))return i===r.length?n:Ne(n,e)}return""}function J(t){var e=new Map;return St(t,e)}function St(t,e){if(ye(t)){var r=e.get(t);if(r!==void 0)return r;var n={};e.set(t,n);for(var i of Object.keys(t))typeof t[i]<"u"&&(n[i]=St(t[i],e));return n}if(Array.isArray(t)){var r=e.get(t);if(r!==void 0)return r;var n=[];return e.set(t,n),t.forEach(a=>{n.push(St(a,e))}),n}return t}function z(t,e){return t!=null?t:e()}function ae(t){let e,r=t[0],n=1;for(;n<t.length;){var i=t[n],s=t[n+1];if(n+=2,(i==="optionalAccess"||i==="optionalCall")&&r==null)return;i==="access"||i==="optionalAccess"?(e=r,r=s(r)):(i==="call"||i==="optionalCall")&&(r=s((...o)=>r.call(e,...o)),e=void 0)}return r}var ru=50;function Hr(...t){var e=t.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0)=>{var i=[];for(var s of r.split(`
`).slice(n)){var o=s.replace(/\(error: (.*)\)/,"$1");for(var a of e){var u=a(o);if(u){i.push(u);break}}}return iu(i)}}function nu(t){return Array.isArray(t)?Hr(...t):t}function iu(t){if(!t.length)return[];let e=t;var r=e[0].function||"",n=e[e.length-1].function||"";return(r.indexOf("captureMessage")!==-1||r.indexOf("captureException")!==-1)&&(e=e.slice(1)),n.indexOf("sentryWrapped")!==-1&&(e=e.slice(0,-1)),e.slice(0,ru).map(i=>({...i,filename:i.filename||e[0].filename,function:i.function||"?"})).reverse()}var _t="<anonymous>";function te(t){try{return!t||typeof t!="function"?_t:t.name||_t}catch{return _t}}function qr(){if(!("fetch"in b()))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Tt(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function su(){if(!qr())return!1;var t=b();if(Tt(t.fetch))return!0;let e=!1;var r=t.document;if(r&&typeof r.createElement=="function")try{var n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Tt(n.contentWindow.fetch)),r.head.removeChild(n)}catch(i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return e}function au(){var t=b(),e=t.chrome,r=e&&e.app&&e.app.runtime,n="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!r&&n}var k=b(),we={},ar={};function ou(t){if(!ar[t])switch(ar[t]=!0,t){case"console":uu();break;case"dom":gu();break;case"xhr":_u();break;case"fetch":cu();break;case"history":fu();break;case"error":vu();break;case"unhandledrejection":yu();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn("unknown instrumentation type:",t);return}}function G(t,e){we[t]=we[t]||[],we[t].push(e),ou(t)}function P(t,e){if(!(!t||!we[t]))for(var r of we[t]||[])try{r(e)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${te(r)}
Error:`,n)}}function uu(){"console"in k&&Ze.forEach(function(t){t in k.console&&C(k.console,t,function(e){return function(...r){P("console",{args:r,level:t}),e&&e.apply(k.console,r)}})})}function cu(){!su()||C(k,"fetch",function(t){return function(...e){var r={args:e,fetchData:{method:lu(e),url:du(e)},startTimestamp:Date.now()};return P("fetch",{...r}),t.apply(k,e).then(n=>(P("fetch",{...r,endTimestamp:Date.now(),response:n}),n),n=>{throw P("fetch",{...r,endTimestamp:Date.now(),error:n}),n})}})}function lu(t=[]){return"Request"in k&&L(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function du(t=[]){return typeof t[0]=="string"?t[0]:"Request"in k&&L(t[0],Request)?t[0].url:String(t[0])}function _u(){if("XMLHttpRequest"in k){var t=XMLHttpRequest.prototype;C(t,"open",function(e){return function(...r){var n=this,i=r[1],s=n.__sentry_xhr__={method:ue(r[0])?r[0].toUpperCase():r[0],url:r[1]};ue(i)&&s.method==="POST"&&i.match(/sentry_key/)&&(n.__sentry_own_request__=!0);var o=function(){if(n.readyState===4){try{s.status_code=n.status}catch{}P("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:n})}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?C(n,"onreadystatechange",function(a){return function(...u){return o(),a.apply(n,u)}}):n.addEventListener("readystatechange",o),e.apply(n,r)}}),C(t,"send",function(e){return function(...r){return this.__sentry_xhr__&&r[0]!==void 0&&(this.__sentry_xhr__.body=r[0]),P("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),e.apply(this,r)}})}}let qe;function fu(){if(!au())return;var t=k.onpopstate;k.onpopstate=function(...r){var n=k.location.href,i=qe;if(qe=n,P("history",{from:i,to:n}),t)try{return t.apply(this,r)}catch{}};function e(r){return function(...n){var i=n.length>2?n[2]:void 0;if(i){var s=qe,o=String(i);qe=o,P("history",{from:s,to:o})}return r.apply(this,n)}}C(k.history,"pushState",e),C(k.history,"replaceState",e)}var hu=1e3;let Ve,ze;function pu(t,e){if(!t||t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch{}return!1}function mu(t){if(t.type!=="keypress")return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch{}return!0}function or(t,e=!1){return r=>{if(!(!r||ze===r)&&!mu(r)){var n=r.type==="keypress"?"input":r.type;Ve===void 0?(t({event:r,name:n,global:e}),ze=r):pu(ze,r)&&(t({event:r,name:n,global:e}),ze=r),clearTimeout(Ve),Ve=k.setTimeout(()=>{Ve=void 0},hu)}}}function gu(){if("document"in k){var t=P.bind(null,"dom"),e=or(t,!0);k.document.addEventListener("click",e,!1),k.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{var n=k[r]&&k[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(C(n,"addEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{var u=this,l=u.__sentry_instrumentation_handlers__=u.__sentry_instrumentation_handlers__||{},f=l[s]=l[s]||{refCount:0};if(!f.handler){var p=or(t);f.handler=p,i.call(this,s,p,a)}f.refCount+=1}catch{}return i.call(this,s,o,a)}}),C(n,"removeEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{var u=this,l=u.__sentry_instrumentation_handlers__||{},f=l[s];f&&(f.refCount-=1,f.refCount<=0&&(i.call(this,s,f.handler,a),f.handler=void 0,delete l[s]),Object.keys(l).length===0&&delete u.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,o,a)}}))})}}let ft=null;function vu(){ft=k.onerror,k.onerror=function(t,e,r,n,i){return P("error",{column:n,error:i,line:r,msg:t,url:e}),ft?ft.apply(this,arguments):!1}}let ht=null;function yu(){ht=k.onunhandledrejection,k.onunhandledrejection=function(t){return P("unhandledrejection",t),ht?ht.apply(this,arguments):!0}}function Eu(){var t=typeof WeakSet=="function",e=t?new WeakSet:[];function r(i){if(t)return e.has(i)?!0:(e.add(i),!1);for(let o=0;o<e.length;o++){var s=e[o];if(s===i)return!0}return e.push(i),!1}function n(i){if(t)e.delete(i);else for(let s=0;s<e.length;s++)if(e[s]===i){e.splice(s,1);break}}return[r,n]}function Z(){var t=b(),e=t.crypto||t.msCrypto;if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");var r=e&&e.getRandomValues?()=>e.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function Vr(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function se(t){const{message:e,event_id:r}=t;if(e)return e;var n=Vr(t);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function bt(t,e,r){var n=t.exception=t.exception||{},i=n.values=n.values||[],s=i[0]=i[0]||{};s.value||(s.value=e||""),s.type||(s.type=r||"Error")}function Be(t,e){var r=Vr(t);if(!!r){var n={type:"generic",handled:!0},i=r.mechanism;if(r.mechanism={...n,...i,...e},e&&"data"in e){var s={...i&&i.data,...e.data};r.mechanism.data=s}}}function ur(t){if(t&&t.__sentry_captured__)return!0;try{Gt(t,"__sentry_captured__",!0)}catch{}return!1}function Pt(t){return Array.isArray(t)?t:[t]}function Su(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Mt(){return!Su()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function K(t,e){return t.require(e)}function Tu(t){let e;try{e=K(H,t)}catch{}try{const{cwd:r}=K(H,"process");e=K(H,`${r()}/node_modules/${t}`)}catch{}return e}function ne(t,e=1/0,r=1/0){try{return Rt("",t,e,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function zr(t,e=3,r=100*1024){var n=ne(t,e);return Du(n)>r?zr(t,e-1,r):n}function Rt(t,e,r=1/0,n=1/0,i=Eu()){const[s,o]=i;if(e===null||["number","boolean","string"].includes(typeof e)&&!Pr(e))return e;var a=bu(t,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;if(r===0)return a.replace("object ","");if(s(e))return"[Circular ~]";var u=e;if(u&&typeof u.toJSON=="function")try{var l=u.toJSON();return Rt("",l,r-1,n,i)}catch{}var f=Array.isArray(e)?[]:{};let p=0;var S=jr(e);for(var I in S)if(!!Object.prototype.hasOwnProperty.call(S,I)){if(p>=n){f[I]="[MaxProperties ~]";break}var le=S[I];f[I]=Rt(I,le,r-1,n,i),p+=1}return o(e),f}function bu(t,e){try{return t==="domain"&&e&&typeof e=="object"&&e._events?"[Domain]":t==="domainEmitter"?"[DomainEmitter]":typeof global<"u"&&e===global?"[Global]":typeof window<"u"&&e===window?"[Window]":typeof document<"u"&&e===document?"[Document]":jo(e)?"[SyntheticEvent]":typeof e=="number"&&e!==e?"[NaN]":e===void 0?"[undefined]":typeof e=="function"?`[Function: ${te(e)}]`:typeof e=="symbol"?`[${String(e)}]`:typeof e=="bigint"?`[BigInt: ${String(e)}]`:`[object ${Object.getPrototypeOf(e).constructor.name}]`}catch(r){return`**non-serializable** (${r})`}}function Ru(t){return~-encodeURI(t).split(/%..|./).length}function Du(t){return Ru(JSON.stringify(t))}var j;(function(t){var e=0;t[t.PENDING=e]="PENDING";var r=1;t[t.RESOLVED=r]="RESOLVED";var n=2;t[t.REJECTED=n]="REJECTED"})(j||(j={}));function ce(t){return new B(e=>{e(t)})}function Dt(t){return new B((e,r)=>{r(t)})}class B{__init(){this._state=j.PENDING}__init2(){this._handlers=[]}constructor(e){B.prototype.__init.call(this),B.prototype.__init2.call(this),B.prototype.__init3.call(this),B.prototype.__init4.call(this),B.prototype.__init5.call(this),B.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new B((n,i)=>{this._handlers.push([!1,s=>{if(!e)n(s);else try{n(e(s))}catch(o){i(o)}},s=>{if(!r)i(s);else try{n(r(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new B((r,n)=>{let i,s;return this.then(o=>{s=!1,i=o,e&&e()},o=>{s=!0,i=o,e&&e()}).then(()=>{if(s){n(i);return}r(i)})})}__init3(){this._resolve=e=>{this._setResult(j.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(j.REJECTED,e)}}__init5(){this._setResult=(e,r)=>{if(this._state===j.PENDING){if(xt(r)){r.then(this._resolve,this._reject);return}this._state=e,this._value=r,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state!==j.PENDING){var e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===j.RESOLVED&&r[1](this._value),this._state===j.REJECTED&&r[2](this._value),r[0]=!0)})}}}}function ku(t){var e=[];function r(){return t===void 0||e.length<t}function n(o){return e.splice(e.indexOf(o),1)[0]}function i(o){if(!r())return Dt(new U("Not adding Promise because buffer limit was reached."));var a=o();return e.indexOf(a)===-1&&e.push(a),a.then(()=>n(a)).then(null,()=>n(a).then(null,()=>{})),a}function s(o){return new B((a,u)=>{let l=e.length;if(!l)return a(!0);var f=setTimeout(()=>{o&&o>0&&a(!1)},o);e.forEach(p=>{ce(p).then(()=>{--l||(clearTimeout(f),a(!0))},u)})})}return{$:e,add:i,drain:s}}function pt(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+r+n}}var $u=["fatal","error","warning","log","info","debug"];function Nu(t){return t==="warn"?"warning":$u.includes(t)?t:"log"}var kt={nowSeconds:()=>Date.now()/1e3};function wu(){const{performance:t}=b();if(!(!t||!t.now)){var e=Date.now()-t.now();return{now:()=>t.now(),timeOrigin:e}}}function Ou(){try{var t=K(H,"perf_hooks");return t.performance}catch{return}}var mt=Mt()?Ou():wu(),cr=mt===void 0?kt:{nowSeconds:()=>(mt.timeOrigin+mt.now())/1e3},rt=kt.nowSeconds.bind(kt),Le=cr.nowSeconds.bind(cr),xe=Le,Ye=(()=>{const{performance:t}=b();if(!(!t||!t.now)){var e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,s=i<e,o=t.timing&&t.timing.navigationStart,a=typeof o=="number",u=a?Math.abs(o+r-n):e,l=u<e;return s||l?i<=u?t.timeOrigin:o:n}})(),Iu=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Uu(t){var e=t.match(Iu);if(!t||!e)return;let r;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}function nt(t,e=[]){return[t,e]}function Cu(t,e){const[r,n]=t;return[r,[...n,e]]}function lr(t,e){var r=t[1];r.forEach(n=>{var i=n[0].type;e(n,i)})}function $t(t,e){var r=e||new TextEncoder;return r.encode(t)}function Wr(t,e){const[r,n]=t;let i=JSON.stringify(r);function s(a){typeof i=="string"?i=typeof a=="string"?i+a:[$t(i,e),a]:i.push(typeof a=="string"?$t(a,e):a)}for(var o of n){const[a,u]=o;s(`
${JSON.stringify(a)}
`),s(typeof u=="string"||u instanceof Uint8Array?u:JSON.stringify(u))}return typeof i=="string"?i:Bu(i)}function Bu(t){var e=t.reduce((s,o)=>s+o.length,0),r=new Uint8Array(e);let n=0;for(var i of t)r.set(i,n),n+=i.length;return r}function xu(t,e){var r=typeof t.data=="string"?$t(t.data,e):t.data;return[J({type:"attachment",length:r.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),r]}var Yu={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default"};function dr(t){return Yu[t]}function Gu(t,e,r){var n=[{type:"client_report"},{timestamp:r||rt(),discarded_events:t}];return nt(e?{dsn:e}:{},[n])}var Au=60*1e3;function Pu(t,e=Date.now()){var r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;var n=Date.parse(`${t}`);return isNaN(n)?Au:n-e}function Mu(t,e){return t[e]||t.all||0}function Lu(t,e,r=Date.now()){return Mu(t,e)>r}function Fu(t,{statusCode:e,headers:r},n=Date.now()){var i={...t},s=r&&r["x-sentry-rate-limits"],o=r&&r["retry-after"];if(s)for(var a of s.trim().split(",")){const[p,S]=a.split(":",2);var u=parseInt(p,10),l=(isNaN(u)?60:u)*1e3;if(!S)i.all=n+l;else for(var f of S.split(";"))i[f]=n+l}else o?i.all=n+Pu(o,n):e===429&&(i.all=n+60*1e3);return i}var Nt="baggage",Xr="sentry-",ju=/^sentry-/,Hu=8192;function qu(t){if(!ue(t)&&!Array.isArray(t))return;let e={};if(Array.isArray(t))e=t.reduce((n,i)=>{var s=_r(i);return{...n,...s}},{});else{if(!t)return;e=_r(t)}var r=Object.entries(e).reduce((n,[i,s])=>{if(i.match(ju)){var o=i.slice(Xr.length);n[o]=s}return n},{});if(Object.keys(r).length>0)return r}function Kr(t){var e=Object.entries(t).reduce((r,[n,i])=>(i&&(r[`${Xr}${n}`]=i),r),{});return Vu(e)}function _r(t){return t.split(",").map(e=>e.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((e,[r,n])=>(e[r]=n,e),{})}function Vu(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[r,n],i)=>{var s=`${encodeURIComponent(r)}=${encodeURIComponent(n)}`,o=i===0?s:`${e},${s}`;return o.length>Hu?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn(`Not adding key: ${r} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):o},"")}function zu(t){var e=Le(),r={sid:Z(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Xu(r)};return t&&Ee(r,t),r}function Ee(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Le(),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Z()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{var r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function Wu(t,e){let r={};e?r={status:e}:t.status==="ok"&&(r={status:"exited"}),Ee(t,r)}function Xu(t){return J({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}var fr=100;class Q{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(e){var r=new Q;return e&&(r._breadcrumbs=[...e._breadcrumbs],r._tags={...e._tags},r._extra={...e._extra},r._contexts={...e._contexts},r._user=e._user,r._level=e._level,r._span=e._span,r._session=e._session,r._transactionName=e._transactionName,r._fingerprint=e._fingerprint,r._eventProcessors=[...e._eventProcessors],r._requestSession=e._requestSession,r._attachments=[...e._attachments]),r}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&Ee(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts={...this._contexts,[e]:r},this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){var e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){var r=e(this);return r instanceof Q?r:this}return e instanceof Q?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):ye(e)&&(e=e,this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,r){var n=typeof r=="number"?Math.min(r,fr):fr;if(n<=0)return this;var i={timestamp:rt(),...e};return this._breadcrumbs=[...this._breadcrumbs,i].slice(-n),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,r={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};var n=this._span.transaction&&this._span.transaction.name;n&&(e.tags={transaction:n,...e.tags})}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...Jr(),...this._eventProcessors],e,r)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,r,n,i=0){return new B((s,o)=>{var a=e[i];if(r===null||typeof a!="function")s(r);else{var u=a({...r},n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&a.id&&u===null&&h.log(`Event processor "${a.id}" dropped event`),xt(u)?u.then(l=>this._notifyEventProcessors(e,l,n,i+1).then(s)).then(null,o):this._notifyEventProcessors(e,u,n,i+1).then(s).then(null,o)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?Pt(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function Jr(){return Ct("globalEventProcessors",()=>[])}function Lt(t){Jr().push(t)}var Ft=4,Ku=100;class Fe{__init(){this._stack=[{}]}constructor(e,r=new Q,n=Ft){this._version=n,Fe.prototype.__init.call(this),this.getStackTop().scope=r,e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){var r=this.getStackTop();r.client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){var e=Q.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){var r=this.pushScope();try{e(r)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,r){var n=this._lastEventId=r&&r.event_id?r.event_id:Z(),i=new Error("Sentry syntheticException");return this._withClient((s,o)=>{s.captureException(e,{originalException:e,syntheticException:i,...r,event_id:n},o)}),n}captureMessage(e,r,n){var i=this._lastEventId=n&&n.event_id?n.event_id:Z(),s=new Error(e);return this._withClient((o,a)=>{o.captureMessage(e,r,{originalException:e,syntheticException:s,...n,event_id:i},a)}),i}captureEvent(e,r){var n=r&&r.event_id?r.event_id:Z();return e.type!=="transaction"&&(this._lastEventId=n),this._withClient((i,s)=>{i.captureEvent(e,{...r,event_id:n},s)}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,r){const{scope:n,client:i}=this.getStackTop();if(!n||!i)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=Ku}=i.getOptions&&i.getOptions()||{};if(!(o<=0)){var a=rt(),u={timestamp:a,...e},l=s?Lr(()=>s(u,r)):u;l!==null&&n.addBreadcrumb(l,o)}}setUser(e){var r=this.getScope();r&&r.setUser(e)}setTags(e){var r=this.getScope();r&&r.setTags(e)}setExtras(e){var r=this.getScope();r&&r.setExtras(e)}setTag(e,r){var n=this.getScope();n&&n.setTag(e,r)}setExtra(e,r){var n=this.getScope();n&&n.setExtra(e,r)}setContext(e,r){var n=this.getScope();n&&n.setContext(e,r)}configureScope(e){const{scope:r,client:n}=this.getStackTop();r&&n&&e(r)}run(e){var r=hr(this);try{e(this)}finally{hr(r)}}getIntegration(e){var r=this.getClient();if(!r)return null;try{return r.getIntegration(e)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,r){return this._callExtensionMethod("startTransaction",e,r)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){var e=this.getStackTop(),r=e&&e.scope,n=r&&r.getSession();n&&Wu(n),this._sendSessionUpdate(),r&&r.setSession()}startSession(e){const{scope:r,client:n}=this.getStackTop(),{release:i,environment:s}=n&&n.getOptions()||{};var o=b();const{userAgent:a}=o.navigator||{};var u=zu({release:i,environment:s,...r&&{user:r.getUser()},...a&&{userAgent:a},...e});if(r){var l=r.getSession&&r.getSession();l&&l.status==="ok"&&Ee(l,{status:"exited"}),this.endSession(),r.setSession(u)}return u}shouldSendDefaultPii(){var e=this.getClient(),r=e&&e.getOptions();return Boolean(r&&r.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:r}=this.getStackTop();if(!!e){var n=e.getSession();n&&r&&r.captureSession&&r.captureSession(n)}}_withClient(e){const{scope:r,client:n}=this.getStackTop();n&&e(n,r)}_callExtensionMethod(e,...r){var n=Re(),i=n.__SENTRY__;if(i&&i.extensions&&typeof i.extensions[e]=="function")return i.extensions[e].apply(this,r);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Re(){var t=b();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function hr(t){var e=Re(),r=W(e);return jt(e,t),r}function D(){var t=Re();return(!Zr(t)||W(t).isOlderThan(Ft))&&jt(t,new Fe),Mt()?Ju(t):W(t)}function Ju(t){try{var e=Re().__SENTRY__,r=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!r)return W(t);if(!Zr(r)||W(r).isOlderThan(Ft)){var n=W(t).getStackTop();jt(r,new Fe(n.client,Q.clone(n.scope)))}return W(r)}catch{return W(t)}}function Zr(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function W(t){return Ct("hub",()=>new Fe,t)}function jt(t,e){if(!t)return!1;var r=t.__SENTRY__=t.__SENTRY__||{};return r.hub=e,!0}function Qr(t,e){return D().captureException(t,{captureContext:e})}function Zu(t){D().withScope(t)}var Qu="7";function ec(t){var e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function tc(t){return`${ec(t)}${t.projectId}/envelope/`}function rc(t,e){return eu({sentry_key:t.publicKey,sentry_version:Qu,...e&&{sentry_client:`${e.name}/${e.version}`}})}function en(t,e={}){var r=typeof e=="string"?e:e.tunnel,n=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return r||`${tc(t)}?${rc(t,n)}`}function tn(t){if(!t||!t.sdk)return;const{name:e,version:r}=t.sdk;return{name:e,version:r}}function nc(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function ic(t,e,r,n){var i=tn(r),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!n&&{dsn:Yt(e)}},o="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t];return nt(s,[o])}function sc(t,e,r,n){var i=tn(r),s=t.type||"event";nc(t,r&&r.sdk);var o=ac(t,i,n,e);delete t.sdkProcessingMetadata;var a=[{type:s},t];return nt(o,[a])}function ac(t,e,r,n){var i=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&{dsn:Yt(n)},...t.type==="transaction"&&i&&{trace:J({...i})}}}var pr=[];function oc(t){var e={};return t.forEach(r=>{const{name:n}=r;var i=e[n];i&&!i.isDefaultInstance&&r.isDefaultInstance||(e[n]=r)}),Object.values(e)}function uc(t){var e=t.defaultIntegrations||[],r=t.integrations;e.forEach(o=>{o.isDefaultInstance=!0});let n;Array.isArray(r)?n=[...e,...r]:typeof r=="function"?n=Pt(r(e)):n=e;var i=oc(n),s=i.findIndex(o=>o.name==="Debug");if(s!==-1){const[o]=i.splice(s,1);i.push(o)}return i}function cc(t){var e={};return t.forEach(r=>{e[r.name]=r,pr.indexOf(r.name)===-1&&(r.setupOnce(Lt,D),pr.push(r.name),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log(`Integration installed: ${r.name}`))}),e}var mr="Not capturing exception because it's already been captured.";class fe{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(e){if(fe.prototype.__init.call(this),fe.prototype.__init2.call(this),fe.prototype.__init3.call(this),fe.prototype.__init4.call(this),this._options=e,e.dsn){this._dsn=Jo(e.dsn);var r=en(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:r})}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn("No DSN provided, client will not do anything.")}captureException(e,r,n){if(ur(e)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log(mr);return}let i=r&&r.event_id;return this._process(this.eventFromException(e,r).then(s=>this._captureEvent(s,r,n)).then(s=>{i=s})),i}captureMessage(e,r,n,i){let s=n&&n.event_id;var o=Ar(e)?this.eventFromMessage(String(e),r,n):this.eventFromException(e,n);return this._process(o.then(a=>this._captureEvent(a,n,i)).then(a=>{s=a})),s}captureEvent(e,r,n){if(r&&r.originalException&&ur(r.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log(mr);return}let i=r&&r.event_id;return this._process(this._captureEvent(e,r,n).then(s=>{i=s})),i}captureSession(e){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Ee(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(e){var r=this._transport;return r?this._isClientDoneProcessing(e).then(n=>r.flush(e).then(i=>n&&i)):ce(!0)}close(e){return this.flush(e).then(r=>(this.getOptions().enabled=!1,r))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=cc(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}sendEvent(e,r={}){if(this._dsn){let i=sc(e,this._dsn,this._options._metadata,this._options.tunnel);for(var n of r.attachments||[])i=Cu(i,xu(n,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(i)}}sendSession(e){if(this._dsn){var r=ic(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(r)}}recordDroppedEvent(e,r){if(this._options.sendClientReports){var n=`${e}:${r}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}_updateSessionFromEvent(e,r){let n=!1,i=!1;var s=r.exception&&r.exception.values;if(s){i=!0;for(var o of s){var a=o.mechanism;if(a&&a.handled===!1){n=!0;break}}}var u=e.status==="ok",l=u&&e.errors===0||u&&n;l&&(Ee(e,{...n&&{status:"crashed"},errors:e.errors||Number(i||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new B(r=>{let n=0;var i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),r(!0)):(n+=i,e&&n>=e&&(clearInterval(s),r(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(e,r,n){const{normalizeDepth:i=3,normalizeMaxBreadth:s=1e3}=this.getOptions();var o={...e,event_id:e.event_id||r.event_id||Z(),timestamp:e.timestamp||rt()};this._applyClientOptions(o),this._applyIntegrationsMetadata(o);let a=n;r.captureContext&&(a=Q.clone(a).update(r.captureContext));let u=ce(o);if(a){var l=[...r.attachments||[],...a.getAttachments()];l.length&&(r.attachments=l),u=a.applyToEvent(o,r)}return u.then(f=>typeof i=="number"&&i>0?this._normalizeEvent(f,i,s):f)}_normalizeEvent(e,r,n){if(!e)return null;var i={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>({...s,...s.data&&{data:ne(s.data,r,n)}}))},...e.user&&{user:ne(e.user,r,n)},...e.contexts&&{contexts:ne(e.contexts,r,n)},...e.extra&&{extra:ne(e.extra,r,n)}};return e.contexts&&e.contexts.trace&&i.contexts&&(i.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(i.contexts.trace.data=ne(e.contexts.trace.data,r,n))),e.spans&&(i.spans=e.spans.map(s=>(s.data&&(s.data=ne(s.data,r,n)),s))),i}_applyClientOptions(e){var r=this.getOptions();const{environment:n,release:i,dist:s,maxValueLength:o=250}=r;"environment"in e||(e.environment="environment"in r?n:"production"),e.release===void 0&&i!==void 0&&(e.release=i),e.dist===void 0&&s!==void 0&&(e.dist=s),e.message&&(e.message=Ne(e.message,o));var a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=Ne(a.value,o));var u=e.request;u&&u.url&&(u.url=Ne(u.url,o))}_applyIntegrationsMetadata(e){var r=Object.keys(this._integrations);r.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...r])}_captureEvent(e,r={},n){return this._processEvent(e,r,n).then(i=>i.event_id,i=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){var s=i;s.logLevel==="log"?h.log(s.message):h.warn(s)}})}_processEvent(e,r,n){const{beforeSend:i,sampleRate:s}=this.getOptions();if(!this._isEnabled())return Dt(new U("SDK not enabled, will not capture event.","log"));var o=e.type==="transaction";return!o&&typeof s=="number"&&Math.random()>s?(this.recordDroppedEvent("sample_rate","error"),Dt(new U(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"))):this._prepareEvent(e,r,n).then(a=>{if(a===null)throw this.recordDroppedEvent("event_processor",e.type||"error"),new U("An event processor returned null, will not send event.","log");var u=r.data&&r.data.__sentry__===!0;if(u||o||!i)return a;var l=i(a,r);return lc(l)}).then(a=>{if(a===null)throw this.recordDroppedEvent("before_send",e.type||"error"),new U("`beforeSend` returned `null`, will not send event.","log");var u=n&&n.getSession();!o&&u&&this._updateSessionFromEvent(u,a);var l=a.transaction_info;if(o&&l&&a.transaction!==e.transaction){var f="custom";a.transaction_info={...l,source:f,changes:[...l.changes,{source:f,timestamp:a.timestamp,propagations:l.propagations}]}}return this.sendEvent(a,r),a}).then(null,a=>{throw a instanceof U?a:(this.captureException(a,{data:{__sentry__:!0},originalException:a}),new U(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${a}`))})}_process(e){this._numProcessing+=1,e.then(r=>(this._numProcessing-=1,r),r=>(this._numProcessing-=1,r))}_sendEnvelope(e){this._transport&&this._dsn?this._transport.send(e).then(null,r=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.error("Error while sending event:",r)}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.error("Transport disabled")}_clearOutcomes(){var e=this._outcomes;return this._outcomes={},Object.keys(e).map(r=>{const[n,i]=r.split(":");return{reason:n,category:i,quantity:e[r]}})}}function lc(t){var e="`beforeSend` method has to return `null` or a valid event.";if(xt(t))return t.then(r=>{if(!(ye(r)||r===null))throw new U(e);return r},r=>{throw new U(`beforeSend rejected with ${r}`)});if(!(ye(t)||t===null))throw new U(e);return t}function dc(t,e){e.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?h.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var r=D(),n=r.getScope();n&&n.update(e.initialScope);var i=new t(e);r.bindClient(i)}var _c=30;function rn(t,e,r=ku(t.bufferSize||_c)){let n={};var i=o=>r.drain(o);function s(o){var a=[];if(lr(o,(p,S)=>{var I=dr(S);Lu(n,I)?t.recordDroppedEvent("ratelimit_backoff",I):a.push(p)}),a.length===0)return ce();var u=nt(o[0],a),l=p=>{lr(u,(S,I)=>{t.recordDroppedEvent(p,dr(I))})},f=()=>e({body:Wr(u,t.textEncoder)}).then(p=>{p.statusCode!==void 0&&(p.statusCode<200||p.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn(`Sentry responded with status code ${p.statusCode} to sent event.`),n=Fu(n,p)},p=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.error("Failed while sending event:",p),l("network_error")});return r.add(f).then(p=>p,p=>{if(p instanceof U)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.error("Skipped sending event because buffer is full."),l("queue_overflow"),ce();throw p})}return{send:s,flush:i}}var Qe="7.14.0";let gr;class Ge{constructor(){Ge.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=Ge.id}setupOnce(){gr=Function.prototype.toString,Function.prototype.toString=function(...e){var r=At(this)||this;return gr.apply(r,e)}}}Ge.__initStatic();var fc=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class pe{static __initStatic(){this.id="InboundFilters"}__init(){this.name=pe.id}constructor(e={}){this._options=e,pe.prototype.__init.call(this)}setupOnce(e,r){var n=i=>{var s=r();if(s){var o=s.getIntegration(pe);if(o){var a=s.getClient(),u=a?a.getOptions():{},l=hc(o._options,u);return pc(i,l)?null:i}}return i};n.id=this.name,e(n)}}pe.__initStatic();function hc(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...fc],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function pc(t,e){return e.ignoreInternal&&Ec(t)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn(`Event dropped due to being internal Sentry Error.
Event: ${se(t)}`),!0):mc(t,e.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${se(t)}`),!0):gc(t,e.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${se(t)}.
Url: ${et(t)}`),!0):vc(t,e.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${se(t)}.
Url: ${et(t)}`),!0)}function mc(t,e){return!e||!e.length?!1:yc(t).some(r=>e.some(n=>Ce(r,n)))}function gc(t,e){if(!e||!e.length)return!1;var r=et(t);return r?e.some(n=>Ce(r,n)):!1}function vc(t,e){if(!e||!e.length)return!0;var r=et(t);return r?e.some(n=>Ce(r,n)):!0}function yc(t){if(t.message)return[t.message];if(t.exception)try{const{type:e="",value:r=""}=t.exception.values&&t.exception.values[0]||{};return[`${r}`,`${e}: ${r}`]}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.error(`Cannot extract message for event ${se(t)}`),[]}return[]}function Ec(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function Sc(t=[]){for(let r=t.length-1;r>=0;r--){var e=t[r];if(e&&e.filename!=="<anonymous>"&&e.filename!=="[native code]")return e.filename||null}return null}function et(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?Sc(e):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.error(`Cannot extract url for event ${se(t)}`),null}}function nn(t,e){var r=Ht(t,e),n={type:e&&e.name,value:Dc(e)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function Tc(t,e,r,n){var i=D(),s=i.getClient(),o=s&&s.getOptions().normalizeDepth,a={exception:{values:[{type:Bt(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:`Non-Error ${n?"promise rejection":"exception"} captured with keys: ${tu(e)}`}]},extra:{__serialized__:zr(e,o)}};if(r){var u=Ht(t,r);u.length&&(a.exception.values[0].stacktrace={frames:u})}return a}function gt(t,e){return{exception:{values:[nn(t,e)]}}}function Ht(t,e){var r=e.stacktrace||e.stack||"",n=Rc(e);try{return t(r,n)}catch{}return[]}var bc=/Minified React error #\d+;/i;function Rc(t){if(t){if(typeof t.framesToPop=="number")return t.framesToPop;if(bc.test(t.message))return 1}return 0}function Dc(t){var e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function kc(t,e,r,n){var i=r&&r.syntheticException||void 0,s=qt(t,e,i,n);return Be(s),s.level="error",r&&r.event_id&&(s.event_id=r.event_id),ce(s)}function $c(t,e,r="info",n,i){var s=n&&n.syntheticException||void 0,o=wt(t,e,s,i);return o.level=r,n&&n.event_id&&(o.event_id=n.event_id),ce(o)}function qt(t,e,r,n,i){let s;if(Gr(e)&&e.error){var o=e;return gt(t,o.error)}if(tr(e)||Mo(e)){var a=e;if("stack"in e)s=gt(t,e);else{var u=a.name||(tr(a)?"DOMError":"DOMException"),l=a.message?`${u}: ${a.message}`:u;s=wt(t,l,r,n),bt(s,l)}return"code"in a&&(s.tags={...s.tags,"DOMException.code":`${a.code}`}),s}if(Yr(e))return gt(t,e);if(ye(e)||Bt(e)){var f=e;return s=Tc(t,f,r,i),Be(s,{synthetic:!0}),s}return s=wt(t,e,r,n),bt(s,`${e}`,void 0),Be(s,{synthetic:!0}),s}function wt(t,e,r,n){var i={message:e};if(n&&r){var s=Ht(t,r);s.length&&(i.exception={values:[{value:e,stacktrace:{frames:s}}]})}return i}var sn="Breadcrumbs";class Ae{static __initStatic(){this.id=sn}__init(){this.name=Ae.id}constructor(e){Ae.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){this.options.console&&G("console",wc),this.options.dom&&G("dom",Nc(this.options.dom)),this.options.xhr&&G("xhr",Oc),this.options.fetch&&G("fetch",Ic),this.options.history&&G("history",Uc)}}Ae.__initStatic();function Nc(t){function e(r){let n,i=typeof t=="object"?t.serializeAttribute:void 0;typeof i=="string"&&(i=[i]);try{n=r.event.target?Ue(r.event.target,i):Ue(r.event,i)}catch{n="<unknown>"}n.length!==0&&D().addBreadcrumb({category:`ui.${r.name}`,message:n},{event:r.event,name:r.name,global:r.global})}return e}function wc(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:Nu(t.level),message:nr(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)e.message=`Assertion failed: ${nr(t.args.slice(1)," ")||"console.assert"}`,e.data.arguments=t.args.slice(1);else return;D().addBreadcrumb(e,{input:t.args,level:t.level})}function Oc(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;const{method:e,url:r,status_code:n,body:i}=t.xhr.__sentry_xhr__||{};D().addBreadcrumb({category:"xhr",data:{method:e,url:r,status_code:n},type:"http"},{xhr:t.xhr,input:i});return}}function Ic(t){!t.endTimestamp||t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"||(t.error?D().addBreadcrumb({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args}):D().addBreadcrumb({category:"fetch",data:{...t.fetchData,status_code:t.response.status},type:"http"},{input:t.args,response:t.response}))}function Uc(t){var e=b();let r=t.from,n=t.to;var i=pt(e.location.href);let s=pt(r);var o=pt(n);s.path||(s=i),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),D().addBreadcrumb({category:"navigation",data:{from:r,to:n}})}var vt=b();class Cc extends fe{constructor(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:Qe}],version:Qe},super(e),e.sendClientReports&&vt.document&&vt.document.addEventListener("visibilitychange",()=>{vt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,r){return kc(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",n){return $c(this._options.stackParser,e,r,n,this._options.attachStacktrace)}sendEvent(e,r){var n=this.getIntegrationById(sn);n&&n.options&&n.options.sentry&&D().addBreadcrumb({category:`sentry.${e.type==="transaction"?"transaction":"event"}`,event_id:e.event_id,level:e.level,message:se(e)},{event:e}),super.sendEvent(e,r)}_prepareEvent(e,r,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,n)}_flushOutcomes(){var e=this._clearOutcomes();if(e.length===0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log("Sending outcomes:",e);var r=en(this._dsn,this._options),n=Gu(e,this._options.tunnel&&Yt(this._dsn));try{var i=b(),s=Object.prototype.toString.call(i&&i.navigator)==="[object Navigator]",o=s&&typeof i.navigator.sendBeacon=="function";if(o&&!this._options.transportOptions){var a=i.navigator.sendBeacon.bind(i.navigator);a(r,Wr(n))}else this._sendEnvelope(n)}catch(u){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.error(u)}}}var _e=b();let We;function Bc(){if(We)return We;if(Tt(_e.fetch))return We=_e.fetch.bind(_e);var t=_e.document;let e=_e.fetch;if(t&&typeof t.createElement=="function")try{var r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r);var n=r.contentWindow;n&&n.fetch&&(e=n.fetch),t.head.removeChild(r)}catch(i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return We=e.bind(_e)}function xc(t,e=Bc()){function r(n){var i={body:n.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n.body.length<=65536,...t.fetchOptions};return e(t.url,i).then(s=>({statusCode:s.status,headers:{"x-sentry-rate-limits":s.headers.get("X-Sentry-Rate-Limits"),"retry-after":s.headers.get("Retry-After")}}))}return rn(t,r)}var Yc=4;function Gc(t){function e(r){return new B((n,i)=>{var s=new XMLHttpRequest;s.onerror=i,s.onreadystatechange=()=>{s.readyState===Yc&&n({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",t.url);for(var o in t.headers)Object.prototype.hasOwnProperty.call(t.headers,o)&&s.setRequestHeader(o,t.headers[o]);s.send(r.body)})}return rn(t,e)}var it="?",Ac=30,Pc=40,Mc=50;function Vt(t,e,r,n){var i={filename:t,function:e,in_app:!0};return r!==void 0&&(i.lineno=r),n!==void 0&&(i.colno=n),i}var Lc=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Fc=/\((\S*)(?::(\d+))(?::(\d+))\)/,jc=t=>{var e=Lc.exec(t);if(e){var r=e[2]&&e[2].indexOf("eval")===0;if(r){var n=Fc.exec(e[2]);n&&(e[2]=n[1],e[3]=n[2],e[4]=n[3])}const[i,s]=an(e[1]||it,e[2]);return Vt(s,i,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},Hc=[Ac,jc],qc=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Vc=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,zc=t=>{var e=qc.exec(t);if(e){var r=e[3]&&e[3].indexOf(" > eval")>-1;if(r){var n=Vc.exec(e[3]);n&&(e[1]=e[1]||"eval",e[3]=n[1],e[4]=n[2],e[5]="")}let i=e[3],s=e[1]||it;return[s,i]=an(s,i),Vt(i,s,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},Wc=[Mc,zc],Xc=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Kc=t=>{var e=Xc.exec(t);return e?Vt(e[2],e[1]||it,+e[3],e[4]?+e[4]:void 0):void 0},Jc=[Pc,Kc],Zc=[Hc,Wc,Jc],Qc=Hr(...Zc),an=(t,e)=>{var r=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return r||n?[t.indexOf("@")!==-1?t.split("@")[0]:it,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};let Ot=0;function on(){return Ot>0}function el(){Ot+=1,setTimeout(()=>{Ot-=1})}function Se(t,e={},r){if(typeof t!="function")return t;try{var n=t.__sentry_wrapped__;if(n)return n;if(At(t))return t}catch{return t}var i=function(){var a=Array.prototype.slice.call(arguments);try{r&&typeof r=="function"&&r.apply(this,arguments);var u=a.map(l=>Se(l,e));return t.apply(this,u)}catch(l){throw el(),Zu(f=>{f.addEventProcessor(p=>(e.mechanism&&(bt(p,void 0,void 0),Be(p,e.mechanism)),p.extra={...p.extra,arguments:a},p)),Qr(l)}),l}};try{for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}catch{}Fr(i,t),Gt(t,"__sentry_wrapped__",i);try{var o=Object.getOwnPropertyDescriptor(i,"name");o.configurable&&Object.defineProperty(i,"name",{get(){return t.name}})}catch{}return i}class ee{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=ee.id}__init2(){this._installFunc={onerror:tl,onunhandledrejection:rl}}constructor(e){ee.prototype.__init.call(this),ee.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;var e=this._options;for(var r in e){var n=this._installFunc[r];n&&e[r]&&(sl(r),n(),this._installFunc[r]=void 0)}}}ee.__initStatic();function tl(){G("error",t=>{const[e,r,n]=ln();if(!e.getIntegration(ee))return;const{msg:i,url:s,line:o,column:a,error:u}=t;if(!(on()||u&&u.__sentry_own_request__)){var l=u===void 0&&ue(i)?il(i,s,o,a):un(qt(r,u||i,void 0,n,!1),s,o,a);l.level="error",cn(e,u,l,"onerror")}})}function rl(){G("unhandledrejection",t=>{const[e,r,n]=ln();if(!e.getIntegration(ee))return;let i=t;try{"reason"in t?i=t.reason:"detail"in t&&"reason"in t.detail&&(i=t.detail.reason)}catch{}if(on()||i&&i.__sentry_own_request__)return!0;var s=Ar(i)?nl(i):qt(r,i,void 0,n,!0);s.level="error",cn(e,i,s,"onunhandledrejection")})}function nl(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function il(t,e,r,n){var i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let s=Gr(t)?t.message:t,o="Error";var a=s.match(i);a&&(o=a[1],s=a[2]);var u={exception:{values:[{type:o,value:s}]}};return un(u,e,r,n)}function un(t,e,r,n){var i=t.exception=t.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},u=a.frames=a.frames||[],l=isNaN(parseInt(n,10))?void 0:n,f=isNaN(parseInt(r,10))?void 0:r,p=ue(e)&&e.length>0?e:qo();return u.length===0&&u.push({colno:l,filename:p,function:"?",in_app:!0,lineno:f}),t}function sl(t){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log(`Global Handler attached: ${t}`)}function cn(t,e,r,n){Be(r,{handled:!1,type:n}),t.captureEvent(r,{originalException:e})}function ln(){var t=D(),e=t.getClient(),r=e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[t,r.stackParser,r.attachStacktrace]}var al=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class Pe{static __initStatic(){this.id="TryCatch"}__init(){this.name=Pe.id}constructor(e){Pe.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){var e=b();this._options.setTimeout&&C(e,"setTimeout",vr),this._options.setInterval&&C(e,"setInterval",vr),this._options.requestAnimationFrame&&C(e,"requestAnimationFrame",ol),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&C(XMLHttpRequest.prototype,"send",ul);var r=this._options.eventTarget;if(r){var n=Array.isArray(r)?r:al;n.forEach(cl)}}}Pe.__initStatic();function vr(t){return function(...e){var r=e[0];return e[0]=Se(r,{mechanism:{data:{function:te(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}}function ol(t){return function(e){return t.apply(this,[Se(e,{mechanism:{data:{function:"requestAnimationFrame",handler:te(t)},handled:!0,type:"instrument"}})])}}function ul(t){return function(...e){var r=this,n=["onload","onerror","onprogress","onreadystatechange"];return n.forEach(i=>{i in r&&typeof r[i]=="function"&&C(r,i,function(s){var o={mechanism:{data:{function:i,handler:te(s)},handled:!0,type:"instrument"}},a=At(s);return a&&(o.mechanism.data.handler=te(a)),Se(s,o)})}),t.apply(this,e)}}function cl(t){var e=b(),r=e[t]&&e[t].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(C(r,"addEventListener",function(n){return function(i,s,o){try{typeof s.handleEvent=="function"&&(s.handleEvent=Se(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:te(s),target:t},handled:!0,type:"instrument"}}))}catch{}return n.apply(this,[i,Se(s,{mechanism:{data:{function:"addEventListener",handler:te(s),target:t},handled:!0,type:"instrument"}}),o])}}),C(r,"removeEventListener",function(n){return function(i,s,o){var a=s;try{var u=a&&a.__sentry_wrapped__;u&&n.call(this,i,u,o)}catch{}return n.call(this,i,a,o)}}))}var ll="cause",dl=5;class me{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=me.id}constructor(e={}){me.prototype.__init.call(this),this._key=e.key||ll,this._limit=e.limit||dl}setupOnce(){var e=D().getClient();!e||Lt((r,n)=>{var i=D().getIntegration(me);return i?_l(e.getOptions().stackParser,i._key,i._limit,r,n):r})}}me.__initStatic();function _l(t,e,r,n,i){if(!n.exception||!n.exception.values||!i||!L(i.originalException,Error))return n;var s=dn(t,r,i.originalException,e);return n.exception.values=[...s,...n.exception.values],n}function dn(t,e,r,n,i=[]){if(!L(r[n],Error)||i.length+1>=e)return i;var s=nn(t,r[n]);return dn(t,e,r[n],n,[s,...i])}var re=b();class ge{constructor(){ge.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=ge.id}setupOnce(){Lt(e=>{if(D().getIntegration(ge)){if(!re.navigator&&!re.location&&!re.document)return e;var r=e.request&&e.request.url||re.location&&re.location.href;const{referrer:s}=re.document||{},{userAgent:o}=re.navigator||{};var n={...e.request&&e.request.headers,...s&&{Referer:s},...o&&{"User-Agent":o}},i={...r&&{url:r},headers:n};return{...e,request:i}}return e})}}ge.__initStatic();class ve{constructor(){ve.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=ve.id}setupOnce(e,r){var n=i=>{var s=r().getIntegration(ve);if(s){try{if(fl(i,s._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return s._previousEvent=i}return s._previousEvent=i}return i};n.id=this.name,e(n)}}ve.__initStatic();function fl(t,e){return e?!!(hl(t,e)||pl(t,e)):!1}function hl(t,e){var r=t.message,n=e.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!fn(t,e)||!_n(t,e))}function pl(t,e){var r=yr(e),n=yr(t);return!(!r||!n||r.type!==n.type||r.value!==n.value||!fn(t,e)||!_n(t,e))}function _n(t,e){let r=Er(t),n=Er(e);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let o=0;o<n.length;o++){var i=n[o],s=r[o];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function fn(t,e){let r=t.fingerprint,n=e.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch{return!1}}function yr(t){return t.exception&&t.exception.values&&t.exception.values[0]}function Er(t){var e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}var ml=[new pe,new Ge,new Pe,new Ae,new ee,new me,new ve,new ge];function gl(t={}){if(t.defaultIntegrations===void 0&&(t.defaultIntegrations=ml),t.release===void 0){var e=b();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}t.autoSessionTracking===void 0&&(t.autoSessionTracking=!0),t.sendClientReports===void 0&&(t.sendClientReports=!0);var r={...t,stackParser:nu(t.stackParser||Qc),integrations:uc(t),transport:t.transport||(qr()?xc:Gc)};dc(Cc,r),t.autoSessionTracking&&vl()}function Sr(t){t.startSession({ignoreDuration:!0}),t.captureSession()}function vl(){var t=b(),e=t.document;if(typeof e>"u"){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}var r=D();!r.captureSession||(Sr(r),G("history",({from:n,to:i})=>{n===void 0||n===i||Sr(D())}))}var hn=["activate","mount","update"],yl=/(?:^|[-_])(\w)/g,El=t=>t.replace(yl,e=>e.toUpperCase()).replace(/[-_]/g,""),Sl="<Root>",yt="<Anonymous>",Tl=(t,e)=>{let r="";for(;e;)e%2===1&&(r+=t),e>1&&(t+=t),e>>=1;return r},Oe=(t,e)=>{if(!t)return yt;if(t.$root===t)return Sl;if(!t.$options)return yt;var r=t.$options;let n=r.name||r._componentTag;var i=r.__file;if(!n&&i){var s=i.match(/([^/\\]+)\.vue$/);s&&(n=s[1])}return(n?`<${El(n)}>`:yt)+(i&&e!==!1?` at ${i}`:"")},bl=t=>{if((ae([t,"optionalAccess",i=>i._isVue])||ae([t,"optionalAccess",i=>i.__isVue]))&&ae([t,"optionalAccess",i=>i.$parent])){var e=[];let i=0;for(;t;){if(e.length>0){var r=e[e.length-1];if(r.constructor===t.constructor){i+=1,t=t.$parent;continue}else i>0&&(e[e.length-1]=[r,i],i=0)}e.push(t),t=t.$parent}var n=e.map((s,o)=>`${(o===0?"---> ":Tl(" ",5+o*2))+(Array.isArray(s)?`${Oe(s[0])}... (${s[1]} recursive calls)`:Oe(s))}`).join(`
`);return`

found in

${n}`}return`

(found in ${Oe(t)})`},Rl=(t,e)=>{const{errorHandler:r,warnHandler:n,silent:i}=t.config;t.config.errorHandler=(s,o,a)=>{var u=Oe(o,!1),l=o?bl(o):"",f={componentName:u,lifecycleHook:a,trace:l};if(e.attachProps&&o&&(o.$options&&o.$options.propsData?f.propsData=o.$options.propsData:o.$props&&(f.propsData=o.$props)),setTimeout(()=>{D().withScope(I=>{I.setContext("vue",f),D().captureException(s)})}),typeof r=="function"&&r.call(t,s,o,a),e.logErrors){var p=typeof console<"u",S=`Error in ${a}: "${s&&s.toString()}"`;n?n.call(null,S,o,l):p&&!i&&console.error(`[Vue warn]: ${S}${l}`)}}},Tr="ui.vue",Dl={activate:["activated","deactivated"],create:["beforeCreate","created"],destroy:["beforeDestroy","destroyed"],mount:["beforeMount","mounted"],update:["beforeUpdate","updated"]};function br(){return ae([D,"call",t=>t(),"access",t=>t.getScope,"call",t=>t(),"optionalAccess",t=>t.getTransaction,"call",t=>t()])}function kl(t,e,r){t.$_sentryRootSpanTimer&&clearTimeout(t.$_sentryRootSpanTimer),t.$_sentryRootSpanTimer=setTimeout(()=>{ae([t,"access",n=>n.$root,"optionalAccess",n=>n.$_sentryRootSpan])&&(t.$root.$_sentryRootSpan.finish(e),t.$root.$_sentryRootSpan=void 0)},r)}var $l=t=>{var e=(t.hooks||[]).concat(hn).filter((o,a,u)=>u.indexOf(o)===a),r={};for(var n of e){var i=Dl[n];if(!i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn(`Unknown hook: ${n}`);continue}for(var s of i)r[s]=function(){var o=this.$root===this;if(o){var a=br();a&&(this.$_sentryRootSpan=this.$_sentryRootSpan||a.startChild({description:"Application Render",op:Tr}))}var u=Oe(this,!1),l=Array.isArray(t.trackComponents)?t.trackComponents.indexOf(u)>-1:t.trackComponents;if(!(!o&&!l))if(this.$_sentrySpans=this.$_sentrySpans||{},s==i[0]){var a=ae([this,"access",S=>S.$root,"optionalAccess",S=>S.$_sentryRootSpan])||br();a&&(this.$_sentrySpans[n]=a.startChild({description:`Vue <${u}>`,op:`${Tr}.${n}`}))}else{var f=this.$_sentrySpans[n];if(!f)return;f.finish(),kl(this,Le(),t.timeout)}}}return r},Nl={Vue:b().Vue,attachProps:!0,logErrors:!1,hooks:hn,timeout:2e3,trackComponents:!1,_metadata:{sdk:{name:"sentry.javascript.vue",packages:[{name:"npm:@sentry/vue",version:Qe}],version:Qe}}};function wl(t={}){var e={...Nl,...t};if(gl(e),!e.Vue&&!e.app){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn("Misconfigured SDK. Vue specific errors will not be captured.\nUpdate your `Sentry.init` call with an appropriate config option:\n`app` (Application Instance - Vue 3) or `Vue` (Vue Constructor - Vue 2).");return}if(e.app){var r=Pt(e.app);r.forEach(n=>Rr(n,e))}else e.Vue&&Rr(e.Vue,e)}var Rr=(t,e)=>{Rl(t,e),("tracesSampleRate"in e||"tracesSampler"in e)&&t.mixin($l({...e,...e.tracingOptions}))};function Ol(t){return(e,r=!0,n=!0)=>{t.onError(i=>Qr(i)),t.beforeEach((i,s,o)=>{var a=s.name==null&&s.matched.length===0,u={"routing.instrumentation":"vue-router"},l={params:i.params,query:i.query};let f=i.path,p="url";i.name?(f=i.name.toString(),p="custom"):i.matched[0]&&i.matched[0].path&&(f=i.matched[0].path,p="route"),r&&a&&e({name:f,op:"pageload",tags:u,data:l,metadata:{source:p}}),n&&!a&&e({name:f,op:"navigation",tags:u,data:l,metadata:{source:p}}),o()})}}function zt(t){var e=D().getClient(),r=t||e&&e.getOptions();return!!r&&("tracesSampleRate"in r||"tracesSampler"in r)}function je(t){var e=t||D(),r=e.getScope();return r&&r.getTransaction()}function w(t){return t/1e3}function Il(){G("error",Dr),G("unhandledrejection",Dr)}function Dr(){var t=je();if(t){var e="internal_error";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}class st{__init(){this.spans=[]}constructor(e=1e3){st.prototype.__init.call(this),this._maxlen=e}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class V{__init2(){this.traceId=Z()}__init3(){this.spanId=Z().substring(16)}__init4(){this.startTimestamp=xe()}__init5(){this.tags={}}__init6(){this.data={}}constructor(e){if(V.prototype.__init2.call(this),V.prototype.__init3.call(this),V.prototype.__init4.call(this),V.prototype.__init5.call(this),V.prototype.__init6.call(this),!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}startChild(e){var r=new V({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r),r.transaction=this.transaction,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&r.transaction){var n=e&&e.op||"< unknown op >",i=r.transaction.name||"< unknown name >",s=r.transaction.spanId,o=`[Tracing] Starting '${n}' span on transaction '${i}' (${s}).`;r.transaction.metadata.spanMetadata[r.spanId]={logMessage:o},h.log(o)}return r}setTag(e,r){return this.tags={...this.tags,[e]:r},this}setData(e,r){return this.data={...this.data,[e]:r},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e));var r=Ul(e);return r!=="unknown_error"&&this.setStatus(r),this}isSuccess(){return this.status==="ok"}finish(e){if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:r}=this.transaction.metadata.spanMetadata[this.spanId];r&&h.log(r.replace("Starting","Finishing"))}this.endTimestamp=typeof e=="number"?e:xe()}toTraceparent(){let e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${e}`}toContext(){return J({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=z(e.data,()=>({})),this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=z(e.spanId,()=>this.spanId),this.startTimestamp=z(e.startTimestamp,()=>this.startTimestamp),this.status=e.status,this.tags=z(e.tags,()=>({})),this.traceId=z(e.traceId,()=>this.traceId),this}getTraceContext(){return J({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return J({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}function Ul(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}class Me extends V{__init(){this._measurements={}}__init2(){this._frozenDynamicSamplingContext=void 0}constructor(e,r){super(e),Me.prototype.__init.call(this),Me.prototype.__init2.call(this),this._hub=r||D(),this._name=e.name||"",this.metadata={source:"custom",...e.metadata,spanMetadata:{},changes:[],propagations:0},this._trimEnd=e.trimEnd,this.transaction=this;var n=this.metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}setName(e,r="custom"){(e!==this.name||r!==this.metadata.source)&&this.metadata.changes.push({source:this.metadata.source,timestamp:Le(),propagations:this.metadata.propagations}),this._name=e,this.metadata.source=r}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new st(e)),this.spanRecorder.add(this)}setMeasurement(e,r,n=""){this._measurements[e]={value:r,unit:n}}setMetadata(e){this.metadata={...this.metadata,...e}}finish(e){if(this.endTimestamp===void 0){if(this.name||((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e),this.sampled!==!0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var r=this._hub.getClient();r&&r.recordDroppedEvent("sample_rate","transaction");return}var n=this.spanRecorder?this.spanRecorder.spans.filter(a=>a!==this&&a.endTimestamp):[];this._trimEnd&&n.length>0&&(this.endTimestamp=n.reduce((a,u)=>a.endTimestamp&&u.endTimestamp?a.endTimestamp>u.endTimestamp?a:u:a).endTimestamp);var i=this.metadata,s={contexts:{trace:this.getTraceContext()},spans:n,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...i,dynamicSamplingContext:this.getDynamicSamplingContext()},...i.source&&{transaction_info:{source:i.source,changes:i.changes,propagations:i.propagations}}},o=Object.keys(this._measurements).length>0;return o&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(s)}}toContext(){var e=super.toContext();return J({...e,name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=z(e.name,()=>""),this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;var e=this._hub||D(),r=e&&e.getClient();if(!r)return{};const{environment:n,release:i}=r.getOptions()||{},{publicKey:s}=r.getDsn()||{};var o=this.metadata.sampleRate,a=o!==void 0?o.toString():void 0,u=e.getScope();const{segment:l}=u&&u.getUser()||{};var f=this.metadata.source,p=f&&f!=="url"?this.name:void 0,S=J({environment:n,release:i,transaction:p,user_segment:l,public_key:s,trace_id:this.traceId,sample_rate:a});return S}}var pn=1e3,mn=3e4,Cl=5e3;class Bl extends st{constructor(e,r,n,i){super(i),this._pushActivity=e,this._popActivity=r,this.transactionSpanId=n}add(e){e.spanId!==this.transactionSpanId&&(e.finish=r=>{e.endTimestamp=typeof r=="number"?r:xe(),this._popActivity(e.spanId)},e.endTimestamp===void 0&&this._pushActivity(e.spanId)),super.add(e)}}class he extends Me{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._beforeFinishCallbacks=[]}constructor(e,r,n=pn,i=mn,s=!1){super(e,r),this._idleHub=r,this._idleTimeout=n,this._finalTimeout=i,this._onScope=s,he.prototype.__init.call(this),he.prototype.__init2.call(this),he.prototype.__init3.call(this),he.prototype.__init4.call(this),s&&(kr(r),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),r.configureScope(o=>o.setSpan(this))),this._startIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())},this._finalTimeout)}finish(e=xe()){if(this._finished=!0,this.activities={},this.spanRecorder){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log("[Tracing] finishing IdleTransaction",new Date(e*1e3).toISOString(),this.op);for(var r of this._beforeFinishCallbacks)r(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter(n=>{if(n.spanId===this.spanId)return!0;n.endTimestamp||(n.endTimestamp=e,n.setStatus("cancelled"),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(n,void 0,2)));var i=n.startTimestamp<e;return i||(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(n,void 0,2)),i}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log("[Tracing] No active IdleTransaction");return this._onScope&&kr(this._idleHub),super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){var r=i=>{this._finished||this._pushActivity(i)},n=i=>{this._finished||this._popActivity(i)};this.spanRecorder=new Bl(r,n,this.spanId,e),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}_cancelIdleTimeout(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}_startIdleTimeout(e){this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&this.finish(e)},this._idleTimeout)}_pushActivity(e){this._cancelIdleTimeout(),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log(`[Tracing] popActivity ${e}`),delete this.activities[e],(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var r=xe()+this._idleTimeout/1e3;this._startIdleTimeout(r)}}_beat(){if(!this._finished){var e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}}_pingHeartbeat(){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},Cl)}}function kr(t){var e=t.getScope();if(e){var r=e.getTransaction();r&&e.setSpan(void 0)}}function xl(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function gn(t,e,r){if(!zt(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setMetadata({sampleRate:Number(t.sampled)}),t;let n;return typeof e.tracesSampler=="function"?(n=e.tracesSampler(r),t.setMetadata({sampleRate:Number(n)})):r.parentSampled!==void 0?n=r.parentSampled:(n=e.tracesSampleRate,t.setMetadata({sampleRate:Number(n)})),Yl(n)?n?(t.sampled=Math.random()<n,t.sampled?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log(`[Tracing] starting ${t.op} transaction - ${t.name}`),t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),t)):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function Yl(t){return Pr(t)||!(typeof t=="number"||typeof t=="boolean")?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function Gl(t,e){var r=this.getClient(),n=r&&r.getOptions()||{};let i=new Me(t,this);return i=gn(i,n,{parentSampled:t.parentSampled,transactionContext:t,...e}),i.sampled&&i.initSpanRecorder(n._experiments&&n._experiments.maxSpans),i}function Al(t,e,r,n,i,s){var o=t.getClient(),a=o&&o.getOptions()||{};let u=new he(e,t,r,n,i);return u=gn(u,a,{parentSampled:e.parentSampled,transactionContext:e,...s}),u.sampled&&u.initSpanRecorder(a._experiments&&a._experiments.maxSpans),u}function Pl(){var t=Re();!t.__SENTRY__||(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=Gl),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=xl))}function Ml(){var t=Re();if(!!t.__SENTRY__){var e={mongodb(){var n=K(H,"./integrations/node/mongo");return new n.Mongo},mongoose(){var n=K(H,"./integrations/node/mongo");return new n.Mongo({mongoose:!0})},mysql(){var n=K(H,"./integrations/node/mysql");return new n.Mysql},pg(){var n=K(H,"./integrations/node/postgres");return new n.Postgres}},r=Object.keys(e).filter(n=>!!Tu(n)).map(n=>{try{return e[n]()}catch{return}}).filter(n=>n);r.length>0&&(t.__SENTRY__.integrations=[...t.__SENTRY__.integrations||[],...r])}}function Ll(){Pl(),Mt()&&Ml(),Il()}var Xe=b();function Fl(){Xe&&Xe.document?Xe.document.addEventListener("visibilitychange",()=>{var t=je();if(Xe.document.hidden&&t){var e="cancelled";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${t.op}`),t.status||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.finish()}}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var Wt=(t,e,r)=>{let n;return i=>{e.value>=0&&(i||r)&&(e.delta=e.value-(n||0),(e.delta||n===void 0)&&(n=e.value,t(e)))}},jl=()=>`v2-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Xt=(t,e)=>({name:t,value:z(e,()=>-1),delta:0,entries:[],id:jl()}),at=(t,e)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){if(t==="first-input"&&!("PerformanceEventTiming"in self))return;var r=new PerformanceObserver(n=>n.getEntries().map(e));return r.observe({type:t,buffered:!0}),r}}catch{}},ot=(t,e)=>{var r=n=>{(n.type==="pagehide"||b().document.visibilityState==="hidden")&&(t(n),e&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)},Hl=(t,e)=>{var r=Xt("CLS",0);let n,i=0,s=[];var o=u=>{if(u&&!u.hadRecentInput){var l=s[0],f=s[s.length-1];i&&s.length!==0&&u.startTime-f.startTime<1e3&&u.startTime-l.startTime<5e3?(i+=u.value,s.push(u)):(i=u.value,s=[u]),i>r.value&&(r.value=i,r.entries=s,n&&n())}},a=at("layout-shift",o);a&&(n=Wt(t,r,e),ot(()=>{a.takeRecords().map(o),n(!0)}))};let Je=-1;var ql=()=>b().document.visibilityState==="hidden"?0:1/0,Vl=()=>{ot(({timeStamp:t})=>{Je=t},!0)},Kt=()=>(Je<0&&(Je=ql(),Vl()),{get firstHiddenTime(){return Je}}),zl=(t,e)=>{var r=Kt(),n=Xt("FID");let i;var s=a=>{i&&a.startTime<r.firstHiddenTime&&(n.value=a.processingStart-a.startTime,n.entries.push(a),i(!0))},o=at("first-input",s);o&&(i=Wt(t,n,e),ot(()=>{o.takeRecords().map(s),o.disconnect()},!0))},$r={},Wl=(t,e)=>{var r=Kt(),n=Xt("LCP");let i;var s=u=>{var l=u.startTime;l<r.firstHiddenTime&&(n.value=l,n.entries.push(u)),i&&i()},o=at("largest-contentful-paint",s);if(o){i=Wt(t,n,e);var a=()=>{$r[n.id]||(o.takeRecords().map(s),o.disconnect(),$r[n.id]=!0,i(!0))};["keydown","click"].forEach(u=>{addEventListener(u,a,{once:!0,capture:!0})}),ot(a,!0)}};function Et(t){return typeof t=="number"&&isFinite(t)}function Te(t,{startTimestamp:e,...r}){return e&&t.startTimestamp>e&&(t.startTimestamp=e),t.startChild({startTimestamp:e,...r})}var oe=b();function vn(){return oe&&oe.addEventListener&&oe.performance}let Nr=0,$={},M,Ie;function Xl(t=!1){var e=vn();e&&Ye&&(e.mark&&oe.performance.mark("sentry-tracing-init"),Jl(),Zl(t),Ql())}function Kl(){var t=e=>{var r=je();if(!!r){var n=w(Ye+e.startTime),i=w(e.duration);r.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:n,endTimestamp:n+i})}};at("longtask",t)}function Jl(){Hl(t=>{var e=t.entries.pop();!e||((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log("[Measurements] Adding CLS"),$.cls={value:t.value,unit:""},Ie=e)})}function Zl(t){Wl(e=>{var r=e.entries.pop();!r||((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log("[Measurements] Adding LCP"),$.lcp={value:e.value,unit:"millisecond"},M=r)},t)}function Ql(){zl(t=>{var e=t.entries.pop();if(!!e){var r=w(Ye),n=w(e.startTime);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log("[Measurements] Adding FID"),$.fid={value:t.value,unit:"millisecond"},$["mark.fid"]={value:r+n,unit:"second"}}})}function ed(t){var e=vn();if(!e||!oe.performance.getEntries||!Ye)return;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log("[Tracing] Adding & adjusting spans using Performance API");var r=w(Ye),n=e.getEntries();let i,s;if(n.slice(Nr).forEach(a=>{var u=w(a.startTime),l=w(a.duration);if(!(t.op==="navigation"&&r+u<t.startTimestamp))switch(a.entryType){case"navigation":{rd(t,a,r),i=r+w(a.responseStart),s=r+w(a.requestStart);break}case"mark":case"paint":case"measure":{td(t,a,u,l,r);var f=Kt(),p=a.startTime<f.firstHiddenTime;a.name==="first-paint"&&p&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log("[Measurements] Adding FP"),$.fp={value:a.startTime,unit:"millisecond"}),a.name==="first-contentful-paint"&&p&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log("[Measurements] Adding FCP"),$.fcp={value:a.startTime,unit:"millisecond"});break}case"resource":{var S=a.name.replace(oe.location.origin,"");id(t,a,S,u,l,r);break}}}),Nr=Math.max(n.length-1,0),sd(t),t.op==="pageload"){typeof i=="number"&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log("[Measurements] Adding TTFB"),$.ttfb={value:(i-t.startTimestamp)*1e3,unit:"millisecond"},typeof s=="number"&&s<=i&&($["ttfb.requestTime"]={value:(i-s)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(a=>{if(!(!$[a]||r>=t.startTimestamp)){var u=$[a].value,l=r+w(u),f=Math.abs((l-t.startTimestamp)*1e3),p=f-u;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log(`[Measurements] Normalized ${a} from ${u} to ${f} (${p})`),$[a].value=f}});var o=$["mark.fid"];o&&$.fid&&(Te(t,{description:"first input delay",endTimestamp:o.value+w($.fid.value),op:"web.vitals",startTimestamp:o.value}),delete $["mark.fid"]),"fcp"in $||delete $.cls,Object.keys($).forEach(a=>{t.setMeasurement(a,$[a].value,$[a].unit)}),ad(t)}M=void 0,Ie=void 0,$={}}function td(t,e,r,n,i){var s=i+r,o=s+n;return Te(t,{description:e.name,endTimestamp:o,op:e.entryType,startTimestamp:s}),s}function rd(t,e,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(n=>{Ke(t,e,n,r)}),Ke(t,e,"secureConnection",r,"TLS/SSL","connectEnd"),Ke(t,e,"fetch",r,"cache","domainLookupStart"),Ke(t,e,"domainLookup",r,"DNS"),nd(t,e,r)}function Ke(t,e,r,n,i,s){var o=s?e[s]:e[`${r}End`],a=e[`${r}Start`];!a||!o||Te(t,{op:"browser",description:z(i,()=>r),startTimestamp:n+w(a),endTimestamp:n+w(o)})}function nd(t,e,r){Te(t,{op:"browser",description:"request",startTimestamp:r+w(e.requestStart),endTimestamp:r+w(e.responseEnd)}),Te(t,{op:"browser",description:"response",startTimestamp:r+w(e.responseStart),endTimestamp:r+w(e.responseEnd)})}function id(t,e,r,n,i,s){if(!(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")){var o={};"transferSize"in e&&(o["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(o["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(o["Decoded Body Size"]=e.decodedBodySize);var a=s+n,u=a+i;Te(t,{description:r,endTimestamp:u,op:e.initiatorType?`resource.${e.initiatorType}`:"resource",startTimestamp:a,data:o})}}function sd(t){var e=oe.navigator;if(!!e){var r=e.connection;r&&(r.effectiveType&&t.setTag("effectiveConnectionType",r.effectiveType),r.type&&t.setTag("connectionType",r.type),Et(r.rtt)&&($["connection.rtt"]={value:r.rtt,unit:"millisecond"})),Et(e.deviceMemory)&&t.setTag("deviceMemory",`${e.deviceMemory} GB`),Et(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}}function ad(t){M&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log("[Measurements] Adding LCP Data"),M.element&&t.setTag("lcp.element",Ue(M.element)),M.id&&t.setTag("lcp.id",M.id),M.url&&t.setTag("lcp.url",M.url.trim().slice(0,200)),t.setTag("lcp.size",M.size)),Ie&&Ie.sources&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log("[Measurements] Adding CLS Data"),Ie.sources.forEach((e,r)=>t.setTag(`cls.source.${r+1}`,Ue(e.node))))}var od=["localhost",/^\//],tt={traceFetch:!0,traceXHR:!0,tracingOrigins:od};function ud(t){const{traceFetch:e,traceXHR:r,tracingOrigins:n,shouldCreateSpanForRequest:i}={...tt,...t};var s={},o=l=>{if(s[l])return s[l];var f=n;return s[l]=f.some(p=>Ce(l,p))&&!Ce(l,"sentry_key"),s[l]};let a=o;typeof i=="function"&&(a=l=>o(l)&&i(l));var u={};e&&G("fetch",l=>{cd(l,a,u)}),r&&G("xhr",l=>{dd(l,a,u)})}function cd(t,e,r){if(!(!zt()||!(t.fetchData&&e(t.fetchData.url)))){if(t.endTimestamp){var n=t.fetchData.__span;if(!n)return;var i=r[n];i&&(t.response?i.setHttpStatus(t.response.status):t.error&&i.setStatus("internal_error"),i.finish(),delete r[n]);return}var s=je();if(s){var i=s.startChild({data:{...t.fetchData,type:"fetch"},description:`${t.fetchData.method} ${t.fetchData.url}`,op:"http.client"});t.fetchData.__span=i.spanId,r[i.spanId]=i;var o=t.args[0];t.args[1]=t.args[1]||{};var a=t.args[1];a.headers=ld(o,s.getDynamicSamplingContext(),i,a),s.metadata.propagations+=1}}}function ld(t,e,r,n){var i=Kr(e),s=r.toTraceparent(),o=typeof Request<"u"&&L(t,Request)?t.headers:n.headers;if(o)if(typeof Headers<"u"&&L(o,Headers)){var a=new Headers(o);return a.append("sentry-trace",s),i&&a.append(Nt,i),a}else if(Array.isArray(o)){var a=[...o,["sentry-trace",s]];return i&&a.push([Nt,i]),a}else{var u="baggage"in o?o.baggage:void 0,l=[];return Array.isArray(u)?l.push(...u):u&&l.push(u),i&&l.push(i),{...o,"sentry-trace":s,baggage:l.length>0?l.join(","):void 0}}else return{"sentry-trace":s,baggage:i}}function dd(t,e,r){if(!(!zt()||t.xhr&&t.xhr.__sentry_own_request__||!(t.xhr&&t.xhr.__sentry_xhr__&&e(t.xhr.__sentry_xhr__.url)))){var n=t.xhr.__sentry_xhr__;if(t.endTimestamp){var i=t.xhr.__sentry_xhr_span_id__;if(!i)return;var s=r[i];s&&(s.setHttpStatus(n.status_code),s.finish(),delete r[i]);return}var o=je();if(o){var s=o.startChild({data:{...n.data,type:"xhr",method:n.method,url:n.url},description:`${n.method} ${n.url}`,op:"http.client"});if(t.xhr.__sentry_xhr_span_id__=s.spanId,r[t.xhr.__sentry_xhr_span_id__]=s,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",s.toTraceparent());var a=o.getDynamicSamplingContext(),u=Kr(a);u&&t.xhr.setRequestHeader(Nt,u),o.metadata.propagations+=1}catch{}}}}var $e=b();function _d(t,e=!0,r=!0){if(!$e||!$e.location){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn("Could not initialize routing instrumentation due to invalid location");return}let n=$e.location.href,i;e&&(i=t({name:$e.location.pathname,op:"pageload",metadata:{source:"url"}})),r&&G("history",({to:s,from:o})=>{if(o===void 0&&n&&n.indexOf(s)!==-1){n=void 0;return}o!==s&&(n=void 0,i&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log(`[Tracing] Finishing current transaction with op: ${i.op}`),i.finish()),i=t({name:$e.location.pathname,op:"navigation",metadata:{source:"url"}}))})}var fd="BrowserTracing",hd={idleTimeout:pn,finalTimeout:mn,markBackgroundTransactions:!0,routingInstrumentation:_d,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,_experiments:{enableLongTask:!0},...tt};class Jt{__init(){this.name=fd}constructor(e){Jt.prototype.__init.call(this);let r=tt.tracingOrigins;e&&(e.tracingOrigins&&Array.isArray(e.tracingOrigins)?r=e.tracingOrigins:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&(this._emitOptionsWarning=!0)),this.options={...hd,...e,tracingOrigins:r};const{_metricOptions:n}=this.options;Xl(n&&n._reportAllChanges),ae([this,"access",i=>i.options,"access",i=>i._experiments,"optionalAccess",i=>i.enableLongTask])&&Kl()}setupOnce(e,r){this._getCurrentHub=r,this._emitOptionsWarning&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn(`[Tracing] We added a reasonable default for you: ${tt.tracingOrigins}`));const{routingInstrumentation:n,startTransactionOnLocationChange:i,startTransactionOnPageLoad:s,markBackgroundTransactions:o,traceFetch:a,traceXHR:u,tracingOrigins:l,shouldCreateSpanForRequest:f}=this.options;n(p=>this._createRouteTransaction(p),s,i),o&&Fl(),ud({traceFetch:a,traceXHR:u,tracingOrigins:l,shouldCreateSpanForRequest:f})}_createRouteTransaction(e){if(!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`);return}const{beforeNavigate:r,idleTimeout:n,finalTimeout:i}=this.options;var s=e.op==="pageload",o=s?wr("sentry-trace"):null,a=s?wr("baggage"):null,u=o?Uu(o):void 0,l=a?qu(a):void 0,f={...e,...u,metadata:{...e.metadata,dynamicSamplingContext:u&&!l?{}:l},trimEnd:!0},p=typeof r=="function"?r(f):f,S=p===void 0?{...f,sampled:!1}:p;S.metadata=S.name!==f.name?{...S.metadata,source:"custom"}:S.metadata,S.sampled===!1&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log(`[Tracing] Will not send ${S.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&h.log(`[Tracing] Starting ${S.op} transaction on scope`);var I=this._getCurrentHub();const{location:le}=b();var g=Al(I,S,n,i,!0,{location:le});return g.registerBeforeFinishCallback(x=>{ed(x),x.setTag("sentry_reportAllChanges",Boolean(this.options._metricOptions&&this.options._metricOptions._reportAllChanges))}),g}}function wr(t){var e=Vo(`meta[name=${t}]`);return e?e.getAttribute("content"):null}(typeof __SENTRY_TRACING__>"u"||__SENTRY_TRACING__)&&Ll();const ut=Rn(On);wl({app:ut,dsn:"https://4e78356c499d457d9ad435abf93628d4@o1431023.ingest.sentry.io/6781986",integrations:[new Jt({routingInstrumentation:Ol(Cr),tracingOrigins:["localhost","signup.bike",/^\//]})],environment:"production",tracesSampleRate:1});ut.use(Dn,kn);ut.use(Cr);ut.mount("#app")});export default pd();
