{"version":3,"file":"main-7400860a.js","sources":["../../src/App.vue","../../src/components/FbShareComponent.vue","../../src/components/EventDetailsComponent.vue","../../src/components/MainNav.vue","../../src/components/LandingComponent.vue","../../src/components/results/ResultRow.vue","../../src/components/results/SeriesNavBar.vue","../../src/components/results/RaceResult.vue","../../src/components/results/SeriesResultNavComponent.vue","../../src/components/results/ResultComponent.vue","../../src/components/results/SeriesResultRow.vue","../../src/components/results/SeriesResultComponent.vue","../../src/components/EventCategoryScheduleComponent.vue","../../src/components/registration/RaceReg.vue","../../src/components/registration/RaceRegConfirm.vue","../../src/components/results/SeriesResult.vue","../../src/components/results/TeamCompDetailRow.vue","../../src/components/results/TeamComp.vue","../../src/components/results/TeamCompComponent.vue","../../src/components/registration/Roster.vue","../../src/router/index.js","../../src/main.js"],"sourcesContent":["<script>\nimport _ from 'lodash';\nimport { RouterView } from 'vue-router'\n\nlet dataUrl = '/api/races/'\nif(import.meta.env.DEV){\n    dataUrl = \"http://localhost:3000\"+dataUrl;\n}\n\nexport default {\n  components: {\n    RouterView,\n    \n  },\n  data() {\n    return {\n  \traces: [],\n    }\n  },\n  mounted: function(){\n    // if(window.location.hash == '#/'){\n    //   this.$router.push(`/series/pcrs_2022`)\n    // }\n// fetch(dataUrl)\n    //     .then(response => response.json())\n    //     .then(data => {\n    //         this.races = data;\n    //         console.log('hash:', window.location.hash)\n            \n    //     })\n\t},\n  computed : {\n      // raceMeta() {\n      //     return this.races.find((obj)=>obj.raceid === this.$route.params.raceid);\n      // }\n  }\n}\n</script>\n\n<template>\n<div class='container'>\n    <RouterView />\n    </div>\n</template>\n\n<style>\n@import \"./assets/base.css\";\n\n#app {\n  max-width: 1280px;\n  margin: 0 auto;\n  padding: 2rem;\n\n  font-weight: normal;\n}\n</style>\n","<script>\nexport default {\n    props: ['url'],\n    created(){\n        (function(d, s, id) {\n        var js, fjs = d.getElementsByTagName(s)[0];\n        if (d.getElementById(id)) return;\n        js = d.createElement(s); js.id = id;\n        js.src = \"https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v15.0\";\n        fjs.parentNode.insertBefore(js, fjs);\n        }(document, 'script', 'facebook-jssdk'));\n    },\n    mounted () {\n        if(window.FB){\n            FB.XFBML.parse()\n        }\n    }\n}\n</script>\n\n<template>\n    <div id=\"1\">\n        <div id=\"fb-root\"></div>\n        <div class=\"fb-share-button\" \n                :data-href=\"this.url\"\n                data-layout=\"button\" \n                data-size=\"large\"\n                >\n        </div>\n    </div>    \n</template>","<script>\nimport { RouterLink } from \"vue-router\";\nimport FbShareComponent from './FbShareComponent.vue';\nimport dayjs from '@/lib/dayjs';\n\nexport default {\n  components: { FbShareComponent },\n  props: [\"details\", \"raceid\", \"compactMode\", \"series\", \"seriesData\", \"seriesRaceCount\", \"hideRosterButton\"],\n  data() {\n    return {\n    };\n  },\n  computed: {\n    seriesDisplayText() {\n      if (!this.seriesData) {\n        return \"Part of a Series\";\n      }\n      const name = this.seriesData.displayName || this.seriesData.name || \"Series\";\n      const year = this.seriesData.year ? ` ${this.seriesData.year}` : \"\";\n      return `${name}${year}`;\n    },\n    isRosterPage() {\n      return this.$route.path.includes('/roster/')\n    },\n    isRegPage() {\n      return this.$route.name === 'register'\n    },\n    regDisabled() {\n      return dayjs().isBefore(this.details.regOpenDate)\n    },\n    regEnded() {\n      return dayjs().isAfter(this.details.regCloseDate)\n    },\n    regTimeToOpen() {\n      return dayjs().to(this.details.regOpenDate)\n    },\n    regTimeToClose() {\n      return dayjs().to(this.details.regCloseDate)\n    },\n    imgWidth() {\n      if (this.compactMode) {\n        return 150;\n      }\n      return 225\n    }\n  },\n};\n</script>\n\n<template>\n  <div class=\"container mb-4\">\n    <img v-if=\"isRegPage\" class=\"img-fluid\" :src=\"details.headerPhoto\" alt=\"\">\n    <div class=\"row p-1 px-3 pb-0 pe-lg-0 pt-lg-3 align-items-center rounded-3 border shadow\">\n      <div v-if=\"details.logoUrl\" class=\"col-md-3 px-3\">\n        <div class=\"d-flex justify-content-center\">\n        <a :href=\"details.homepageUrl\">\n          <img class=\"pb-1\" :src=\"details.logoUrl\" alt=\"\" :width=\"imgWidth\">\n        </a>\n      </div>\n      </div>\n      <div class=\"col-md-7 p-3 p-lg-3 pt-lg-3\">\n        <div class=\"row\">\n          <div class=\"col col-md-auto\">\n            <h3 class=\"display-7 fw-bold lh-3\">{{ details.name }}</h3>\n            <p v-if=\"!compactMode\" class=\"lead mb-0 fw-bold\">{{ details.tagline }}</p>\n          </div>\n        </div>\n        <p class=\"display-9\">{{ details.formattedDates }}</p>\n        <div v-if=\"series && seriesRaceCount > 1\" class=\"mb-2\">\n          <RouterLink :to=\"{ name: 'racesBySeries', params: { seriesid: series } }\" class=\"badge bg-primary text-decoration-none\">\n            <i class=\"bi bi-collection\"></i> {{ seriesDisplayText }}\n          </RouterLink>\n        </div>\n        <div v-if=\"details.homepageUrl && !compactMode\" class=\"d-grid gap-2 d-md-flex justify-content-md mb-4 mb-lg-3\">\n          <div class=\"col-md-auto\">\n            <a class=\"btn btn-sm btn-success\" :href=\"details.homepageUrl\">Event Homepage</a>\n          </div>\n          <div class=\"col col-lg-2\">\n            <div v-if=\"details.facebookShare\">\n              <FbShareComponent :url=\"details.homepageUrl\" />\n            </div>\n          </div>\n        </div>\n\n        <div v-if=\"regDisabled\" class=\"fw-bold\">\n          Registration will open {{ regTimeToOpen }}\n        </div>\n        <div v-else class=\"row\">\n          <div v-if=\"details?.regCloseDate\" class=\"fw-bold\">\n            <div v-if=\"regEnded\" class=\"fw-bold\">\n              Registration is closed\n            </div>\n            <div v-else class=\"fw-bold\">\n              Registration will close {{ regTimeToClose }}\n            </div>\n          </div>\n          <div class=\"col col-md-auto\" v-if=\"!isRegPage && !regEnded\">\n            <RouterLink class=\"btn btn-success\" :to=\"{ name: 'register', params: { raceid } }\">Register</RouterLink>\n          </div>\n          <div class=\"col\" v-if=\"!isRosterPage && !hideRosterButton\">\n            <RouterLink class=\"btn btn-secondary\" :to=\"{ name: 'roster', params: { raceid } }\">See who is signed up\n            </RouterLink>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>","<script>\nimport dropdown from \"bootstrap/js/dist/dropdown\";\nimport { RouterLink } from \"vue-router\";\n\nexport default {\n  props: [\"races\"],\n  data() {\n    return {\n      count: 0,\n      loggedIn:false,\n    };\n  },\n  computed: {},\n};\n</script>\n\n<template>\n  <nav class=\"navbar navbar-expand-md navbar-dark bg-dark fixed-top\">\n    <div class=\"container-fluid\">\n      <a class=\"navbar-brand\" href=\"/\">Signup.bike</a>\n      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarsExample04\"\n        aria-controls=\"navbarsExample04\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n\n      <div class=\"collapse navbar-collapse\" id=\"navbarsExample04\">\n        <ul class=\"navbar-nav me-auto mb-4 mb-md-0 px-5\">\n          <li class=\"nav-item\">\n            <RouterLink class=\"nav-link\" :class=\"{ active: $route.name == 'home' }\" :to=\"{ name: 'home'}\">\n              Upcoming Races\n            </RouterLink>\n          </li>\n          <!-- <li class=\"nav-item\">\n            <RouterLink class=\"nav-link\" :class=\"{ active: $route.name == 'races' }\" :to=\"{ name: 'results'}\">\n              Results\n            </RouterLink>\n          </li> -->\n          <!-- <li class=\"nav-item\">\n            <a class=\"nav-link disabled\">Disabled</a>\n          </li> -->\n          <!-- <li class=\"nav-item dropdown\">\n            <a class=\"nav-link dropdown-toggle\" href=\"#\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">Dropdown</a>\n            <ul class=\"dropdown-menu\">\n              <li><a class=\"dropdown-item\" href=\"#\">Action</a></li>\n              <li><a class=\"dropdown-item\" href=\"#\">Another action</a></li>\n              <li><a class=\"dropdown-item\" href=\"#\">Something else here</a></li>\n            </ul>\n          </li> -->\n        </ul>\n        <button v-if=\"loggedIn\" type=\"button\" class=\"btn btn-secondary\" @click=\"$emit('logout')\">Logout</button>\n      </div>\n    </div>\n  </nav>\n</template>\n<style scoped>\n.nav-scroller {\n  position: relative;\n  z-index: 2;\n  height: 2.75rem;\n  overflow-y: hidden;\n}\n\n.nav-scroller .nav {\n  display: flex;\n  flex-wrap: nowrap;\n  padding-bottom: 1rem;\n  margin-top: -1px;\n  overflow-x: auto;\n  text-align: center;\n  white-space: nowrap;\n  -webkit-overflow-scrolling: touch;\n}\n</style>","<script>\nimport _ from \"lodash\";\nimport dropdown from \"bootstrap/js/dist/dropdown\";\nimport { RouterLink, RouterView } from \"vue-router\";\nimport request from \"@/lib/ApiClient\";\nimport EventDetailsComponent from \"./EventDetailsComponent.vue\";\nimport MainNav from \"@/components/MainNav.vue\";\nimport dayjs from '@/lib/dayjs';\n\nexport default {\n  emits: ['logout'],\n  components: {\n    MainNav,\n    RouterView,\n    EventDetailsComponent\n  },\n  data() {\n    return {\n      count: 0,\n      races: [],\n      loading: true,\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.query,\n      () => {\n        this.fetchData();\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    fetchData() {\n      this.error = null;\n      this.loading = true;\n      console.log('fetch plz')\n      if (this.$route) {\n       return request(`/api/races/`)\n          .then((response) => {\n            this.races = response.data;\n            this.loading = false;\n            console.log(\"fetched\")\n            console.log(this.races);\n            \n          })\n          .catch((err) => {\n            this.loading = false;\n            this.error = err.toString();\n            console.error(err);\n          });\n      }\n    },\n    shouldHideRosterButton(race) {\n      // Hide if explicitly set OR if there are no registered racers\n      // Note: entryCount may not be available in the list endpoint\n      return race.hideRosterButton || (race.entryCount === 0);\n    }\n  },\n  computed: {\n    isFilteredBySeries() {\n      return !!this.$route.params.seriesid;\n    },\n    filteredSeriesName() {\n      if (!this.isFilteredBySeries) return null;\n      // Get the series name from the first race in the filtered list\n      const firstRace = this.displayRaces[0];\n      return firstRace?.seriesData?.displayName || firstRace?.seriesData?.name || 'this series';\n    },\n    displayRaces(){\n      let series = {};\n      let filtered = _.filter(this.races, (raceInfo)=>{\n        \n        // If filtering by series ID from route params, only show races in that series\n        if(this.$route.params.seriesid){\n          if(raceInfo.series !== this.$route.params.seriesid){\n            return false;\n          }\n        } else {\n          // Original logic: hide duplicate series races on main landing page\n          if(raceInfo.series && series[raceInfo.series] && !raceInfo.disableSeriesRedirect){\n            // console.log(\"exclude \"+raceInfo.series)\n            return false;\n          }\n        }\n        \n        let isInFuture =  dayjs().isBefore(dayjs(raceInfo.eventDate));\n         console.log('isInFuture' + isInFuture + \" \"+raceInfo.displayName)\n        if(raceInfo.isTestData && !this.$route.query.test){\n          return false;\n        }\n        if(!isInFuture && !this.$route.query.past){\n          return false;\n        }\n        // console.log(\"show \"+raceInfo.raceid)\n        if(typeof raceInfo.series === 'string' && raceInfo.series.length > 1){\n            console.log(\"set as shown \"+raceInfo.raceid)\n            series[raceInfo.series] = true;\n          }\n        return true;\n      })\n      // return filtered;\n      // order by upcoming race date?\n      return _.sortBy(filtered, [function(o) { return dayjs(o.eventDate); }]);\n    },\n    seriesRaceCounts(){\n      // Count how many races from each series are visible\n      const counts = {};\n      this.displayRaces.forEach(race => {\n        if(race.series){\n          counts[race.series] = (counts[race.series] || 0) + 1;\n        }\n      });\n      return counts;\n    },\n    loggedIn(){\n      return false;\n    }\n  },\n  \n};\n</script>\n\n<template>\n  <MainNav></MainNav>\n\n  <div v-if=\"loading\">\n    Plz wait, loading...\n  </div>\n  <div v-else>\n    <div v-if=\"isFilteredBySeries\" class=\"alert alert-info d-flex justify-content-between align-items-center mb-4\" role=\"alert\">\n      <div>\n        <strong>Viewing races in {{ filteredSeriesName }}</strong>\n      </div>\n      <RouterLink to=\"/\" class=\"btn btn-sm btn-outline-primary\">\n        View All Upcoming Races\n      </RouterLink>\n    </div>\n    <div v-for=\"(race, idx) in displayRaces\" :key=\"idx\">\n      <EventDetailsComponent :details=\"race.eventDetails\" :raceid=\"race.raceid\" :series=\"race.series\" :series-data=\"race.seriesData\" :series-race-count=\"seriesRaceCounts[race.series]\" :hideRosterButton=\"shouldHideRosterButton(race)\" compact-mode=\"true\"/>\n\n    </div>\n  </div>\n</template>\n<style scoped>\nbody {\n  font-size: .875rem;\n}\n\n.nav-scroller {\n  position: relative;\n  z-index: 2;\n  height: 2.75rem;\n  overflow-y: hidden;\n}\n\n.nav-scroller .nav {\n  display: flex;\n  flex-wrap: nowrap;\n  padding-bottom: 1rem;\n  margin-top: -1px;\n  overflow-x: auto;\n  text-align: center;\n  white-space: nowrap;\n  -webkit-overflow-scrolling: touch;\n}\n\n/*\n * Navbar\n */\n\nbody {\n  min-height: 75rem;\n  padding-top: 4.5rem;\n}\n</style>","<script>\n\nlet msToTimeString = (ms, showMillis = false)=>{\n    const d = new Date(Date.UTC(0,0,0,0,0,0,ms)),\n    parts = [\n        d.getUTCMinutes(),\n        d.getUTCSeconds()\n    ]\n    let minSecMillis=parts.map(s => String(s).padStart(2,'0')).join(':');\n    if(showMillis){\n      minSecMillis = minSecMillis.concat('.'+`${d.getUTCMilliseconds()}`.padStart(3,'0'));\n    }\n    if(d.getUTCHours()){\n        minSecMillis = d.getUTCHours() + \":\" +minSecMillis;\n    }\n    return minSecMillis;\n}\n\nexport default {\n  props: [\"data\",\"Pos\",\"totLaps\", \"showMillis\"],\n  data() {\n    return {\n      count: 0\n    }\n  },\n  methods:{\n    msToTimeString(millis){\n      return msToTimeString(millis, this.showMillis);\n    }\n  },\n\n  computed:{\n      incompleteLaps(){\n          let filler = new Array(this.totLaps - this.data.laps.length);\n          return filler.fill('-') \n      },\n      formattedTime(){\n          return msToTimeString(this.data.duration, this.showMillis);\n      },\n      trailingTime(){\n        if(!this.data.back){\n          return \"-\";\n        }\n        if(this.showMillis){\n          return msToTimeString(this.data.backMs, true);\n        }else{\n          return this.data.back;\n        }\n      }\n  }\n}\n</script>\n\n<template>\n  <td>{{Pos + 1}}</td>\n  <td>{{data.Bib}}</td>\n  <td>{{data.Name}}</td>\n  <!-- <td>{{data.Age}}</td> -->\n  <td>{{data.Sponsor}}</td>\n  <td v-for=\"(lap, idx) in data.laps\" :key=\"idx\">{{msToTimeString(lap.duration)}}</td>\n  <template v-if=\"totLaps-data.laps.length > 0\">\n      <td v-for=\"fill in incompleteLaps\">{{fill}}</td>\n  </template>\n  <td>{{formattedTime}}</td>\n  <td>{{trailingTime}}</td>\n\n</template>","<script>\nimport dropdown from \"bootstrap/js/dist/dropdown\";\nimport { RouterLink } from \"vue-router\";\nimport request from \"@/lib/ApiClient\";\n\n\nexport default {\n  props:['series'],\n  data() {\n    return {\n      count: 0,\n      seriesData:{}\n    };\n  },\n  created() {\n    this.$watch(()=>this.series, function () {\n      if(!this.series){\n        return;\n      }\n    let dataUrl = `/api/series/${this.series}/races`\n    request(dataUrl)\n      .then(({data}) => {\n        this.seriesData = data;\n      });\n  })\n  },\n  computed: {\n    isPcrs(){\n      return this.series && this.series.indexOf('pcrs') > -1;\n    }\n  },\n};\n</script>\n\n<template>\n  <nav id=\"top\" class=\"navbar navbar-light bg-light\">\n    <div class=\"container-fluid\">\n      <div class=\"navbar-brand\" href=\"#\">{{seriesData.displayName}}</div>\n\n      <div class=\"nav-item\" v-if='seriesData.homepage'>\n        <a\n          class=\"nav-link active\"\n          aria-current=\"page\"\n          :href=\"seriesData.homepage.url\"\n          >{{seriesData.homepage.linkString}}</a\n        >\n      </div>\n    </div>\n  </nav>\n  <p class=\"mt-3\">View Weekly lap times:</p>\n  <ul class=\"nav nav-tabs mt-1 justify-content-center\">\n    <li v-for=\"race in seriesData.races\" :key=\"race.raceid\" class=\"nav-item\">\n      <RouterLink\n        class=\"nav-link\"\n        :class=\"{ active: $route.params.raceid === race.raceid }\"\n        :to=\"`/race/${race.raceid}`\"\n        >{{ race.displayName + ` - ${race.formattedStartDate}` }}</RouterLink\n      >\n    </li>\n    <li class=\"nav-item\" v-if='isPcrs'>\n      <RouterLink\n        class=\"nav-link\"\n        :class=\"{ active: $route.path == '/series/pcrs_2022' }\"\n        :to=\"`/series/pcrs_2022`\"\n        >Series Standings</RouterLink\n      >\n    </li>\n    <li class=\"nav-item\" v-if='isPcrs'>\n      <RouterLink\n        class=\"nav-link\"\n        :class=\"{ active: $route.path == '/series/grom/pcrs_2022' }\"\n        :to=\"`/series/grom/pcrs_2022`\"\n        >Grom Series Standings</RouterLink\n      >\n    </li>\n    <li class=\"nav-item\" v-if='isPcrs'>\n      <RouterLink\n        class=\"nav-link\"\n        :class=\"{ active: $route.path == '/teamcomp/pcrs_2022' }\"\n        :to=\"`/teamcomp/pcrs_2022`\"\n        >Team Competition</RouterLink\n      >\n    </li>\n  </ul>\n</template>","<script>\nimport _ from \"lodash\";\nimport ResultRow from \"./ResultRow.vue\";\nimport SeriesNavBar from \"./SeriesNavBar.vue\";\nimport request from \"@/lib/ApiClient\";\n\nexport default {\n  components: {\n    ResultRow,\n    SeriesNavBar,\n  },\n  data() {\n    return {\n      categories: {},\n      loading: false,\n      error: null,\n      formattedStartDate:\"\",\n      series:null,\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        this.fetchData();\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    scrollMeTo(refName) {\n      var element = document.querySelector(`#${refName}`);\n      element.scrollIntoView({ behavior: \"smooth\" });\n    },\n    fetchData() {\n      this.error = null;\n      this.loading = true;\n      if (this.$route.params.raceid) {\n        let dataUrl = `/api/races/results/${this.$route.params.raceid}`;\n        request(dataUrl)\n          .then(({data}) => {\n            this.formattedStartDate = data.raceMeta.formattedStartDate;\n            this.series = data.series;\n            this.loading = false;\n            this.categories = data.categories;\n          })\n          .catch((err) => {\n            console.error(err);\n            this.categories = {};\n            this.error = err.toString();\n          });\n      }\n    },\n  },\n  computed: {\n    sortedCats() {\n      return _.orderBy(this.categories, \"disporder\");\n    },\n    expertCats(){\n        return _.filter(this.sortedCats, {laps:4});\n    },\n    sportCats(){\n        return _.filter(this.sortedCats, {laps:3});\n    },\n    beginnerCats(){\n        return _.filter(this.sortedCats, {laps:2});\n    },\n    gromCats(){\n          return _.filter(this.categories, (cat)=>cat.id.indexOf('grom')>-1);\n    },\n    haveResults() {\n      if (!this.categories) {\n        return false;\n      }\n      return Object.keys(this.categories).length > 0;\n    },\n  },\n};\n</script>\n\n<template>\n<SeriesNavBar :series=\"series\" />\n    <div v-if=\"formattedStartDate\" class=\"text-center\">\n        <h2 class=\"mt-5\">Race Results - {{formattedStartDate}}</h2>\n    </div>\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n\n    <div v-if=\"haveResults\">\n      <div class=\"container text-center mt-5\">\n       <ul class=\"list-inline\">\n          <template v-for=\"(cat, key) in expertCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n        <ul class=\"list-inline\">\n          <template v-for=\"(cat, key) in sportCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n        <ul class=\"list-inline\">\n          <template v-for=\"(cat, key) in beginnerCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n        <ul class=\"list-inline\">\n          <template v-for=\"(cat, key) in gromCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n      </div>\n      <div class=\"container-fluid\">\n        <div v-for=\"(cat, key) in sortedCats\" :key=\"cat.id\" class=\"mt-5\">\n          <h3 :id=\"cat.id\">{{ cat.catdispname }}</h3>\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th\n                  v-for=\"(columnName, index) in cat.columns\"\n                  scope=\"col\"\n                  :key=\"index\"\n                >\n                  {{ columnName }}\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(racer, idx) in cat.results\" :key=\"idx\">\n                <ResultRow :totLaps=\"cat.laps\" :Pos=\"idx\" :data=\"racer\" />\n              </tr>\n            </tbody>\n          </table>\n          <a role=\"button\" @click=\"scrollMeTo('top')\" class=\"link-primary\"\n            >Back to Top</a\n          >\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"text-center\">\n        <h2 class=\"mt-5\">No results yet...</h2>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\n\ntable.table {\n--bs-table-hover-bg: #76c8ff;\n}\n</style>\n","<script>\nimport dropdown from \"bootstrap/js/dist/dropdown\";\nimport { RouterLink } from \"vue-router\";\nimport request from \"@/lib/ApiClient\";\n\n\nexport default {\n  props:['series','displayName'],\n  data() {\n    return {\n      count: 0,\n      seriesData:{},\n      races:[]\n    };\n  },\n  created() {\n    this.$watch(()=>this.series, function () {\n      if(!this.series){\n        return;\n      }\n    let dataUrl = `/api/results/?series=${this.series}`\n    request(dataUrl)\n      .then(({data}) => {\n        this.races = data;\n        return request(`api/results/series/?series=${this.series}`)\n      })\n      .then(({data})=>{\n        this.seriesData = data;\n      })\n  })\n  },\n  computed: {\n    isPcrs(){\n      return this.series && this.series.indexOf('pcrs') > -1;\n    },\n    hasTeamComp(){\n      return this.seriesData?.teamCompDates?.length > 1;\n    },\n    headerName(){\n      return this.displayName || this.seriesData?.eventName\n    },\n    isSeriesResultPage(){\n      return this.$route.name =='seriesResults'\n    },\n  },\n};\n</script>\n\n<template>\n  <nav v-if=\"headerName\" id=\"top\" class=\"navbar navbar-light bg-light\">\n    <div class=\"container-fluid\">\n      <div class=\"navbar-brand h2\" href=\"#\">{{headerName}}</div>\n\n      <!-- <div class=\"nav-item\" v-if='seriesData.homepage'>\n        <a\n          class=\"nav-link active\"\n          aria-current=\"page\"\n          :href=\"seriesData.homepage.url\"\n          >{{seriesData.homepage.linkString}}</a\n        >\n      </div> -->\n    </div>\n  </nav>\n  <div v-if=\"races.length > 1\">\n  <p class=\"mt-3\">View Individual Event Times:</p>\n  <ul class=\"nav nav-tabs mt-1 justify-content-center\">\n    <li v-for=\"race in races\" :key=\"race.raceid\" class=\"nav-item\">\n      <RouterLink\n        class=\"nav-link\"\n        :class=\"{ active: $route.params.id === race.raceid && $route.name =='raceResult' }\"\n        :to=\"`/result/${race.raceid}`\"\n        >{{ race.eventName + ` - ${race.formattedStartDate}` }}</RouterLink\n      >\n    </li>\n    <li v-if=\"!isSeriesResultPage\">\n      <RouterLink\n        class=\"nav-link\"\n        :class=\"{ active: $route.name == 'seriesResults' }\"\n        :to=\"{ name: 'seriesResults', params: { seriesid: series }}\"\n        >Overall Standings</RouterLink\n      ></li>\n    <li v-if=\"hasTeamComp\">\n      <RouterLink\n        class=\"nav-link\"\n        :class=\"{ active: $route.name == 'teamCompResults' }\"\n        :to=\"{ name: 'teamCompResults', params: { seriesid: series }}\"\n        >Team Competition Standings</RouterLink\n      ></li>\n  </ul>\n</div>\n</template>","<script>\nimport _ from \"lodash\";\nimport ResultRow from \"./ResultRow.vue\";\nimport SeriesNavBar from \"./SeriesResultNavComponent.vue\";\nimport request from \"@/lib/ApiClient\";\n\n\n\nexport default {\n  components: {\n    ResultRow,\n    SeriesNavBar,\n  },\n  data() {\n    return {\n      resultData:{},\n      categories: {},\n      loading: false,\n      error: null,\n      formattedStartDate:\"\",\n      series:null,\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        this.fetchData();\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    scrollMeTo(refName) {\n      var element = document.querySelector(`#${refName}`);\n      element.scrollIntoView({ behavior: \"smooth\" });\n    },\n    fetchData() {\n      this.error = null;\n      this.loading = true;\n      if (this.$route.params.id) {\n        let dataUrl = `/api/results/${this.$route.params.id}`;\n        request(dataUrl)\n          .then(({data}) => {\n            this.formattedStartDate = data.formattedStartDate;\n            this.series = data.series;\n            this.resultData = data;\n            this.loading = false;\n            this.categories = data.categories;\n          })\n          .catch((err) => {\n            console.error(err);\n            this.categories = {};\n            if(err.response.status == 404){\n              this.error = '';\n\n            }else{\n\n              this.error = err.toString();\n            }\n            this.loading = false;\n          });\n      }\n      else{\n        this.$router.push('');\n      }\n    },\n    metaColumns(cols) {\n      return cols.slice(0,4)\n    },\n    lapColumns(firstRacerLaps) {\n      let headers = [];\n      for(let i = 1; i<=firstRacerLaps.length; i++){\n        headers.push(`Lap ${i}`);\n      }\n      if(this.fastestLapScoring){\n        headers.push(`Fastest Lap:`);\n      }else{\n        headers.push(`Total`);\n      }\n      headers.push(`Time Behind Leader`);\n      \n      return headers\n    },\n  },\n  computed: {\n    fastestLapScoring(){\n      return this.resultData.scoringType == 'fastestlap';\n    },\n    sortedCats() {\n      return _.orderBy(this.categories, \"disporder\");\n    },\n    haveResults() {\n      if (!this.categories) {\n        return false;\n      }\n      return Object.keys(this.categories).length > 0;\n    },\n  },\n};\n</script>\n\n<template>\n<SeriesNavBar :series=\"series\"/>\n    <div v-if=\"resultData.eventName\" class=\"text-center\">\n        <h2 class=\"mt-5\">Race Results - {{resultData.eventName}}</h2>\n    </div>\n    <div v-if=\"formattedStartDate\" class=\"text-center\">\n        <h2 class=\"mt-5\">{{formattedStartDate}}</h2>\n    </div>\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n\n    <div v-if=\"haveResults\">\n      <div id=\"top\" class=\"container text-center mt-5\">\n        <ul class=\"list-inline\">\n          <template v-for=\"(cat, key) in sortedCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n      </div>\n      <div class=\"container-fluid\">\n        <div v-for=\"(cat, key) in sortedCats\" :key=\"cat.id\" class=\"mt-5\">\n          <h3 :id=\"cat.id\">{{ cat.catdispname }}</h3>\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th\n                  v-for=\"(columnName, index) in metaColumns(cat.columns)\"\n                  scope=\"col\"\n                  :key=\"index\"\n                >\n                  {{ columnName }}\n                </th>\n                <th\n                  v-for=\"(columnName, index) in lapColumns(cat.results[0].laps)\"\n                  scope=\"col\"\n                  :key=\"index\"\n                >\n                  {{ columnName }}\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(racer, idx) in cat.results\" :key=\"idx\">\n                <ResultRow :totLaps=\"cat.results[0].laps.length\" :Pos=\"idx\" :data=\"racer\" :showMillis=\"resultData.showMillis || fastestLapScoring\" />\n              </tr>\n            </tbody>\n          </table>\n          <a role=\"button\" @click=\"scrollMeTo('top')\" class=\"link-primary\"\n            >Back to Top</a\n          >\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"text-center\">\n        <h2 class=\"mt-5\">No results yet...</h2>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\n\ntable.table {\n--bs-table-hover-bg: #76c8ff;\n}\n</style>\n","<script>\n\nexport default {\n  props: [\"data\",\"Pos\"],\n  data() {\n    return {\n      count: 0\n    }\n  },\n  computed:{\n  }\n}\n</script>\n\n<template>\n  <td>{{Pos + 1}}</td>\n  <td>{{data.Bib}}</td>\n  <td>{{data.Name}}</td>\n  <td>{{data.Age}}</td>\n  <td>{{data.Sponsor}}</td>\n  <td :class='{\"text-danger\":race.dropped}' v-for=\"(race, idx) in data.results\" :key=\"idx\">{{race.resultString}}</td>\n  <td>{{data.seriesPoints}}</td>\n\n</template>\n\n<style>\n\n.dropped {\ncolor: #ff7676;\n}\n</style>","<script>\nimport _ from \"lodash\";\nimport request from \"@/lib/ApiClient\";\nimport SeriesResultRow from \"./SeriesResultRow.vue\";\nimport SeriesNavBar from \"./SeriesResultNavComponent.vue\";\n\nexport default {\n  components: {\n    SeriesResultRow,\n    SeriesNavBar,\n  },\n  data() {\n    return {\n      categories: {},\n      loading: false,\n      error: null,\n      displayName: \"\",\n      series: null\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        this.fetchData();\n        \n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    scrollMeTo(refName) {\n        var element = document.querySelector(`#${refName}`)\n        element.scrollIntoView({ behavior: 'smooth' })\n    },\n    fetchData() {\n      if(!this.$route.params.seriesid){\n        return;\n      }\n      this.error = null;\n      this.loading = true;\n      let dataUrl = `/api/series/results/${this.$route.params.seriesid}`;\n      request(dataUrl)\n        .then(({data}) => {\n          this.loading = false;\n          this.categories = data.categories;\n          this.displayName = data.eventName;\n          this.series = this.$route.params.seriesid;\n          let temp = _.map(data.categories, (cat)=>_.omit(cat, ['results','columns']))\n          // console.log('temp:', _.orderBy(temp, 'disporder'))\n        })\n        .catch((err) => {\n          console.error(err);\n          this.categories = {};\n          this.error = err.toString();\n        });\n    },\n  },\n  computed: {\n    sortedCats() {\n      \n      return _.orderBy(this.categories, \"disporder\");\n    },\n    haveResults() {\n      if (!this.categories) {\n        return false;\n      }\n      return Object.keys(this.categories).length > 0;\n    },\n    isPCRS(){\n      return _.isString(this.series) && this.series.indexOf('pcrs') > -1;\n    }\n  },\n};\n</script>\n\n<template>\n  <SeriesNavBar :series=\"series\" :displayName=\"displayName\"/>\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n     <div class=\"container-fluid text-center mt-5\">\n    <h3>Series Standings</h3>\n    <p>Glossary of terms below:</p>\n    <p v-if=\"isPCRS\">1/50 = 1st Place/50 Points &nbsp&nbsp-/- = Did not race</p>\n    <p v-else>1/100 = 1st Place/100 Points &nbsp&nbsp-/- = Did not race</p>\n  </div>\n    <div v-if=\"haveResults\">\n      <div class=\"container-fluid text-center mt-5\">\n          <ul class=\"list-inline\">\n          <template v-for=\"(cat) in sortedCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n      </div>\n      <div class=\"container-fluid\">\n        <div v-for=\"(cat) in sortedCats\" :key=\"cat.id\" class=\"mt-5\">\n          <h3 :id=\"cat.id\">{{ cat.catdispname }}</h3>\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th\n                  v-for=\"(columnName, index) in cat.columns\"\n                  scope=\"col\"\n                  :key=\"index\"\n                >\n                  {{ columnName }}\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(racer, idx) in cat.results\" :key=\"idx\">\n                <SeriesResultRow :Pos=\"idx\" :data=\"racer\" />\n              </tr>\n            </tbody>\n          </table>\n          <a role=\"button\" @click=\"scrollMeTo('top')\" class=\"link-primary\">Back to Top</a>\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"text-center\">\n        <h2 class=\"mt-5\">No results yet...</h2>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\n\ntable.table {\n--bs-table-hover-bg: #76c8ff;\n}\n\n</style>\n","<script>\nimport _ from \"lodash\";\nimport dayjs from '@/lib/dayjs'\n\nexport default {\n  props: [\"categories\", \"raceDate\"],\n  data() {\n    return {};\n  },\n  methods: {\n    formatStartTime(startTime) {\n      return dayjs(`${dayjs(this.raceDate).format(\"YYYY-MM-DD\")} ${startTime}`).format(\"h:mm A\");\n    },\n  },\n  computed: {\n    groupByStartTimes() {\n      let sorted = this.categories.toSorted((a, b) => dayjs(a.startTime, 'H:mm').diff(dayjs(b.startTime, 'H:mm')));\n      return _.groupBy(sorted,\n        \"startTime\"\n      );\n    },\n    hasStartTimes(){\n      return !!_.some(this.categories, 'startTime')\n    }\n  },\n};\n</script>\n\n<template>\n  <div v-if=\"categories.length && hasStartTimes\">\n    <h5>Race Start Times:</h5>\n  <div class=\"row gap-5 mb-3\">\n    <div v-for=\"(timeGroup, time) in groupByStartTimes\" :key=\"time\" class=\"col-md-5\">\n        <h6 class=\"\">{{formatStartTime(time)}}:</h6>\n        <div class=\"row g-2 px-4 gx-4 border bg-light\">\n          <div v-for=\"category in groupByStartTimes[time]\" :key=\"category.id\" class=\"col-lg text-nowrap my-1\">{{category.catdispname}}</div>\n        </div>\n  </div>\n  </div>\n  </div>\n</template>","<script>\nimport _ from \"lodash\";\nimport request from \"@/lib/ApiClient\";\nimport EventDetailsComponent from \"@/components/EventDetailsComponent.vue\";\nimport EventCategoryScheduleComponent from \"@/components/EventCategoryScheduleComponent.vue\"\nimport dayjs from '@/lib/dayjs';\nimport MainNav from \"@/components/MainNav.vue\";\n\nlet saveForm =  _.debounce((data, raceid)=>{\n  window.localStorage.setItem(`race-reg-form-data-${raceid}`, JSON.stringify(data))\n}, 3500);\nlet getForm = (raceid)=>{\n  let data = window.localStorage.getItem(`race-reg-form-data-${raceid}`);\n  if(data){\n    let parsed = {};\n    try{\n      parsed = JSON.parse(data);\n    }catch(err){\n      // ignore invalid json\n    }\n    return parsed;\n  }\n  return null;\n}\nlet clearFormStorage = (raceid)=>{\n  window.localStorage.removeItem(`race-reg-form-data-${raceid}`);\n}\n\nfunction getFees(priceInDollars){\n    if(priceInDollars === 0){\n      return 0\n    }\n    let cents = priceInDollars * 100;\n    let onlineFee = cents * .04;\n    if(onlineFee > 600){\n        onlineFee = 600\n    }\n\n    let ccFee = Math.round((cents + onlineFee + 30)/( 1 - .029 ));\n\n    return ccFee - cents;\n    // return { stripeFee: ccFee - onlineFee - cents, regFee: onlineFee };\n}\n\nexport default {\n  components: {\n    MainNav,\n    EventDetailsComponent,\n    EventCategoryScheduleComponent,\n  },\n  data() {\n    return {\n      categories: {},\n      loading: false,\n      error: null,\n      formError: [],\n      formInputData: {},\n      raceData: null,\n      seriesData: null,\n      payment: \"\",\n      birthdate: \"\",//\"1990-03-05\",\n      submitted: false,\n      waiverAccepted: false,\n      couponError: [],\n      prevBibError: [],\n      seriesRaces:{},\n      seriesRaceIdx:0,\n      previousReg: false,\n      prevAge: null,\n      originalPaymentOptions: null,\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params.raceid,\n      () => {\n        this.fetchData();\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  watch: {\n    formInputData: {\n      handler(newValue, oldValue) {\n        if(this.previousReg == false){\n          saveForm(newValue, this.$route.params.raceid);\n        }\n        // Note: `newValue` will be equal to `oldValue` here\n        // on nested mutations as long as the object itself\n        // hasn't been replaced.\n      },\n      deep: true\n    },\n  },\n  methods: {\n    dollas(amt) {\n      return amt.toLocaleString(\"en-US\", { style: \"currency\", currency: \"USD\" });\n    },\n    fetchData() {\n      this.error = null;\n      this.loading = true;\n      if (this.$route.params.raceid) {\n        request(`/api/races/${this.$route.params.raceid}`)\n          .then(async (response) => {\n            this.raceData = response.data;\n            console.log('=== Race Data Loaded ===');\n            console.log('seriesData:', this.raceData.seriesData);\n            console.log('categoryGroups:', this.raceData.seriesData?.categoryGroups);\n            console.log('regCategories:', this.raceData.regCategories);\n            console.log('paymentOptions:', this.raceData.paymentOptions);\n            let prevFormData = getForm(this.$route.params.raceid);\n            if(prevFormData){\n              let category = _.find(this.raceData?.regCategories, { \"id\": prevFormData.category });\n              if(!category){\n                delete prevFormData.category;\n              }\n              prevFormData.waiverAccepted = false;\n              this.formInputData = prevFormData;\n            }\n            if(!this.raceData.disableSeriesRedirect &&this.raceData.series && this.raceData.toString().length > 1 && this.$route.name !== 'register-test'){\n              await request(`/api/series/${this.raceData.series}/registration`)\n                .then(({data})=>{\n                  this.seriesRaces = data;\n                  let now = dayjs();\n                  this.seriesRaceIdx = 0;\n                  _.some(data, ({eventDate,raceid}, idx)=>{\n                    if(dayjs(eventDate).isBefore(now)){\n                      return false;\n                    }\n                    else{\n                      this.seriesRaceIdx = idx;\n                      if(this.$route.params.raceid !== raceid){\n                        this.$router.push(`/register/${raceid}`)\n                      }\n                      return true;\n                    }\n                    })\n                })\n            }\n            this.loading = false;\n            if (this.raceData.paymentOptions && this.raceData.paymentOptions.length > 0) {\n              this.payment = this.raceData.paymentOptions[0].type;\n            }\n          })\n          .catch((err) => {\n            this.raceData = null;\n            this.loading = false;\n            this.error = err.toString();\n            if(err.code == 'ERR_BAD_REQUEST'){\n              console.warn('tried to load raceid: '+this.$route.params.raceid);\n              return console.warn(err.message);\n            }\n            console.error(err);\n          });\n      }\n    },\n    findPrevBib(bibNumber) {\n      request.post(`/api/racers/bib`, {\n        series: `${this.raceData.series}`,\n        bibNumber\n      })\n        .then(({ data }) => {\n          console.log('prevbib')\n          if(data.paytype === 'season'){\n            this.prevBibError = ['You are already registered for the whole season. You do not need to register every week.']\n            return;\n          }\n          data.prevPaymentId = data.paymentId;\n          delete data.optionalPurchases;\n          delete data.paymentId;\n          this.formInputData = data;\n          this.prevAge = data.racerAge\n        })\n        .catch(({response})=>{\n          console.dir(response)\n          if(response.status== 404){\n            this.prevBibError=[response.data.message]\n          }\n        })\n\n    },\n    onPrevBibChange(data){\n      if (data) {\n        this.findPrevBib(data);\n      } else {\n        this.prevBibError = [];\n        this.prevAge = null;\n      }\n    },\n    getCouponPricing(couponCode) {\n      // Save original payment options before applying coupon\n      if (!this.originalPaymentOptions) {\n        this.originalPaymentOptions = _.cloneDeep(this.raceData.paymentOptions);\n      }\n      \n      request.post(`/api/payments/pricing`, {\n        raceid: `${this.$route.params.raceid}`,\n        couponCode\n      })\n        .then(({ data }) => {\n          this.raceData.paymentOptions = data.paymentOptions;\n          \n\n          if (!data.validCoupon) {\n            if(data.reason){\n              return this.couponError = [data.reason];\n            }\n            this.couponError = [\"Invalid Coupon Code\"];\n          } else {\n            this.couponError = [];\n          }\n        })\n\n    },\n    onCouponChange(data) {\n      if (data) {\n        this.getCouponPricing(data);\n      } else {\n        this.couponError = [];\n        // Restore original payment options when coupon is cleared\n        if (this.originalPaymentOptions) {\n          this.raceData.paymentOptions = _.cloneDeep(this.originalPaymentOptions);\n          this.originalPaymentOptions = null;\n        }\n      }\n    },\n    submitForm(clickEvent) {\n      clickEvent.preventDefault();\n      this.$formkit.submit(\"race-registration\");\n    },\n    async submit(data) {\n      console.log(data);\n      data.birthdate = undefined;\n      data.racerAge = this.racerAge;\n      data.paytype = this.payment;\n      data.timestamp = dayjs().format();\n      await request\n        .post(\n          `/api/payments/start-registration?race=${this.raceData.raceid}`,\n          data\n        )\n        .then((response) => {\n          if (response.data) {\n            console.log(\"response data\");\n            console.log(response.data);\n            if(response.data.redirect){\n              this.submitted = true;\n              clearFormStorage(this.$route.params.raceid);\n              return new Promise((resolve) =>\n              setTimeout(() => {\n                window.location.href = response.data.redirect;\n                resolve();\n              }, 2000)\n              );\n            }else{\n              if(response.data.message){\n                this.formError = [response.data.message];\n              }\n            }\n          }\n        })\n        .catch((error) => {\n          if(error.response?.data?.message){\n            return this.formError = [error.response.data.message];\n          }\n          this.formError = [\"Error submitting request\"];\n        });\n    },\n    getEventTimeObj(startTime) {\n      return dayjs(`${dayjs(this.raceData.eventDate).format(\"YYYY-MM-DD\")} ${startTime}`)\n    },\n    // Hybrid category model helpers\n    isSeriesCategory(categoryId) {\n      if (!this.raceData?.seriesData?.regCategories) return false;\n      return this.raceData.seriesData.regCategories.some(cat => cat.id === categoryId);\n    },\n    isRaceOverride(category) {\n      // Check if this category is a race-level override of a series category\n      return category._isRaceOverride === true;\n    },\n    isPureSeriesCategory(category) {\n      // Check if this is a pure series category (not overridden at race level)\n      return category._isSeriesCategory === true;\n    },\n    getSeriesPaymentGroup(categoryId) {\n      if (!this.raceData?.seriesData?.categoryGroups) return null;\n      return this.raceData.seriesData.categoryGroups.find(group => \n        group.categories && group.categories.includes(categoryId)\n      );\n    },\n    getAvailablePaymentOptionsForCategory(category) {\n      if (!category) return [];\n      \n      console.log('=== getAvailablePaymentOptionsForCategory (Hybrid Model) ===');\n      console.log('Category:', category.catdispname, category.id);\n      console.log('seriesData:', this.raceData?.seriesData);\n      \n      // Build a map of payment types for override logic\n      const racePaymentsByType = new Map();\n      (this.raceData.paymentOptions || []).forEach(opt => {\n        racePaymentsByType.set(opt.type, opt);\n      });\n      \n      // Check category type\n      const isSeriesCat = this.isSeriesCategory(category.id);\n      const isRaceOverride = this.isRaceOverride(category);\n      const isPureSeriesCat = this.isPureSeriesCategory(category);\n      \n      console.log(`Category ${category.catdispname}:`, {\n        isSeriesCategory: isSeriesCat,\n        isRaceOverride: isRaceOverride,\n        isPureSeriesCategory: isPureSeriesCat,\n        hasPaytype: !!category.paytype\n      });\n      \n      // PRIORITY 1: Race override with forced paytype\n      // Show the matching race payment option + series group options (if applicable)\n      if (isRaceOverride && category.paytype) {\n        const results = [];\n        const addedTypes = new Set();\n        \n        // Add the matching race payment option for the paytype\n        const matchingRaceOption = this.raceData.paymentOptions?.find(opt => opt.type === category.paytype);\n        if (matchingRaceOption) {\n          results.push({ ...matchingRaceOption, source: 'race-override-paytype' });\n          addedTypes.add(matchingRaceOption.type);\n          console.log(`Race override ${category.catdispname} with paytype ${category.paytype}, added matching race option:`, matchingRaceOption);\n        }\n        \n        // Also add series group payment options for this category (but skip ones with same type as race option)\n        const group = this.getSeriesPaymentGroup(category.id);\n        if (group && group.paymentOptions && group.paymentOptions.length > 0) {\n          console.log(`Race override ${category.catdispname} also has series group ${group.name}, checking group options:`, group.paymentOptions);\n          group.paymentOptions.forEach(groupOpt => {\n            // Skip if we already added a race payment option with this type\n            if (!addedTypes.has(groupOpt.type)) {\n              results.push({ ...groupOpt, source: 'series-group' });\n              addedTypes.add(groupOpt.type);\n              console.log(`  Added series group option: ${groupOpt.name} (${groupOpt.type})`);\n            } else {\n              console.log(`  Skipped series group option ${groupOpt.name} (${groupOpt.type}) - race override takes precedence`);\n            }\n          });\n        }\n        \n        console.log(`Race override ${category.catdispname} final options with paytype:`, results);\n        return results;\n      }\n      \n      // PRIORITY 2: Race-specific category with forced paytype\n      // Show ONLY the matching race payment option\n      if (category._isRaceSpecific && category.paytype) {\n        const matchingRaceOption = this.raceData.paymentOptions?.find(opt => opt.type === category.paytype);\n        if (matchingRaceOption) {\n          console.log(`Race-specific category ${category.catdispname} with paytype ${category.paytype}:`, matchingRaceOption);\n          return [{ ...matchingRaceOption, source: 'race-paytype' }];\n        }\n        console.warn(`Race-specific category ${category.catdispname} has paytype ${category.paytype} but no matching race payment option found`);\n        return [];\n      }\n      \n      // PRIORITY 3: Race override without paytype - use all race payment options\n      if (isRaceOverride && !category.paytype) {\n        console.log(`Race override ${category.catdispname} without paytype, using all race payment options`);\n        return (this.raceData.paymentOptions || []).map(opt => ({ ...opt, source: 'race-override' }));\n      }\n      \n      // PRIORITY 4: Pure series category in a group - use group payment options + race payment options\n      if (isPureSeriesCat) {\n        const group = this.getSeriesPaymentGroup(category.id);\n        console.log('Found payment group:', group);\n        \n        // PRIORITY 4a: Series category with forced paytype\n        if (category.paytype) {\n          const results = [];\n          const addedTypes = new Set();\n          \n          // First, look for the forced paytype in race payment options (highest priority)\n          const matchingRaceOption = this.raceData.paymentOptions?.find(opt => opt.type === category.paytype);\n          if (matchingRaceOption) {\n            console.log(`Series category ${category.catdispname} with paytype ${category.paytype}, adding race option:`, matchingRaceOption);\n            results.push({ ...matchingRaceOption, source: 'race-paytype' });\n            addedTypes.add(category.paytype);\n          } else {\n            // If not in race, try series default payment options\n            if (this.raceData.seriesData?.defaultPaymentOptions) {\n              const matchingDefaultOption = this.raceData.seriesData.defaultPaymentOptions.find(opt => opt.type === category.paytype);\n              if (matchingDefaultOption) {\n                console.log(`Series category ${category.catdispname} with paytype ${category.paytype}, adding series default:`, matchingDefaultOption);\n                results.push({ ...matchingDefaultOption, source: 'series-default-paytype' });\n                addedTypes.add(category.paytype);\n              }\n            }\n          }\n          \n          // Also add all series group payment options (if category is in a group)\n          if (group && group.paymentOptions && group.paymentOptions.length > 0) {\n            console.log(`Series category ${category.catdispname} with paytype also has group ${group.name}, adding group options`);\n            group.paymentOptions.forEach(groupOpt => {\n              // Skip if we already added this type (the forced paytype)\n              if (!addedTypes.has(groupOpt.type)) {\n                // Check if race overrides this group payment type\n                if (racePaymentsByType.has(groupOpt.type)) {\n                  const raceOpt = racePaymentsByType.get(groupOpt.type);\n                  console.log(`  Race overrides group ${groupOpt.type}: ${groupOpt.name} -> ${raceOpt.name}`);\n                  results.push({\n                    ...groupOpt,\n                    name: raceOpt.name,\n                    amount: raceOpt.amount,\n                    source: 'race-override-group'\n                  });\n                } else {\n                  results.push({ ...groupOpt, source: 'series-group' });\n                }\n                addedTypes.add(groupOpt.type);\n              }\n            });\n          }\n          \n          if (results.length > 0) {\n            console.log(`Series category ${category.catdispname} final options with paytype:`, results);\n            return results;\n          }\n          \n          console.warn(`Series category ${category.catdispname} has paytype ${category.paytype} but no matching payment option found`);\n          return [];\n        }\n        \n        if (group && group.paymentOptions && group.paymentOptions.length > 0) {\n          console.log(`Category ${category.catdispname} is in series group ${group.name}`);\n          \n          // Start with group payment options, applying race overrides where types match\n          const mergedOptions = group.paymentOptions.map(groupOpt => {\n            // If race has a matching payment type, use race's amount and name (override)\n            if (racePaymentsByType.has(groupOpt.type)) {\n              const raceOpt = racePaymentsByType.get(groupOpt.type);\n              console.log(`Race overrides ${groupOpt.type}: ${groupOpt.name} ($${groupOpt.amount}) -> ${raceOpt.name} ($${raceOpt.amount})`);\n              return {\n                ...groupOpt,\n                name: raceOpt.name,\n                amount: raceOpt.amount,\n                source: 'race-override-group'\n              };\n            }\n            return { ...groupOpt, source: 'series-group' };\n          });\n          \n          // Add race payment options that DON'T match any group payment types\n          const groupPaymentTypes = new Set(group.paymentOptions.map(opt => opt.type));\n          const additionalRaceOptions = (this.raceData.paymentOptions || [])\n            .filter(raceOpt => !groupPaymentTypes.has(raceOpt.type))\n            .map(opt => ({ ...opt, source: 'race-additional' }));\n          \n          if (additionalRaceOptions.length > 0) {\n            console.log('Adding race-specific payment options not in group:', additionalRaceOptions);\n            mergedOptions.push(...additionalRaceOptions);\n          }\n          \n          console.log('Final merged payment options (group + race):', mergedOptions);\n          return mergedOptions;\n        }\n        \n        // PRIORITY 5: Series category NOT in a group - use series default payment options + race payment options\n        if (this.raceData.seriesData?.defaultPaymentOptions && this.raceData.seriesData.defaultPaymentOptions.length > 0) {\n          console.log(`Category ${category.catdispname} uses series default payment options`);\n          \n          // Start with default payment options, applying race overrides where types match\n          const mergedOptions = this.raceData.seriesData.defaultPaymentOptions.map(defaultOpt => {\n            // If race has a matching payment type, use race's amount and name (override)\n            if (racePaymentsByType.has(defaultOpt.type)) {\n              const raceOpt = racePaymentsByType.get(defaultOpt.type);\n              console.log(`Race overrides ${defaultOpt.type}: ${defaultOpt.name} ($${defaultOpt.amount}) -> ${raceOpt.name} ($${raceOpt.amount})`);\n              return {\n                ...defaultOpt,\n                name: raceOpt.name,\n                amount: raceOpt.amount,\n                source: 'race-override-default'\n              };\n            }\n            return { ...defaultOpt, source: 'series-default' };\n          });\n          \n          // Add race payment options that DON'T match any default payment types\n          const defaultPaymentTypes = new Set(this.raceData.seriesData.defaultPaymentOptions.map(opt => opt.type));\n          const additionalRaceOptions = (this.raceData.paymentOptions || [])\n            .filter(raceOpt => !defaultPaymentTypes.has(raceOpt.type))\n            .map(opt => ({ ...opt, source: 'race-additional' }));\n          \n          if (additionalRaceOptions.length > 0) {\n            console.log('Adding race-specific payment options not in defaults:', additionalRaceOptions);\n            mergedOptions.push(...additionalRaceOptions);\n          }\n          \n          console.log('Final merged payment options (defaults + race):', mergedOptions);\n          return mergedOptions;\n        }\n      }\n      \n      // PRIORITY 6: Fallback to all race payment options (for race-specific categories without paytype)\n      console.log(`Category ${category.catdispname} uses race payment options:`, this.raceData.paymentOptions);\n      return (this.raceData.paymentOptions || []).map(opt => ({ ...opt, source: 'race' }));\n    }\n  },\n  computed: {\n    startTimes() {\n      if (this.hasStartTimes) {\n        return _.map(_.uniqBy(this.raceData.regCategories, 'startTime'), 'startTime');\n      }\n      return null;\n    },\n    hasStartTimes() {\n      return !!_.some(this.raceData.regCategories, 'startTime')\n    },\n    currentTime() {\n      return dayjs().local().format();\n    },\n    firstRaceTime() {\n      if (this.hasStartTimes) {\n        return dayjs.min(_.map(this.startTimes, (time) => dayjs(`${this.eventDateFormatted} ${time}`)));\n      }\n      return null;\n    },\n    lastRaceTime() {\n      if (this.hasStartTimes) {\n        return dayjs.max(_.map(this.startTimes, (time) => dayjs(`${this.eventDateFormatted} ${time}`)));\n      }\n      return null;\n    },\n    sortedCats() {\n      const filtered = _.filter(this.raceData.regCategories, (cat) => {\n        // if (cat.startTime && dayjs().isAfter(this.getEventTimeObj(cat.startTime).subtract(20, 'minute'))) {\n        //   return false;\n        // }\n\n        // if (cat.minAge && this.racerAge < cat.minAge) {\n        //   return false\n        // }\n        // if (cat.maxAge && this.racerAge > cat.maxAge) {\n        //   return false\n        // }\n        return true;\n      })\n      let cats = {};\n      _.forEach(\n        _.orderBy(filtered, \"disporder\"),\n        (element) => {\n          cats[element.id] = element.catdispname;\n        }\n      );\n      return cats;\n    },\n    loaded() {\n      if (!this.raceData) {\n        return false;\n      }\n      return true;\n    },\n    submitLabel() {\n      if (this.payment == 'cash' || this.sponsoredCategorySelected) {\n        return \"Sign Up!\"\n      }\n      return \"Go to Payment\"\n    },\n    cashEnabled() {\n      if(!this.raceData.cashPaymentsEnabled){\n        return false;\n      }\n      return true;\n    },\n    eventDateFormatted() {\n      return dayjs(this.raceData.eventDate).format('YYYY-MM-DD');\n    },\n    regDisabled() {\n      if(this.$route.name == 'register-test'){\n        return false;\n      }\n      if(this.eventFull){\n        return true;\n      }\n      if(dayjs().isBefore(this.raceData.eventDetails.regOpenDate)){\n        return true;\n      }\n      if(this.raceData.eventDetails.regCloseDate && dayjs().isAfter(this.raceData.eventDetails.regCloseDate)){\n        return true;\n      }\n      if(!this.lastRaceTime){\n        return false;\n      }\n      return dayjs().isAfter(this.lastRaceTime.subtract(5, 'minute'))\n    },\n    eventFull(){\n      if(this.raceData.entryCountMax && this.raceData.entryCountMax > 1){\n        if(this.raceData.entryCount >= this.raceData.entryCountMax){\n          return true;\n        }\n      }\n      return false;\n    },\n    paymentOptions() {\n      let options = {};\n      \n      if (!this.selectedCategory) {\n        console.log('No category selected, showing no payment options');\n        return options;\n      }\n      \n      console.log('=== Building paymentOptions (Hybrid Model) ===');\n      console.log('Selected category:', this.selectedCategory.catdispname, this.selectedCategory.id);\n      \n      // Get available payment options for the selected category\n      const availableOptions = this.getAvailablePaymentOptionsForCategory(this.selectedCategory);\n      \n      console.log('Available payment options for category:', availableOptions);\n      \n      // Sort payment options by amount (ascending - cheapest first)\n      const sortedOptions = _.sortBy(availableOptions, (opt) => parseFloat(opt.amount || 0));\n      \n      // Build options object\n      _.forEach(sortedOptions, (element) => {\n        console.log('Processing payment option:', element.type, element.name, element);\n        // Handle legacy season pass with category-based pricing (backward compatibility)\n        if (element.type === 'season' && element.categoryGroups && this.formInputData.category) {\n          const categoryGroup = element.categoryGroups.find(group =>\n            group.categories.includes(this.formInputData.category)\n          );\n          \n          if (categoryGroup) {\n            options[element.type] = categoryGroup.name;\n          } else if (element.defaultName) {\n            options[element.type] = element.defaultName;\n          } else {\n            options[element.type] = element.name;\n          }\n        } else {\n          options[element.type] = element.name;\n        }\n      });\n      \n      // Add cash option if enabled and not a sponsored category\n      if (this.cashEnabled && !this.selectedCategory.sponsored) {\n        options['cash'] = 'Cash Payment (This Race Only)';\n      }\n      \n      console.log('Final payment options object:', options);\n      console.log('Final payment options count:', Object.keys(options).length);\n      return options;\n    },\n    paymentCostDets() {\n      if(!this.selectedCategory){\n        return {}\n      }\n      if (this.paymenttypeRequiredCategorySelected) {\n        this.payment = this.selectedCategory?.paytype;\n      }\n      if (this.sponsoredCategorySelected) {\n        this.payment = \"season\";\n        return {\n          cost: this.dollas(0),\n          regFee: this.dollas(0),\n          tot: this.dollas(0)\n        }\n      }\n      \n      let altPaytype;\n      if (this.payment === 'cash') {\n        altPaytype = 'single';\n      } else {\n        altPaytype = this.payment;\n      }\n      \n      // Get available payment options for the selected category\n      const availableOptions = this.getAvailablePaymentOptionsForCategory(this.selectedCategory);\n      \n      // Find the selected payment option from available options\n      let payOpt = availableOptions.find(el => el.type === altPaytype);\n      \n      if (!payOpt){\n        // couldn't find selected paytype, try to select first available\n        console.log('Selected payment type not found, selecting first available');\n        if (availableOptions.length > 0) {\n          payOpt = availableOptions[0];\n          this.payment = payOpt.type;\n        } else {\n          // Fallback to race payment options\n          payOpt = this.raceData?.paymentOptions?.[0];\n          if (payOpt) {\n            this.payment = payOpt.type;\n          }\n        }\n      }\n      \n      if (!payOpt) {\n        console.error('No payment option found');\n        return {};\n      }\n      \n      // LEGACY: Apply category-specific pricing if available (backward compatibility)\n      if (payOpt.categoryGroups && this.formInputData.category) {\n        const categoryGroup = payOpt.categoryGroups.find(group =>\n          group.categories.includes(this.formInputData.category)\n        );\n        \n        if (categoryGroup) {\n          payOpt = {\n            ...payOpt,\n            amount: categoryGroup.amount,\n            name: categoryGroup.name\n          };\n        } else if (payOpt.defaultAmount !== undefined) {\n          payOpt = {\n            ...payOpt,\n            amount: payOpt.defaultAmount,\n            name: payOpt.defaultName || payOpt.name\n          };\n        }\n      }\n      \n      const amt = parseFloat(payOpt.amount);\n      let fees = 0;\n      if (amt > 0 && this.payment !== 'cash') {\n        fees = (payOpt.regFee + payOpt.stripeFee) / 100;\n      }\n      const dets = {}\n      _.assign(dets, payOpt, {\n        name: payOpt.name,\n        cost: this.dollas(amt),\n        regFee: this.dollas(fees),\n        tot: this.dollas(\n          parseFloat(payOpt.amount) + parseFloat(fees)\n        ),\n\n      });\n      if (this.raceData?.optionalPurchases && this.formInputData.optionalPurchases) {\n        let newTot = amt;\n        this.raceData.optionalPurchases.forEach(({ id, label, description, amount }) => {\n          if (this.formInputData.optionalPurchases[id]) {\n            if (!dets.options) {\n              dets.options = [];\n            }\n            dets.options.push({ description,label, id, amount:this.dollas(parseFloat(amount)) })\n            newTot += parseFloat(amount);\n          }\n        })\n        fees = getFees(newTot)/100\n        dets.regFee = this.dollas(fees);\n        dets.tot = this.dollas(newTot + fees)\n\n      }\n      return dets;\n    },\n    showPaymentOption() {\n      console.log('=== showPaymentOption ===');\n      console.log('paymenttypeRequiredCategorySelected:', this.paymenttypeRequiredCategorySelected);\n      console.log('sponsoredCategorySelected:', this.sponsoredCategorySelected);\n      console.log('cashEnabled:', this.cashEnabled);\n      \n      // Get the available payment options for the selected category\n      const availableOptions = this.selectedCategory \n        ? this.getAvailablePaymentOptionsForCategory(this.selectedCategory)\n        : [];\n      \n      console.log('Available payment options count:', availableOptions.length);\n      \n      if (this.paymenttypeRequiredCategorySelected) {\n        console.log('Hiding because paymenttypeRequiredCategorySelected');\n        return false;\n      }\n      if (this.sponsoredCategorySelected) {\n        console.log('Hiding because sponsoredCategorySelected');\n        return false;\n      }\n      if(this.cashEnabled){\n        console.log('Showing because cashEnabled');\n        return true;\n      }\n      if (availableOptions.length < 2) {\n        console.log('Hiding because only 1 payment option available for this category');\n        return false;\n      }\n      console.log('Showing payment options');\n      return true;\n    },\n    paymenttypeRequiredCategorySelected(){\n      console.log('=== paymenttypeRequiredCategorySelected (Hybrid Model) ===');\n      console.log('selectedCategory:', this.selectedCategory);\n      \n      // If no category selected, don't show payment options yet\n      if (!this.selectedCategory) {\n        console.log('Returning true (no category selected)');\n        return true;\n      }\n      \n      // Get available payment options for this category\n      const availableOptions = this.getAvailablePaymentOptionsForCategory(this.selectedCategory);\n      \n      console.log('Available payment options:', availableOptions.length);\n      \n      // If only one payment option available, it's required (hide selector)\n      if (availableOptions.length <= 1 && !this.cashEnabled) {\n        console.log('Returning true (only one payment option)');\n        return true;\n      }\n      \n      console.log('Returning false (multiple payment options available)');\n      return false;\n    },\n    sponsoredCategorySelected() {\n      if (this.selectedCategory?.sponsored) {\n        return true;\n      }\n      return false;\n    },\n    selectedCategory() {\n      if (this.formInputData && this.formInputData.category) {\n        return _.find(this.raceData?.regCategories, { \"id\": this.formInputData?.category });\n      }\n      return null;\n    },\n    racerAge() {\n      if(this.prevAge){\n        return this.prevAge;\n      }\n      if (this.birthdate) {\n        //calculate racer age on dec 31\n        const dec31 = dayjs();\n        const bday = dayjs(this.birthdate);\n\n        return dec31.year() - bday.year();\n\n      }\n    },\n    shouldHideRosterButton() {\n      // Hide if explicitly set OR if there are no registered racers\n      return this.raceData?.hideRosterButton || (this.raceData?.entryCount === 0);\n    },\n  },\n};\n</script>\n\n<template>\n   <MainNav></MainNav>\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n\n    <div v-if=\"loaded\">\n      <EventDetailsComponent \n        :details=\"raceData.eventDetails\" \n        :raceid=\"raceData.raceid\" \n        :hideRosterButton=\"shouldHideRosterButton\"\n        :series=\"raceData.series\"\n        :seriesData=\"raceData.seriesData\"\n        :seriesRaceCount=\"2\"\n      />\n      <div v-if=\"eventFull\" class=\"h5\">This event has reached the registration entry max of {{ raceData.entryCountMax }}</div>\n      <div v-if=\"regDisabled\">\n        <h3>Registration is closed.</h3>\n      </div>\n      <div v-else class=\"mb-5\">\n        <div class=\"mb-3\" v-if=\"raceData?.headerContent\" v-html=\"raceData.headerContent\"></div>\n        <div v-if=\"raceData?.seriesRaceNumber > 1\">\n          \n          <FormKit label-class=\"text-danger fw-bold fs-5\" type=\"checkbox\" name=\"prevBibLookup\" label=\"I have a bib number!\" help=\"Look up your information from a previous race in this series\" v-model=\"previousReg\" />\n          <FormKit v-if=\"previousReg\" \n                  type=\"number\" name=\"bibNumber\" \n                  label=\"Bib Number:\" \n                  help=\"Enter your Bib Number from your previous race to pre-fill your info\" \n                  :delay=\"1500\" \n                  @input=\"onPrevBibChange\"\n                  :errors=\"prevBibError\"\n                  validation=\"required\" />  \n        </div>\n        <FormKit type=\"form\" id=\"race-registration\" v-model=\"formInputData\" :form-class=\"submitted ? 'hide' : 'show'\"\n          :errors=\"formError\" :actions=\"false\" @submit=\"submit\">\n          <div class=\"row\">\n            <div class=\"col-md-6 order-md-1 mb-3\">\n              <h4 class=\"d-flex justify-content-between align-items-center mb-3\">\n                <h5>Registration Info</h5>\n                <span class=\"badge badge-secondary badge-pill\">3</span>\n              </h4>\n              \n                <FormKit type=\"text\" name=\"first_name\" label=\"First name\" help=\"What is your first name\"\n                  validation=\"required\" />\n                <FormKit type=\"text\" name=\"last_name\" label=\"Last name\" help=\"What is your last name\"\n                  validation=\"required\" />\n              <div class=\"form-group pt-3\">\n                <FormKit v-if=\"!previousReg\" type=\"email\" name=\"email\" label=\"Your email\" help=\"Enter an email address\"\n                  validation=\"required|email\" />\n              </div>\n              <FormKit type=\"text\" name=\"sponsor\" label=\"Your Team or Sponsor\"\n                help=\"Enter an optional Team or Sponsor name\" maxlength=\"25\"/>\n              <FormKit v-if=\"!raceData?.disableAge && !previousReg\" type=\"date\" name=\"birthdate\" label=\"Birthday\" v-model=\"birthdate\"\n                help=\"Tap on the year at the top of the popup to change it\" validation=\"required|before:2020-01-01\"\n                validation-visibility=\"live\" />\n              <p v-if=\"!raceData?.disableAge\" class=\"fw-bolder\">Racing Age (as of Dec 31): {{racerAge}}</p>\n              <div class=\"form-group pt-3\">\n                <FormKit type=\"select\" id=\"category\" label=\"Category:\" placeholder=\"Select a category\"\n                  name=\"category\" :options=\"sortedCats\" validation=\"required\" validation-visibility=\"dirty\"\n                  :validation-messages=\"{\n                    is: 'You must select a category',\n                  }\" />\n              </div>\n              <FormKit v-if=\"!previousReg\" type=\"text\" name=\"contactNumber\" label=\"Phone Number\" help=\"If there is an issue on race day, we will try to contact you via this number\" />\n              <FormKit v-if=\"!previousReg\" type=\"text\" name=\"emergencyNumber\" label=\"Emergency Contact Name and Number\" help=\"In case of an emergency, we will contact this person\" />\n            </div>\n            <div class=\"col-md-5 order-md-2 mb-4\" v-if=\"paymentCostDets\">\n              <h4 class=\"d-flex justify-content-between align-items-center mb-3\">\n                <h5>Payment Detail</h5>\n              </h4>\n              <fieldset class=\"list-group mb-3\">\n                <div>\n                  <FormKit type=\"text\" name=\"coupon\" label=\"Coupon Code\" help=\"\" :delay=\"1000\" @input=\"onCouponChange\"\n                    v-if=\"raceData.couponsEnabled\" :errors=\"couponError\" />\n                </div>\n              </fieldset>\n              <fieldset class=\"list-group mb-3\">\n                <div>\n                  <FormKit type=\"radio\" name=\"paytype\" label=\"Payment option\" :options=\"paymentOptions\"\n                    validation=\"required\" v-model=\"payment\" v-if=\"showPaymentOption\" />\n                </div>\n              </fieldset>\n              <div v-if=\"raceData.optionalPurchases && (showPaymentOption || paymentCostDets.name)\">\n                <FormKit type=\"group\" name=\"optionalPurchases\">\n                <div v-for=\"(item, idx) in raceData.optionalPurchases\" class=\"list-group mb-3\">\n                  <h6 v-html=\"item.description\"></h6>\n                  <FormKit type=\"checkbox\" :label=\"`${item.label} - ${dollas(parseFloat(item.amount))}`\" :name=\"item.id\" />\n                  <FormKit v-if=\"item.options && formInputData.optionalPurchases[item.id]\" type=\"select\" :options=\"item.options\" :label=\"item.optionsLabel\" :name=\"`${item.id}-option`\"></FormKit>\n                </div>\n                </FormKit>\n              </div>\n              <ul class=\"list-group mb-3 formkit-fieldset\">\n                <li class=\"\n                  list-group-item\n                  d-flex\n                  justify-content-between\n                  lh-condensed\n                \">\n                  <div>\n                    <h6 class=\"my-0\">Event Entry:</h6>\n                    <small class=\"text-muted\">{{ paymentCostDets.name }}</small>\n                  </div>\n                  <div>\n                    <span v-if=\"paymentCostDets.discounted\" class=\"mx-3 text-decoration-line-through text-danger\">{{\n                    dollas(paymentCostDets.orig) }}</span>\n                    <span :class=\"{'text-success':paymentCostDets.discounted}\">{{ paymentCostDets.cost }}</span>\n                  </div>\n                </li>\n                <li  v-if=\"paymentCostDets.options\" v-for=\"(item, id) in paymentCostDets.options\" class=\"\n                  list-group-item\n                  d-flex\n                  justify-content-between\n                  lh-condensed\n                \">\n                  <div>\n                    <h6 class=\"my-0\">{{item.label}}</h6>\n                    <small v-if=\"item.option\" class=\"text-muted\">{{ item.option }}</small>\n                  </div>             \n                  <div>\n                    <span>{{ item.amount }}</span>      \n                  </div>\n                </li>\n                <li class=\"\n                  list-group-item\n                  d-flex\n                  justify-content-between\n                  lh-condensed\n                \">\n                  <div>\n                    <h6 class=\"my-0\">Online Processing Fee:</h6>\n                    <small class=\"text-muted\">Credit Card Processing and Online Registration</small>\n                  </div>\n                  <span class=\"text-muted\">{{ paymentCostDets.regFee }}</span>\n                </li>\n                <li class=\"list-group-item d-flex justify-content-between\">\n                  <span>Total (USD)</span>\n                  <strong>{{ paymentCostDets.tot }}</strong>\n                </li>\n              </ul>\n            </div>\n          </div>\n          <div v-if=\"sponsoredCategorySelected\">\n            <p class=\"mb-5\">\n              <h5>Your {{selectedCategory.catdispname}} race entry is sponsored by {{selectedCategory.sponsorName}}</h5>\n            </p>\n          </div>\n          <div v-if=\"payment === 'season'\" class=\"alert alert-info mb-4\">\n            <h5 class=\"alert-heading\">Series Registration</h5>\n            <p class=\"mb-0\">This payment option will register you for <strong>all races</strong> in the {{ raceData.seriesData?.displayName || 'series' }}. You will not need to register for each individual race.</p>\n          </div>\n          <div v-if=\"payment ==='cash'\">\n            <h2 class=\"text-danger\">Your registration will not be active until payment is received at the event</h2>\n          </div>\n          <div v-if=\"raceData.waiver\">\n            <div v-if=\"raceData.waiver.format =='html'\" v-html=\"raceData.waiver.text\"></div>\n            <div v-else>\n              <h5>{{raceData.waiver.header}}</h5>\n              <p>{{ raceData.waiver.text }}</p>\n            </div> \n          <FormKit  \n          type=\"checkbox\"\n          v-model=\"waiverAccepted\"\n          label=\"I HAVE READ AND UNDERSTAND THIS WAIVER\"\n          help=\"I acknowledge that I have read, understand, and accepted the above release of liability.\"\n          name=\"waiverAccepted\" \n          validation=\"accepted\"\n          :validation-messages=\"{\n            accepted: 'You must agree to the terms of the liability release above'\n          }\"\n          validation-visibility=\"live\"\n          />\n          </div>\n          <FormKit type=\"submit\" :label=\"submitLabel\" @click=\"submitForm\" />\n        </FormKit>\n        <div v-if=\"submitted\">\n          <h2>Submission successful, redirecting</h2>\n        </div>\n      </div>\n      <EventCategoryScheduleComponent :categories=\"raceData.regCategories\" :raceDate=\"raceData.eventDate\" />\n    </div>\n    <div v-else>\n      <div class=\"text-center\">\n        <h2 class=\"mt-5\">Race not found...</h2>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\n.prev-lookup.formkit-label{\n  color: #c10111\n}\ntable.table {\n  --bs-table-hover-bg: #76c8ff;\n}\nbody {\n  min-height: 75rem;\n  padding-top: 4.5rem;\n}\n</style>\n","<script>\nimport _ from \"lodash\";\nimport EventDetailsComponent from \"@/components/EventDetailsComponent.vue\";\nimport MainNav from \"@/components/MainNav.vue\";\n\nimport request from \"@/lib/ApiClient\";\n\nconst dollas = (amt) =>\n  amt.toLocaleString(\"en-US\", { style: \"currency\", currency: \"USD\" });\n\nexport default {\n  components: { EventDetailsComponent, MainNav },\n  data() {\n    return {\n      categories: {},\n      loading: false,\n      error: null,\n      raceData: {},\n      regData: {},\n      payment: \"\",\n      payStatus: false,\n      paymentData: null,\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        this.fetchData();\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    fetchData() {\n      this.error = null;\n      this.loading = true;\n      if (this.$route.params.raceid && this.$route.params.payment_id) {\n        request(`/api/races/${this.$route.params.raceid}`)\n          .then((response) => {\n            this.raceData = response.data;\n            return request(\n              `/api/payments/status?payment_id=${this.$route.params.payment_id}`\n            ).then((response) => {\n              this.loading = false;\n              this.payStatus = response.data.status;\n              this.paymentUrl = response.data.stripePayment?.url;\n              this.regData = response.data.regData;\n              this.payment = response.data.regData.paytype;\n              this.paymentData = response.data;\n            });\n          })\n          .catch((err) => {\n            this.error = \"Failed to load race \" + this.$route.params.raceid;\n            console.error(err);\n          });\n      }\n    },\n    async getReceipt() {\n      try {\n        const response = await request(`/api/payments/receipt?payment_id=${this.$route.params.payment_id}`);\n        if (response.data && response.data.receipt_url) {\n          window.open(response.data.receipt_url, '_blank');\n        }\n      } catch (err) {\n        console.error('Error fetching receipt:', err);\n        alert('Unable to retrieve receipt. This payment may not have a Stripe receipt available.');\n      }\n    },\n  },\n  computed: {\n    sortedCats() {\n      let cats = {};\n      _.forEach(\n        _.orderBy(this.raceData.regCategories, \"disporder\"),\n        (element) => {\n          cats[element.id] = element.catdispname;\n        }\n      );\n\n      return cats;\n    },\n    loaded() {\n      if (!this.raceData) {\n        return false;\n      }\n      return true;\n    },\n    paymentOptions() {\n      let options = {};\n      _.forEach(this.raceData.paymentOptions, (element) => {\n        options[element.type] = element.name;\n      });\n      return options;\n    },\n    pendingPayment() {\n      if(this.regData.raceid != this.$route.params.raceid){\n        return true;\n      }\n      if (this.payStatus && this.payStatus != \"paid\") {\n        return true;\n      }\n      return false;\n    },\n    sponsoredCategorySelected() {\n      if (this.selectedCategory?.sponsored) {\n        return true;\n      }\n      return false;\n    },\n    selectedCategory() {\n      return _.find(this.raceData.regCategories, { id: this.regData.category });\n    },\n    shouldHideRosterButton() {\n      // Hide if explicitly set OR if there are no registered racers\n      return this.raceData?.hideRosterButton || (this.raceData?.entryCount === 0);\n    },\n    hasStripeReceipt() {\n      return this.paymentData?.stripePayment && \n             this.paymentData?.stripePayment.payment_intent && \n             this.payStatus === 'paid' &&\n             this.paymentData?.stripePayment.amount_total > 0;\n    },\n  },\n};\n</script>\n\n<template>\n  <MainNav></MainNav>\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n\n    <div v-if=\"loaded\">\n      <EventDetailsComponent :details=\"raceData.eventDetails\" :raceid=\"raceData.raceid\" :hideRosterButton=\"shouldHideRosterButton\"/>\n      <FormKit\n        type=\"form\"\n        id=\"race-registration\"\n        disabled\n        :actions=\"false\"\n        v-model=\"regData\"\n      >\n        <div class=\"row\">\n          <div class=\"col-md-6 order-md-1\">\n            <div v-if=\"!pendingPayment\">\n              <div\n                class=\"d-flex justify-content-between align-items-center mb-3\"\n              >\n                <h4>Your Registration is Confirmed</h4>\n              </div>\n              <div v-if=\"hasStripeReceipt\" class=\"mb-3\">\n                <button \n                  type=\"button\"\n                  class=\"btn btn-primary\" \n                  @click.prevent=\"getReceipt\"\n                  title=\"View your Stripe receipt\">\n                  <i class=\"bi bi-receipt me-2\"></i>View Receipt\n                </button>\n              </div>\n            </div>\n\n            <div v-if=\"pendingPayment\" class=\"mb-5\">\n              <div\n                class=\"d-flex justify-content-between align-items-center mb-3 text-danger\"\n              >\n                <h4>Your Registration is Incomplete</h4>\n              </div>\n              <div v-if=\"payment === 'cash'\" >\n                <p class=\"text-danger h5\">Please make your cash payment at the event to complete your registration.</p>\n                <p>Your name will not show up on the \"Who is signed up\" list until payment is completed.</p>\n              </div>\n              <div v-else>\n                <a :href=\"paymentUrl\">Complete your payment</a>\n              </div>\n            </div>\n            <div class=\"col\">\n              <div class=\"row\">\n                <FormKit type=\"text\" name=\"first_name\" label=\"First name\" />\n                <FormKit type=\"text\" name=\"last_name\" label=\"Last name\" />\n              </div>\n            </div>\n            <div class=\"form-group pt-3\">\n              <FormKit type=\"email\" name=\"email\" label=\"Email\" />\n            </div>\n\n            <div class=\"form-group pt-3\">\n              <FormKit\n                type=\"text\"\n                name=\"sponsor\"\n                label=\"Your Team or Sponsor\"\n              />\n              <FormKit\n                type=\"select\"\n                label=\"Race Category:\"\n                name=\"category\"\n                :options=\"sortedCats\"\n              />\n            </div>\n            <div v-if=\"sponsoredCategorySelected\">\n              <h5>\n                Your {{ selectedCategory.catdispname }} race entry is sponsored\n                by {{ selectedCategory.sponsorName }}\n              </h5>\n            </div>\n          </div>\n        </div>\n      </FormKit>\n      Please send any corrections or questions to\n      <div v-if=\"raceData.contactEmail\">\n        <a :href=\"`mailto:${raceData.contactEmail}`\">{{raceData.contactEmail}}</a>\n      </div>\n      <div v-else>\n        <a href=\"mailto:support@signup.bike\">support@signup.bike</a>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"text-center\">\n        <h2 class=\"mt-5\">\n          Unable to load requested information\n          {{ $route.params.raceid }} payment: {{ $route.params.payment_id }}\n        </h2>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\ntable.table {\n  --bs-table-hover-bg: #76c8ff;\n}\n</style>\n","<script>\nimport _ from \"lodash\";\nimport request from \"@/lib/ApiClient\";\nimport SeriesResultRow from \"./SeriesResultRow.vue\";\nimport SeriesNavBar from \"./SeriesNavBar.vue\";\n\nexport default {\n  components: {\n    SeriesResultRow,\n    SeriesNavBar,\n  },\n  data() {\n    return {\n      categories: {},\n      loading: false,\n      error: null,\n      displayName: \"\",\n      series: null\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        this.fetchData();\n        \n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    scrollMeTo(refName) {\n        var element = document.querySelector(`#${refName}`)\n        element.scrollIntoView({ behavior: 'smooth' })\n    },\n    fetchData() {\n      if(!this.$route.params.seriesid){\n        return;\n      }\n      this.error = null;\n      this.loading = true;\n      let dataUrl = `/api/series/results/${this.$route.params.seriesid}`;\n      request(dataUrl)\n        .then(({data}) => {\n          this.loading = false;\n          this.categories = data.categories;\n          this.displayName = data.displayName;\n          this.series = this.$route.params.seriesid;\n          let temp = _.map(data.categories, (cat)=>_.omit(cat, ['results','columns']))\n          console.log('temp:', _.orderBy(temp, 'disporder'))\n        })\n        .catch((err) => {\n          console.error(err);\n          this.categories = {};\n          this.error = err.toString();\n        });\n    },\n  },\n  computed: {\n    sortedCats() {\n      let cats;\n      if(this.$route.path.indexOf('grom') > -1){\n          cats = _.filter(this.categories, (cat)=>cat.id.indexOf('grom')>-1);\n      }else{\n          cats = _.filter(this.categories, (cat)=>cat.id.indexOf('grom') == -1);\n      }\n      return _.orderBy(cats, \"disporder\");\n    },\n    expertCats(){\n        return _.filter(this.sortedCats, {laps:4});\n    },\n    sportCats(){\n        return _.filter(this.sortedCats, {laps:3});\n    },\n    beginnerCats(){\n        return _.filter(this.sortedCats, {laps:2});\n    },\n    gromCats(){\n        if(this.$route.path.indexOf('grom') > -1){\n          return _.filter(this.categories, (cat)=>cat.id.indexOf('grom')>-1);\n        }\n        return [];\n    },\n    haveResults() {\n      if (!this.categories) {\n        return false;\n      }\n      return Object.keys(this.categories).length > 0;\n    },\n  },\n};\n</script>\n\n<template>\n<SeriesNavBar :series=\"series\" />\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n     <div class=\"container-fluid text-center mt-5\">\n    <h2>{{ displayName }}</h2>\n    <h3>Series Standings</h3>\n    <p>Glossary of terms below:<br>\n1/50 = 1st Place/50 Points     -/- = Did not race</p></div>\n    <div v-if=\"haveResults\">\n      <div class=\"container-fluid text-center mt-5\">\n          <ul class=\"list-inline\">\n          <template v-for=\"(cat) in expertCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n        <ul class=\"list-inline\">\n          <template v-for=\"(cat) in sportCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n        <ul class=\"list-inline\">\n          <template v-for=\"(cat) in beginnerCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n        <ul class=\"list-inline\">\n          <template v-for=\"(cat) in gromCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n      </div>\n      <div class=\"container-fluid\">\n        <div v-for=\"(cat) in sortedCats\" :key=\"cat.id\" class=\"mt-5\">\n          <h3 :id=\"cat.id\">{{ cat.catdispname }}</h3>\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th\n                  v-for=\"(columnName, index) in cat.columns\"\n                  scope=\"col\"\n                  :key=\"index\"\n                >\n                  {{ columnName }}\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(racer, idx) in cat.results\" :key=\"idx\">\n                <SeriesResultRow :Pos=\"idx\" :data=\"racer\" />\n              </tr>\n            </tbody>\n          </table>\n          <a role=\"button\" @click=\"scrollMeTo('top')\" class=\"link-primary\">Back to Top</a>\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"text-center\">\n        <h2 class=\"mt-5\">No results yet...</h2>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\n\ntable.table {\n--bs-table-hover-bg: #76c8ff;\n}\n\n</style>\n","<script>\n\nexport default {\n  props: [\"data\",\"Pos\",\"dates\"],\n  data() {\n    return {\n      count: 0,\n    }\n  },\n  computed:{\n  }\n}\n</script>\n\n<template>\n  <td>{{data.Name}}</td>\n  <td>{{data.Cat}}</td>\n  <td v-for=\"(race, idx) in dates\" :key=\"idx\">{{data[race] || '-'}}</td>\n\n</template>","<script>\nimport _ from \"lodash\";\nimport request from \"@/lib/ApiClient\";\nimport ResultRow from \"./TeamCompDetailRow.vue\";\nimport SeriesNavBar from \"./SeriesNavBar.vue\";\n\n\nexport default {\n  components: {\n    ResultRow,\n    SeriesNavBar,\n  },\n  data() {\n    return {\n      teamResults: {},\n      loading: false,\n      error: null,\n      series: null,\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        this.fetchData();\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    scrollMeTo(refName) {\n      var element = document.querySelector(`#${refName}`);\n      element.scrollIntoView({ behavior: \"smooth\" });\n    },\n    fetchData() {\n      if (!this.$route.params.seriesid) {\n        return;\n      }\n      this.error = null;\n      this.loading = true;\n        let dataUrl = `/api/team-comp?series=${this.$route.params.seriesid}`;\n        request(dataUrl)\n          .then(({data}) => {\n            this.loading = false;\n            this.series = this.$route.params.seriesid;\n            this.teamResults = data;\n            this.teamDates = data.teamCompDates;\n\n          })\n          .catch((err) => {\n            console.error(err);\n            this.teamResults = {};\n            this.error = err.toString();\n          });\n      \n    },\n  },\n  computed: {\n    dates: () => {},\n  },\n};\n</script>\n\n<template>\n<SeriesNavBar :series=\"series\" />\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n        <h2 class=\"mt-5\">Team Standings</h2>\n         <div class=\"container-fluid  mt-5\">\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                  <th>Position</th>\n                <th>Team</th>\n                <th>Total Score</th>\n              </tr>\n            </thead>\n            <tbody>\n                \n              <tr v-for=\"(team, key) in teamResults.result\" :key=\"key\">\n            <td>{{key+1}}</td>\n            <td>{{team.teamName}}</td>\n            <td>{{team.totalScore}}</td>\n              </tr>\n            </tbody>\n          </table>\n      </div>\n      <h2 class=\"mt-5\">Team Results</h2>\n    <div class=\"mt-5\" v-for=\"(team, key) in teamResults.result\" :key=\"key\">\n           <h3> {{team.teamName}}</h3>\n        \n      <div class=\"container-fluid\">\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th style=\"width: 25%\">Racer Name</th>\n                <th style=\"width: 25%\">Class</th>\n                <th style=\"width: 12.5%\">5/4</th>\n                <th style=\"width: 12.5%\">5/11</th>\n                <th style=\"width: 12.5%\">5/18</th>\n                <th style=\"width: 12.5%\">5/25</th>\n              </tr>\n            </thead>\n            <tbody>\n                \n              <tr v-for=\"(racer, idx) in teamResults.teamDets[team.teamName]\" :key=\"idx\">\n                <ResultRow :data=\"racer\" :dates=\"teamDates\" />\n              </tr>\n            </tbody>\n          </table>\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th style=\"width: 50%; text-align:right\">Score (Avg of individual results):</th>\n                <th style=\"width: 12.5%\">{{team.results['5/4'] ? team.results['5/4'].avg : '-'}}</th>\n            <th style=\"width: 12.5%\">{{team.results['5/11'] ? team.results['5/11'].avg : '-'}}</th>\n            <th style=\"width: 12.5%\">{{team.results['5/18'] ? team.results['5/18'].avg : '-'}}</th>\n            <th style=\"width: 12.5%\">{{team.results['5/25'] ? team.results['5/25'].avg : \"-\"}}</th>\n              </tr>\n            </thead>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\ntable.table {\n  --bs-table-hover-bg: #76c8ff;\n}\n</style>\n","<script>\nimport _ from \"lodash\";\nimport request from \"@/lib/ApiClient\";\nimport ResultRow from \"./TeamCompDetailRow.vue\";\nimport SeriesNavBar from \"./SeriesResultNavComponent.vue\";\n\nexport default {\n  components: {\n    ResultRow,\n    SeriesNavBar,\n  },\n  data() {\n    return {\n      teamResults: {},\n      teamDates:[],\n      loading: false,\n      error: null,\n      series: null,\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        this.fetchData();\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    scrollMeTo(refName) {\n      var element = document.querySelector(`#${refName}`);\n      element.scrollIntoView({ behavior: \"smooth\" });\n    },\n    fetchData() {\n      if (!this.$route.params.seriesid) {\n        return;\n      }\n      this.error = null;\n      this.loading = true;\n        let dataUrl = `/api/team-comp?series=${this.$route.params.seriesid}`;\n        request(dataUrl)\n          .then(({data}) => {\n            this.loading = false;\n            this.series = this.$route.params.seriesid;\n            this.teamResults = data;\n            this.teamDates = data.teamCompDates;\n\n\n          })\n          .catch((err) => {\n            console.error(err);\n            this.teamResults = {};\n            this.error = err.toString();\n          });\n      \n    },\n  },\n  computed: {\n    dates: () => {},\n    fivePlusTeams(){\n      return _.filter(this.teamResults?.result, (res)=>{ return res.count > 4})\n    },\n    threeFourTeams(){\n      return _.filter(this.teamResults?.result, (res)=>{ return res.count < 5})\n    },\n    sortedResults(){\n      return _.sortBy(this.teamResults.result, \"teamName\");\n    }\n  },\n};\n</script>\n\n<template>\n<SeriesNavBar :series=\"series\" />\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n        <h2 class=\"mt-5\"> 5+ Team Standings</h2>\n         <div class=\"container-fluid  mt-5\">\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                  <th>Position</th>\n                <th>Team</th>\n                <th>Total Score</th>\n              </tr>\n            </thead>\n            <tbody>\n                \n              <tr v-for=\"(team, key) in fivePlusTeams\" :key=\"key\">\n            <td>{{key+1}}</td>\n            <td>{{team.teamName}}</td>\n            <td>{{team.totalScore}}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <h2 class=\"mt-5\"> 3 Person Team Standings</h2>\n          <div class=\"container-fluid  mt-5\">\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                  <th>Position</th>\n                <th>Team</th>\n                <th>Total Score</th>\n              </tr>\n            </thead>\n            <tbody>\n                \n              <tr v-for=\"(team, key) in threeFourTeams\" :key=\"key\">\n            <td>{{key+1}}</td>\n            <td>{{team.teamName}}</td>\n            <td>{{team.totalScore}}</td>\n              </tr>\n            </tbody>\n          </table>\n      </div>\n      <h2 class=\"mt-5\">Team Results</h2>\n    <div class=\"mt-5\" v-for=\"(team, key) in sortedResults\" :key=\"key\">\n           <h3> {{team.teamName}}</h3>\n        \n      <div class=\"container-fluid\">\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th style=\"width: 25%\">Racer Name</th>\n                <th style=\"width: 25%\">Class</th>\n                <th v-for=\"date in teamDates\" >{{date}}</th>\n              </tr>\n            </thead>\n            <tbody>\n                \n              <tr v-for=\"(racer, idx) in teamResults.teamDets[team.teamName]\" :key=\"idx\">\n                <ResultRow :data=\"racer\" :dates=\"teamDates\"/>\n              </tr>    \n              <tr>\n                <td colspan=\"2\" style=\"text-align:right\">Score (Avg of individual results):</td>\n                <td v-for=\"date in teamDates\" >{{team.results[date] ? team.results[date].avg : '-'}}</td>\n              </tr>\n            </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\ntable.table {\n  --bs-table-hover-bg: #76c8ff;\n}\n</style>\n","<script>\nimport _ from \"lodash\";\nimport request from \"@/lib/ApiClient\";\nimport EventDetailsComponent from \"@/components/EventDetailsComponent.vue\";\nimport MainNav from \"@/components/MainNav.vue\";\nimport dayjs from 'dayjs/esm/index.js'\n\nexport default {\n  components: {\n    EventDetailsComponent,\n    MainNav,\n  },\n  data() {\n    return {\n      categories: {},\n      loading: false,\n      error: null,\n      formattedStartDate: \"\",\n      series: null,\n      stageFilter: 'all',\n      racers:[],\n      raceData:{},\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        this.fetchData();\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    scrollMeTo(refName) {\n      var element = document.querySelector(`#${refName}`);\n      element.scrollIntoView({ behavior: \"smooth\" });\n    },\n    fetchData() {\n      this.error = null;\n      this.loading = true;\n      if (this.$route.params.raceid) {\n        request(`/api/races/roster/${this.$route.params.raceid}`)\n          .then(({data}) => {\n            this.raceData = data;\n            this.series = data.series;\n            this.loading = false;\n            this.categories = data.regCategories;\n            this.racers = data.registeredRacers;\n          })\n          .catch((err) => {\n            this.loading=false;\n            if(err.response?.status === 404){\n              this.error = \"Race not found\"\n              return;\n            }\n            console.error(err);\n            this.categories = {};\n            this.error = err.toString();\n          });\n      }\n    },\n    replacePlusSymbol(text){\n      return text.replace('+', 'Plus');\n    },\n    payTypeToStage(paytype){\n      const payOpt = _.find(this.raceData.paymentOptions, {type: paytype});\n      if(payOpt){\n        return payOpt.name;\n      }\n      return '';\n    },\n  },\n  computed: {\n    showPaytype() {\n      return !!this.raceData?.showPaytypeOnRoster\n    },\n    filterOptions(){\n      let options = { \"all\":\"All Stages\"};\n      _.forEach(this.raceData.paymentOptions,\n        (element) => {\n          options[element.type] = element.name;\n        }\n      );\n\n      return options;\n    },\n    filteredRacers(){\n      if(this.showPaytype && this.stageFilter !== 'all'){\n        return _.filter(this.racers, (racer)=>{\n          return racer.paytype == this.stageFilter || racer.paytype == 'season';\n        } )\n      }else{\n        return this.racers\n      }\n    },\n    groupedRacers(){\n      return _.groupBy(this.filteredRacers, \"category\");\n    },\n    sortedCats() {\n      return _.filter(_.orderBy(this.categories, \"disporder\"),\n      (cat)=>_.includes(Object.keys(this.groupedRacers),cat.id));\n    },\n    raceDate(){\n      return dayjs(this.raceData.eventDate).format(\"ddd, MMM D\");\n    },\n    shouldHideRosterButton() {\n      // Hide if explicitly set OR if there are no registered racers\n      return this.raceData?.hideRosterButton || (this.racers?.length === 0);\n    },\n  },\n};\n</script>\n\n<template>\n  <MainNav></MainNav>\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n    <div v-else id=\"top\">\n    <EventDetailsComponent :details=\"raceData.eventDetails\" :raceid=\"raceData.raceid\" :hideRosterButton=\"shouldHideRosterButton\"/>\n    <div v-if=\"Object.keys(racers).length\">\n      <div class=\"row\">\n      <div :class=\"{'col-md-6':showPaytype}\">\n        <h4>{{filteredRacers.length}} Registered for {{raceData.displayName}} on {{raceDate}}</h4>\n      </div>\n      <div v-if=\"showPaytype\" class=\"col-md-6\">\n        <FormKit\n                type=\"select\"\n                label=\"Show registrations for:\"\n                name=\"stageFilter\"\n                v-model=\"stageFilter\"\n                default=\"all\"\n                :options=\"filterOptions\"\n              />\n      </div>\n    </div>\n      <div class=\"container text-center mt-5\">\n       <ul class=\"list-inline\">\n          <template v-for=\"(cat) in sortedCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(replacePlusSymbol(cat.id))\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n        </div>\n      <div class=\"container-fluid\">\n        <div v-for=\"(cat) in sortedCats\" :key=\"cat.id\" class=\"mt-5\">\n          <h3 :id=\"replacePlusSymbol(cat.id)\">{{ cat.catdispname }}</h3>\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th>\n                  First Name\n                </th>\n                 <th>\n                  Last Name\n                </th>\n                 <th>\n                  Team/Sponsor\n                </th>\n                <th v-if=\"showPaytype\">\n                  Stages\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(racer, idx) in groupedRacers[cat.id]\" :key=\"idx\">\n                <td>{{racer.first_name}}</td>\n                <td>{{racer.last_name}}</td>\n                <td>{{racer.sponsor}}</td>\n                <td  v-if=\"showPaytype\">{{payTypeToStage(racer.paytype)}}</td>\n              </tr>\n            </tbody>\n          </table>\n          <a role=\"button\" @click=\"scrollMeTo('top')\" class=\"link-primary\"\n            >Back to Top</a\n          >\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"text-center\">\n        <h2 class=\"mt-5\">No registrations yet...</h2>\n      </div>\n    </div>\n    </div>\n  </div>\n</template>\n\n<style>\ntable.table {\n  --bs-table-hover-bg: #76c8ff;\n}\nbody {\n  min-height: 75rem;\n  padding-top: 4.5rem;\n}\n</style>\n","import { createRouter, createWebHashHistory } from 'vue-router';\nimport Landing from '@/components/LandingComponent.vue'\nimport RaceResult from '@/components/results/RaceResult.vue';\nimport ResultComponent from '@/components/results/ResultComponent.vue';\nimport SeriesResultComponent from '@/components/results/SeriesResultComponent.vue';\nimport RaceReg from '@/components/registration/RaceReg.vue';\nimport RaceRegConfirm from '@/components/registration/RaceRegConfirm.vue';\nimport SeriesRaceResult from '@/components/results/SeriesResult.vue';\nimport TeamComp from '@/components/results/TeamComp.vue'\nimport TeamCompComponent from '@/components/results/TeamCompComponent.vue'\nimport Roster from '@/components/registration/Roster.vue';\n\nconst router = createRouter({\n  history: createWebHashHistory(import.meta.env.BASE_URL),\n  routes: [\n    { \n      path: '/', \n      name: 'home',\n      component: Landing\n    },\n    { \n      path: '/results/', \n      name: 'results',\n      component: Landing\n    },\n    { \n      path: '/races/series/:seriesid', \n      name: 'racesBySeries',\n      component: Landing\n    },\n    { \n        path: '/race/:raceid', \n        component: RaceResult\n    },\n    { \n        path: '/result/:id',\n        name: 'raceResult',\n        component: ResultComponent\n    },\n    { \n        path: '/result/series/:seriesid', \n        name: 'seriesResults',\n        component: SeriesResultComponent\n    },\n    { \n        path: '/result/series/:seriesid/team',\n        name: \"teamCompResults\",\n        component: TeamCompComponent\n    },\n    { \n      path: '/register/:raceid', \n      name: 'register',\n      component: RaceReg\n    },\n    { \n      path: '/register/test/:raceid', \n      name: 'register-test',\n      component: RaceReg\n    },\n    { \n      path: '/regconfirmation/:raceid/:payment_id', \n      component: RaceRegConfirm\n    },\n    { \n        path: '/roster/:raceid', \n        name: 'roster',\n        component: Roster\n    },\n    { \n        path: '/series/:seriesid', \n        component: SeriesRaceResult\n    },\n    { \n        path: '/series/grom/:seriesid', \n        component: SeriesRaceResult\n    },\n    { \n        path: '/teamcomp/:seriesid', \n        component: TeamComp\n    },\n  ]\n})\n\nexport default router\n","import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport { plugin, defaultConfig } from '@formkit/vue'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport * as bootstrap from 'bootstrap'\nimport '@formkit/themes/genesis';\nimport { datadogLogs } from '@datadog/browser-logs'\nconst devMode = import.meta.env.DEV\n\nif (!devMode) {\n  datadogLogs.init({\n    clientToken: 'pub5b9b0cfce30b3b609b588d9f3ac85ebb',\n    site: 'datadoghq.com',\n    env: devMode ? 'dev' : 'production',\n    service: 'public-site',\n    version: APP_VERSION,\n    forwardErrorsToLogs: true,\n    sampleRate: 100,\n  })\n}\n\nconst app = createApp(App)\napp.use(plugin, defaultConfig);\napp.use(router);\napp.mount('#app');"],"names":["_sfc_main","RouterView","_hoisted_1","_openBlock","_createElementBlock","_createVNode","_component_RouterView","d","id","js","fjs","_createElementVNode","_hoisted_2","FbShareComponent","name","year","dayjs","_hoisted_3","_hoisted_5","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_13","_hoisted_17","_hoisted_19","$options","$props","_hoisted_4","_toDisplayString","_hoisted_12","_hoisted_14","_component_RouterLink","_hoisted_15","_createTextVNode","_hoisted_16","_hoisted_18","_hoisted_20","_component_FbShareComponent","_hoisted_21","_hoisted_22","_a","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_6","_hoisted_7","_normalizeClass","_ctx","$data","MainNav","EventDetailsComponent","request","response","err","race","firstRace","_b","series","filtered","_","raceInfo","isInFuture","o","counts","_component_MainNav","_Fragment","_renderList","idx","_component_EventDetailsComponent","msToTimeString","ms","showMillis","minSecMillis","s","millis","lap","fill","dataUrl","data","ResultRow","SeriesNavBar","refName","element","cat","_component_SeriesNavBar","key","$event","columnName","index","racer","_component_ResultRow","cols","firstRacerLaps","headers","i","SeriesResultRow","_component_SeriesResultRow","startTime","sorted","a","b","timeGroup","time","category","saveForm","raceid","getForm","parsed","clearFormStorage","getFees","priceInDollars","cents","onlineFee","EventCategoryScheduleComponent","newValue","oldValue","amt","prevFormData","now","eventDate","bibNumber","couponCode","clickEvent","resolve","error","categoryId","group","racePaymentsByType","opt","isSeriesCat","isRaceOverride","isPureSeriesCat","results","addedTypes","matchingRaceOption","groupOpt","_c","_d","_e","matchingDefaultOption","raceOpt","mergedOptions","groupPaymentTypes","additionalRaceOptions","_f","defaultOpt","defaultPaymentTypes","cats","options","availableOptions","sortedOptions","categoryGroup","altPaytype","payOpt","el","fees","dets","newTot","label","description","amount","dec31","bday","_hoisted_28","_hoisted_30","_hoisted_31","_hoisted_33","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_39","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_45","_hoisted_51","_hoisted_54","_component_FormKit","_createBlock","item","_hoisted_29","_hoisted_32","_hoisted_34","_hoisted_38","_hoisted_40","_hoisted_44","_hoisted_46","_hoisted_47","_hoisted_49","_hoisted_50","_hoisted_52","_component_EventCategoryScheduleComponent","_hoisted_53","_hoisted_55","args","temp","team","res","date","text","paytype","router","createRouter","createWebHashHistory","Landing","RaceResult","ResultComponent","SeriesResultComponent","TeamCompComponent","RaceReg","RaceRegConfirm","Roster","SeriesRaceResult","TeamComp","datadogLogs","app","createApp","App","plugin","defaultConfig"],"mappings":"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"}