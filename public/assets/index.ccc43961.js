import{r as g,o as t,c as s,a as e,b as v,w as $,F as u,d as h,e as k,t as c,n as w,R as C,f as b,_ as R,g as L,h as x,i as N}from"./vendor.e5f700dc.js";const P=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))m(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&m(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function m(o){if(o.ep)return;o.ep=!0;const n=i(o);fetch(o.href,n)}};P();var y=(l,r)=>{const i=l.__vccOpts||l;for(const[m,o]of r)i[m]=o;return i};const B={props:["races"],data(){return{count:0}},computed:{}},M={class:"navbar navbar-expand-sm navbar-light bg-light"},T={class:"container-fluid"},V=e("div",{class:"navbar-brand",href:"#"},"2022 Prairie City Race Series",-1),D=e("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent"},null,-1),O={class:"nav-item"},A=k("Series Standings"),j=e("div",{class:"nav-item"},[e("a",{class:"nav-link active","aria-current":"page",href:"https://racemtb.com/"},"RaceMtb Home")],-1),q=e("p",{class:"mt-3"},"View Weekly lap times:",-1),F={class:"nav nav-tabs mt-1"};function H(l,r,i,m,o,n){const d=g("RouterLink");return t(),s(u,null,[e("nav",M,[e("div",T,[V,D,e("div",O,[v(d,{class:"nav-link",to:"/series/pcrs_2022"},{default:$(()=>[A]),_:1})]),j])]),q,e("ul",F,[(t(!0),s(u,null,h(i.races,a=>(t(),s("li",{key:a.raceid,class:"nav-item"},[v(d,{class:w(["nav-link",{active:l.$route.params.raceid===a.raceid}]),to:`/race/${a.raceid}`},{default:$(()=>[k(c(a.displayName+` - ${a.formattedStartDate}`),1)]),_:2},1032,["class","to"])]))),128))])],64)}var I=y(B,[["render",H]]);let U="/api/races/";const E={components:{RouterView:C,NavBar:I},data(){return{races:[]}},mounted:function(){fetch(U).then(l=>l.json()).then(l=>{this.races=l,window.location.hash.indexOf("race/")==-1&&this.$router.push("/series/pcrs_2022")})},computed:{raceMeta(){return this.races.find(l=>l.raceid===this.$route.params.raceid)}}},W={key:0,class:"text-center"},z={class:"mt-5"};function G(l,r,i,m,o,n){var f;const d=g("NavBar"),a=g("RouterView");return t(),s(u,null,[v(d,{races:o.races,id:"top"},null,8,["races"]),n.raceMeta?(t(),s("div",W,[e("h2",z,"Race Results - "+c((f=n.raceMeta)==null?void 0:f.formattedStartDate),1)])):b("",!0),v(a)],64)}var K=y(E,[["render",G]]);const J={props:["data","Pos","totLaps"],data(){return{count:0}},computed:{incompleteLaps(){return new Array(this.totLaps-this.data.laps.length).fill("-")}}};function Q(l,r,i,m,o,n){return t(),s(u,null,[e("td",null,c(i.Pos+1),1),e("td",null,c(i.data.Bib),1),e("td",null,c(i.data.Name),1),e("td",null,c(i.data.Sponsor),1),(t(!0),s(u,null,h(i.data.laps,(d,a)=>(t(),s("td",{key:a},c(d.timeString),1))),128)),i.totLaps-i.data.laps.length>0?(t(!0),s(u,{key:0},h(n.incompleteLaps,d=>(t(),s("td",null,c(d),1))),256)):b("",!0),e("td",null,c(i.data.Time),1),e("td",null,c(i.data.back||"-"),1)],64)}var X=y(J,[["render",Q]]);const Y={components:{ResultRow:X},data(){return{categories:{},loading:!1,error:null}},created(){this.$watch(()=>this.$route.params,()=>{this.fetchData()},{immediate:!0})},methods:{scrollMeTo(l){var r=document.querySelector(`#${l}`);r.scrollIntoView({behavior:"smooth"})},fetchData(){this.error=null,this.loading=!0;let l=`/api/races/results/${this.$route.params.raceid}`;fetch(l).then(r=>r.json()).then(r=>{this.loading=!1,this.categories=r.categories}).catch(r=>{console.error(r),this.categories={},this.error=r.toString()})}},computed:{sortedCats(){return R.orderBy(this.categories,"disporder")},haveResults(){return this.categories?Object.keys(this.categories).length>0:!1}}},Z={key:0,class:"loading"},ee={key:1},te={key:0,class:"error"},se={key:1},re={class:"container text-center mt-5"},ae={class:"list-inline"},oe=["onClick"],ne={class:"container-fluid"},ie=["id"],le={class:"table table-striped table-hover"},ce={key:2},de=e("div",{class:"text-center"},[e("h2",{class:"mt-5"},"No results yet...")],-1),ue=[de];function he(l,r,i,m,o,n){const d=g("ResultRow");return o.loading?(t(),s("div",Z,"Loading...")):(t(),s("div",ee,[o.error?(t(),s("div",te,c(o.error),1)):b("",!0),n.haveResults?(t(),s("div",se,[e("div",re,[e("ul",ae,[(t(!0),s(u,null,h(n.sortedCats,(a,f)=>(t(),s("li",{key:a.id,class:"list-inline-item"},[e("a",{role:"button",onClick:_=>n.scrollMeTo(a.id),class:"link-primary"},c(a.catdispname),9,oe)]))),128))])]),e("div",ne,[(t(!0),s(u,null,h(n.sortedCats,(a,f)=>(t(),s("div",{key:a.id,class:"mt-5"},[e("h3",{id:a.id},c(a.catdispname),9,ie),e("table",le,[e("thead",null,[e("tr",null,[(t(!0),s(u,null,h(a.columns,(_,p)=>(t(),s("th",{scope:"col",key:p},c(_),1))),128))])]),e("tbody",null,[(t(!0),s(u,null,h(a.results,(_,p)=>(t(),s("tr",{key:p},[v(d,{totLaps:a.laps,Pos:p,data:_},null,8,["totLaps","Pos","data"])]))),128))])]),e("a",{role:"button",onClick:r[0]||(r[0]=_=>n.scrollMeTo("top")),class:"link-primary"},"Back to Top")]))),128))])])):(t(),s("div",ce,ue))]))}var _e=y(Y,[["render",he]]);const me={props:["data","Pos"],data(){return{count:0}},computed:{}};function pe(l,r,i,m,o,n){return t(),s(u,null,[e("td",null,c(i.Pos+1),1),e("td",null,c(i.data.Bib),1),e("td",null,c(i.data.Name),1),e("td",null,c(i.data.Age),1),e("td",null,c(i.data.Sponsor),1),(t(!0),s(u,null,h(i.data.results,(d,a)=>(t(),s("td",{key:a},c(d.resultString),1))),128)),e("td",null,c(i.data.seriesPoints),1)],64)}var fe=y(me,[["render",pe]]);const ve={components:{SeriesResultRow:fe},data(){return{categories:{},loading:!1,error:null}},created(){this.$watch(()=>this.$route.params,()=>{this.fetchData()},{immediate:!0})},methods:{scrollMeTo(l){var r=document.querySelector(`#${l}`);r.scrollIntoView({behavior:"smooth"})},fetchData(){this.error=null,this.loading=!0;let l=`/api/series/results/${this.$route.params.seriesid}`;fetch(l).then(r=>r.json()).then(r=>{this.loading=!1,this.categories=r.categories}).catch(r=>{console.error(r),this.categories={},this.error=r.toString()})}},computed:{sortedCats(){return R.orderBy(this.categories,"disporder")},haveResults(){return this.categories?Object.keys(this.categories).length>0:!1}}},ye={key:0,class:"loading"},ge={key:1},ke={key:0,class:"error"},be=e("div",{class:"container text-center mt-5"},[e("h2",null,"2022 Prairie City Race Series"),e("h3",null,"Series Standings"),e("p",null,[k("Glossary of terms below:"),e("br"),k(" 1/50 = 1st Place/50 Points -/- = Did not race")])],-1),$e={key:1},Re={class:"container text-center mt-5"},Se={class:"list-inline"},we=["onClick"],Ce={class:"container-fluid"},Le=["id"],xe={class:"table table-striped table-hover"},Ne={key:2},Pe=e("div",{class:"text-center"},[e("h2",{class:"mt-5"},"No results yet...")],-1),Be=[Pe];function Me(l,r,i,m,o,n){const d=g("SeriesResultRow");return o.loading?(t(),s("div",ye,"Loading...")):(t(),s("div",ge,[o.error?(t(),s("div",ke,c(o.error),1)):b("",!0),be,n.haveResults?(t(),s("div",$e,[e("div",Re,[e("ul",Se,[(t(!0),s(u,null,h(n.sortedCats,(a,f)=>(t(),s("li",{key:a.id,class:"list-inline-item"},[e("a",{role:"button",onClick:_=>n.scrollMeTo(a.id),class:"link-primary"},c(a.catdispname),9,we)]))),128))])]),e("div",Ce,[(t(!0),s(u,null,h(n.sortedCats,(a,f)=>(t(),s("div",{key:a.id,class:"mt-5"},[e("h3",{id:a.id},c(a.catdispname),9,Le),e("table",xe,[e("thead",null,[e("tr",null,[(t(!0),s(u,null,h(a.columns,(_,p)=>(t(),s("th",{scope:"col",key:p},c(_),1))),128))])]),e("tbody",null,[(t(!0),s(u,null,h(a.results,(_,p)=>(t(),s("tr",{key:p},[v(d,{Pos:p,data:_},null,8,["Pos","data"])]))),128))])]),e("a",{role:"button",onClick:r[0]||(r[0]=_=>n.scrollMeTo("top")),class:"link-primary"},"Back to Top")]))),128))])])):(t(),s("div",Ne,Be))]))}var Te=y(ve,[["render",Me]]);const Ve=L({history:x("/"),routes:[{path:"/race/:raceid",component:_e},{path:"/series/:seriesid",component:Te}]});const S=N(K);S.use(Ve);S.mount("#app");
