import{r as k,o as s,c as r,a as e,F as d,b as _,d as y,n as $,w as R,e as T,f as C,t as o,R as w,g as b,_ as f,h as M,i as L,j as N}from"./vendor.9e377b4a.js";const P=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))m(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&m(u)}).observe(document,{childList:!0,subtree:!0});function c(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function m(l){if(l.ep)return;l.ep=!0;const i=c(l);fetch(l.href,i)}};P();var g=(a,n)=>{const c=a.__vccOpts||a;for(const[m,l]of n)c[m]=l;return c};const O={props:["races"],data(){return{count:0}},computed:{}},B=T('<nav id="top" class="navbar navbar-light bg-light"><div class="container-fluid"><div class="navbar-brand" href="#">2022 Prairie City Race Series</div><div class="nav-item"><a class="nav-link active" aria-current="page" href="https://racemtb.com/">RaceMtb Home</a></div></div></nav><p class="mt-3">View Weekly lap times:</p>',2),V={class:"nav nav-tabs mt-1 justify-content-center"},D={class:"nav-item"},j=C("Series Standings"),U={class:"nav-item"},A=C("Grom Series Standings");function H(a,n,c,m,l,i){const u=k("RouterLink");return s(),r(d,null,[B,e("ul",V,[(s(!0),r(d,null,_(c.races,t=>(s(),r("li",{key:t.raceid,class:"nav-item"},[y(u,{class:$(["nav-link",{active:a.$route.params.raceid===t.raceid}]),to:`/race/${t.raceid}`},{default:R(()=>[C(o(t.displayName+` - ${t.formattedStartDate}`),1)]),_:2},1032,["class","to"])]))),128)),e("li",D,[y(u,{class:$(["nav-link",{active:a.$route.path=="/series/pcrs_2022"}]),to:"/series/pcrs_2022"},{default:R(()=>[j]),_:1},8,["class"])]),e("li",U,[y(u,{class:$(["nav-link",{active:a.$route.path=="/series/grom/pcrs_2022"}]),to:"/series/grom/pcrs_2022"},{default:R(()=>[A]),_:1},8,["class"])])])],64)}var q=g(O,[["render",H]]);let F="/api/races/";const I={components:{RouterView:w,NavBar:q},data(){return{races:[]}},mounted:function(){fetch(F).then(a=>a.json()).then(a=>{this.races=a,window.location.hash.indexOf("race/")==-1&&this.$router.push("/series/pcrs_2022")})},computed:{raceMeta(){return this.races.find(a=>a.raceid===this.$route.params.raceid)}}},E={key:0,class:"text-center"},G={class:"mt-5"};function W(a,n,c,m,l,i){var p;const u=k("NavBar"),t=k("RouterView");return s(),r(d,null,[y(u,{races:l.races},null,8,["races"]),i.raceMeta?(s(),r("div",E,[e("h2",G,"Race Results - "+o((p=i.raceMeta)==null?void 0:p.formattedStartDate),1)])):b("",!0),y(t)],64)}var z=g(I,[["render",W]]);let K=a=>{const n=new Date(Date.UTC(0,0,0,0,0,0,a));let m=[n.getUTCMinutes(),n.getUTCSeconds()].map(l=>String(l).padStart(2,"0")).join(":");return n.getUTCHours()&&(m=n.getUTCHours()+":"+m),m};const J={props:["data","Pos","totLaps"],data(){return{count:0}},computed:{incompleteLaps(){return new Array(this.totLaps-this.data.laps.length).fill("-")},formattedTime(){return K(this.data.duration)}}};function Q(a,n,c,m,l,i){return s(),r(d,null,[e("td",null,o(c.Pos+1),1),e("td",null,o(c.data.Bib),1),e("td",null,o(c.data.Name),1),e("td",null,o(c.data.Sponsor),1),(s(!0),r(d,null,_(c.data.laps,(u,t)=>(s(),r("td",{key:t},o(u.timeString),1))),128)),c.totLaps-c.data.laps.length>0?(s(!0),r(d,{key:0},_(i.incompleteLaps,u=>(s(),r("td",null,o(u),1))),256)):b("",!0),e("td",null,o(i.formattedTime),1),e("td",null,o(c.data.back||"-"),1)],64)}var X=g(J,[["render",Q]]);const Y={components:{ResultRow:X},data(){return{categories:{},loading:!1,error:null}},created(){this.$watch(()=>this.$route.params,()=>{this.fetchData()},{immediate:!0})},methods:{scrollMeTo(a){var n=document.querySelector(`#${a}`);n.scrollIntoView({behavior:"smooth"})},fetchData(){if(this.error=null,this.loading=!0,this.$route.params.raceid){let a=`/api/races/results/${this.$route.params.raceid}`;fetch(a).then(n=>n.json()).then(n=>{this.loading=!1,this.categories=n.categories}).catch(n=>{console.error(n),this.categories={},this.error=n.toString()})}}},computed:{sortedCats(){return f.orderBy(this.categories,"disporder")},expertCats(){return f.filter(this.sortedCats,{laps:4})},sportCats(){return f.filter(this.sortedCats,{laps:3})},beginnerCats(){return f.filter(this.sortedCats,{laps:2})},gromCats(){return f.filter(this.categories,a=>a.id.indexOf("grom")>-1)},haveResults(){return this.categories?Object.keys(this.categories).length>0:!1}}},Z={key:0,class:"loading"},ee={key:1},te={key:0,class:"error"},se={key:1},re={class:"container text-center mt-5"},ie={class:"list-inline"},ne=["onClick"],ae={class:"list-inline"},le=["onClick"],oe={class:"list-inline"},ce=["onClick"],de={class:"list-inline"},ue=["onClick"],_e={class:"container-fluid"},he=["id"],me={class:"table table-striped table-hover"},pe={key:2},fe=e("div",{class:"text-center"},[e("h2",{class:"mt-5"},"No results yet...")],-1),ve=[fe];function ye(a,n,c,m,l,i){const u=k("ResultRow");return l.loading?(s(),r("div",Z,"Loading...")):(s(),r("div",ee,[l.error?(s(),r("div",te,o(l.error),1)):b("",!0),i.haveResults?(s(),r("div",se,[e("div",re,[e("ul",ie,[(s(!0),r(d,null,_(i.expertCats,(t,p)=>(s(),r("li",{key:t.id,class:"list-inline-item mx-2"},[e("a",{role:"button",onClick:h=>i.scrollMeTo(t.id),class:"link-primary"},o(t.catdispname),9,ne)]))),128))]),e("ul",ae,[(s(!0),r(d,null,_(i.sportCats,(t,p)=>(s(),r("li",{key:t.id,class:"list-inline-item mx-2"},[e("a",{role:"button",onClick:h=>i.scrollMeTo(t.id),class:"link-primary"},o(t.catdispname),9,le)]))),128))]),e("ul",oe,[(s(!0),r(d,null,_(i.beginnerCats,(t,p)=>(s(),r("li",{key:t.id,class:"list-inline-item mx-2"},[e("a",{role:"button",onClick:h=>i.scrollMeTo(t.id),class:"link-primary"},o(t.catdispname),9,ce)]))),128))]),e("ul",de,[(s(!0),r(d,null,_(i.gromCats,(t,p)=>(s(),r("li",{key:t.id,class:"list-inline-item mx-2"},[e("a",{role:"button",onClick:h=>i.scrollMeTo(t.id),class:"link-primary"},o(t.catdispname),9,ue)]))),128))])]),e("div",_e,[(s(!0),r(d,null,_(i.sortedCats,(t,p)=>(s(),r("div",{key:t.id,class:"mt-5"},[e("h3",{id:t.id},o(t.catdispname),9,he),e("table",me,[e("thead",null,[e("tr",null,[(s(!0),r(d,null,_(t.columns,(h,v)=>(s(),r("th",{scope:"col",key:v},o(h),1))),128))])]),e("tbody",null,[(s(!0),r(d,null,_(t.results,(h,v)=>(s(),r("tr",{key:v},[y(u,{totLaps:t.laps,Pos:v,data:h},null,8,["totLaps","Pos","data"])]))),128))])]),e("a",{role:"button",onClick:n[0]||(n[0]=h=>i.scrollMeTo("top")),class:"link-primary"},"Back to Top")]))),128))])])):(s(),r("div",pe,ve))]))}var ge=g(Y,[["render",ye]]);const ke={props:["data","Pos"],data(){return{count:0}},computed:{}};function Ce(a,n,c,m,l,i){return s(),r(d,null,[e("td",null,o(c.Pos+1),1),e("td",null,o(c.data.Bib),1),e("td",null,o(c.data.Name),1),e("td",null,o(c.data.Age),1),e("td",null,o(c.data.Sponsor),1),(s(!0),r(d,null,_(c.data.results,(u,t)=>(s(),r("td",{key:t},o(u.resultString),1))),128)),e("td",null,o(c.data.seriesPoints),1)],64)}var be=g(ke,[["render",Ce]]);const $e={components:{SeriesResultRow:be},data(){return{categories:{},loading:!1,error:null}},created(){this.$watch(()=>this.$route.params,()=>{this.fetchData()},{immediate:!0})},methods:{scrollMeTo(a){var n=document.querySelector(`#${a}`);n.scrollIntoView({behavior:"smooth"})},fetchData(){this.error=null,this.loading=!0;let a=`/api/series/results/${this.$route.params.seriesid}`;fetch(a).then(n=>n.json()).then(n=>{this.loading=!1,this.categories=n.categories}).catch(n=>{console.error(n),this.categories={},this.error=n.toString()})}},computed:{sortedCats(){let a;return this.$route.path.indexOf("grom")>-1?a=f.filter(this.categories,n=>n.id.indexOf("grom")>-1):a=f.filter(this.categories,n=>n.id.indexOf("grom")==-1),f.orderBy(a,"disporder")},expertCats(){return f.filter(this.sortedCats,{laps:4})},sportCats(){return f.filter(this.sortedCats,{laps:3})},beginnerCats(){return f.filter(this.sortedCats,{laps:2})},gromCats(){return this.$route.path.indexOf("grom")>-1?f.filter(this.categories,a=>a.id.indexOf("grom")>-1):[]},haveResults(){return this.categories?Object.keys(this.categories).length>0:!1}}},Re={key:0,class:"loading"},xe={key:1},Se={key:0,class:"error"},Te=e("div",{class:"container-fluid text-center mt-5"},[e("h2",null,"2022 Prairie City Race Series"),e("h3",null,"Series Standings"),e("p",null,[C("Glossary of terms below:"),e("br"),C(" 1/50 = 1st Place/50 Points -/- = Did not race")])],-1),we={key:1},Me={class:"container-fluid text-center mt-5"},Le={class:"list-inline"},Ne=["onClick"],Pe={class:"list-inline"},Oe=["onClick"],Be={class:"list-inline"},Ve=["onClick"],De={class:"list-inline"},je=["onClick"],Ue={class:"container-fluid"},Ae=["id"],He={class:"table table-striped table-hover"},qe={key:2},Fe=e("div",{class:"text-center"},[e("h2",{class:"mt-5"},"No results yet...")],-1),Ie=[Fe];function Ee(a,n,c,m,l,i){const u=k("SeriesResultRow");return l.loading?(s(),r("div",Re,"Loading...")):(s(),r("div",xe,[l.error?(s(),r("div",Se,o(l.error),1)):b("",!0),Te,i.haveResults?(s(),r("div",we,[e("div",Me,[e("ul",Le,[(s(!0),r(d,null,_(i.expertCats,(t,p)=>(s(),r("li",{key:t.id,class:"list-inline-item mx-2"},[e("a",{role:"button",onClick:h=>i.scrollMeTo(t.id),class:"link-primary"},o(t.catdispname),9,Ne)]))),128))]),e("ul",Pe,[(s(!0),r(d,null,_(i.sportCats,(t,p)=>(s(),r("li",{key:t.id,class:"list-inline-item mx-2"},[e("a",{role:"button",onClick:h=>i.scrollMeTo(t.id),class:"link-primary"},o(t.catdispname),9,Oe)]))),128))]),e("ul",Be,[(s(!0),r(d,null,_(i.beginnerCats,(t,p)=>(s(),r("li",{key:t.id,class:"list-inline-item mx-2"},[e("a",{role:"button",onClick:h=>i.scrollMeTo(t.id),class:"link-primary"},o(t.catdispname),9,Ve)]))),128))]),e("ul",De,[(s(!0),r(d,null,_(i.gromCats,(t,p)=>(s(),r("li",{key:t.id,class:"list-inline-item mx-2"},[e("a",{role:"button",onClick:h=>i.scrollMeTo(t.id),class:"link-primary"},o(t.catdispname),9,je)]))),128))])]),e("div",Ue,[(s(!0),r(d,null,_(i.sortedCats,(t,p)=>(s(),r("div",{key:t.id,class:"mt-5"},[e("h3",{id:t.id},o(t.catdispname),9,Ae),e("table",He,[e("thead",null,[e("tr",null,[(s(!0),r(d,null,_(t.columns,(h,v)=>(s(),r("th",{scope:"col",key:v},o(h),1))),128))])]),e("tbody",null,[(s(!0),r(d,null,_(t.results,(h,v)=>(s(),r("tr",{key:v},[y(u,{Pos:v,data:h},null,8,["Pos","data"])]))),128))])]),e("a",{role:"button",onClick:n[0]||(n[0]=h=>i.scrollMeTo("top")),class:"link-primary"},"Back to Top")]))),128))])])):(s(),r("div",qe,Ie))]))}var x=g($e,[["render",Ee]]);const Ge=M({history:L("/"),routes:[{path:"/race/:raceid",component:ge},{path:"/series/:seriesid",component:x},{path:"/series/grom/:seriesid",component:x}]});const S=N(z);S.use(Ge);S.mount("#app");
