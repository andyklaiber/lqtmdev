{"version":3,"file":"main-77e4e41d.js","sources":["../../src/App.vue","../../src/components/FbShareComponent.vue","../../src/components/EventDetailsComponent.vue","../../src/components/MainNav.vue","../../src/components/LandingComponent.vue","../../src/components/results/ResultRow.vue","../../src/components/results/SeriesNavBar.vue","../../src/components/results/RaceResult.vue","../../src/components/results/SeriesResultNavComponent.vue","../../src/components/results/ResultComponent.vue","../../src/components/results/SeriesResultRow.vue","../../src/components/results/SeriesResultComponent.vue","../../src/components/EventCategoryScheduleComponent.vue","../../src/components/registration/RaceReg.vue","../../src/components/registration/RaceRegConfirm.vue","../../src/components/results/SeriesResult.vue","../../src/components/results/TeamCompDetailRow.vue","../../src/components/results/TeamComp.vue","../../src/components/results/TeamCompComponent.vue","../../src/components/registration/Roster.vue","../../src/router/index.js","../../src/main.js"],"sourcesContent":["<script>\nimport _ from 'lodash';\nimport { RouterView } from 'vue-router'\n\nlet dataUrl = '/api/races/'\nif(import.meta.env.DEV){\n    dataUrl = \"http://localhost:3000\"+dataUrl;\n}\n\nexport default {\n  components: {\n    RouterView,\n    \n  },\n  data() {\n    return {\n  \traces: [],\n    }\n  },\n  mounted: function(){\n    // if(window.location.hash == '#/'){\n    //   this.$router.push(`/series/pcrs_2022`)\n    // }\n// fetch(dataUrl)\n    //     .then(response => response.json())\n    //     .then(data => {\n    //         this.races = data;\n    //         console.log('hash:', window.location.hash)\n            \n    //     })\n\t},\n  computed : {\n      // raceMeta() {\n      //     return this.races.find((obj)=>obj.raceid === this.$route.params.raceid);\n      // }\n  }\n}\n</script>\n\n<template>\n<div class='container'>\n    <RouterView />\n    </div>\n</template>\n\n<style>\n@import \"./assets/base.css\";\n\n#app {\n  max-width: 1280px;\n  margin: 0 auto;\n  padding: 2rem;\n\n  font-weight: normal;\n}\n</style>\n","<script>\nexport default {\n    props: ['url'],\n    created(){\n        (function(d, s, id) {\n        var js, fjs = d.getElementsByTagName(s)[0];\n        if (d.getElementById(id)) return;\n        js = d.createElement(s); js.id = id;\n        js.src = \"https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v15.0\";\n        fjs.parentNode.insertBefore(js, fjs);\n        }(document, 'script', 'facebook-jssdk'));\n    },\n    mounted () {\n        if(window.FB){\n            FB.XFBML.parse()\n        }\n    }\n}\n</script>\n\n<template>\n    <div id=\"1\">\n        <div id=\"fb-root\"></div>\n        <div class=\"fb-share-button\" \n                :data-href=\"this.url\"\n                data-layout=\"button\" \n                data-size=\"large\"\n                >\n        </div>\n    </div>    \n</template>","<script>\nimport { RouterLink } from \"vue-router\";\nimport FbShareComponent from './FbShareComponent.vue';\nimport dayjs from '@/lib/dayjs';\n\nexport default {\n  components: { FbShareComponent },\n  props: [\"details\", \"raceid\", \"compactMode\"],\n  data() {\n    return {\n    };\n  },\n  computed: {\n    isRosterPage() {\n      return this.$route.path.includes('/roster/')\n    },\n    isRegPage() {\n      return this.$route.name === 'register'\n    },\n    regDisabled() {\n      return dayjs().isBefore(this.details.regOpenDate)\n    },\n    regEnded() {\n      return dayjs().isAfter(this.details.regCloseDate)\n    },\n    regTimeToOpen() {\n      return dayjs().to(this.details.regOpenDate)\n    },\n    regTimeToClose() {\n      return dayjs().to(this.details.regCloseDate)\n    },\n    imgWidth() {\n      if (this.compactMode) {\n        return 150;\n      }\n      return 225\n    }\n  },\n};\n</script>\n\n<template>\n  <div class=\"container mb-4\">\n    <img class=\"img-fluid\" :src=\"details.headerPhoto\" alt=\"\">\n    <div class=\"row p-1 pb-0 pe-lg-0 pt-lg-3 align-items-center rounded-3 border shadow\">\n      <div v-if=\"details.logoUrl\" class=\"col-sm-3 offset-sm-1 p-0\">\n        <a :href=\"details.homepageUrl\">\n          <img class=\"pb-1\" :src=\"details.logoUrl\" alt=\"\" :width=\"imgWidth\">\n        </a>\n      </div>\n      <div class=\"col-lg-7 p-3 p-lg-3 pt-lg-3\">\n        <div class=\"row\">\n          <div class=\"col col-md-auto\">\n            <h3 class=\"display-7 fw-bold lh-3\">{{ details.name }}</h3>\n            <p v-if=\"!compactMode\" class=\"lead mb-0 fw-bold\">{{ details.tagline }}</p>\n          </div>\n        </div>\n        <p class=\"display-9\">{{ details.formattedDates }}</p>\n        <div v-if=\"details.homepageUrl && !compactMode\" class=\"d-grid gap-2 d-md-flex justify-content-md mb-4 mb-lg-3\">\n          <div class=\"col-md-auto\">\n            <a class=\"btn btn-sm btn-success\" :href=\"details.homepageUrl\">Event Homepage</a>\n          </div>\n          <div class=\"col col-lg-2\">\n            <div v-if=\"details.facebookShare\">\n              <FbShareComponent :url=\"details.homepageUrl\" />\n            </div>\n          </div>\n        </div>\n\n        <div v-if=\"regDisabled\" class=\"fw-bold\">\n          Registration will open {{ regTimeToOpen }}\n        </div>\n        <div v-else class=\"row\">\n          <div v-if=\"details?.regCloseDate\" class=\"fw-bold\">\n            <div v-if=\"regEnded\" class=\"fw-bold\">\n              Registration is closed\n            </div>\n            <div v-else class=\"fw-bold\">\n              Registration will close {{ regTimeToClose }}\n            </div>\n          </div>\n          <div class=\"col col-md-auto\" v-if=\"!isRegPage && !regEnded\">\n            <RouterLink class=\"btn btn-success\" :to=\"{ name: 'register', params: { raceid } }\">Register</RouterLink>\n          </div>\n          <div class=\"col\" v-if=\"!isRosterPage\">\n            <RouterLink class=\"btn btn-secondary\" :to=\"{ name: 'roster', params: { raceid } }\">See who is signed up\n            </RouterLink>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>","<script>\nimport dropdown from \"bootstrap/js/dist/dropdown\";\nimport { RouterLink } from \"vue-router\";\n\nexport default {\n  props: [\"races\"],\n  data() {\n    return {\n      count: 0,\n      loggedIn:false,\n    };\n  },\n  computed: {},\n};\n</script>\n\n<template>\n  <nav class=\"navbar navbar-expand-md navbar-dark bg-dark fixed-top\">\n    <div class=\"container-fluid\">\n      <a class=\"navbar-brand\" href=\"/\">Signup.bike</a>\n      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarsExample04\"\n        aria-controls=\"navbarsExample04\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n\n      <div class=\"collapse navbar-collapse\" id=\"navbarsExample04\">\n        <ul class=\"navbar-nav me-auto mb-4 mb-md-0 px-5\">\n          <li class=\"nav-item\">\n            <RouterLink class=\"nav-link\" :class=\"{ active: $route.name == 'home' }\" :to=\"{ name: 'home'}\">\n              Upcoming Races\n            </RouterLink>\n          </li>\n          <!-- <li class=\"nav-item\">\n            <RouterLink class=\"nav-link\" :class=\"{ active: $route.name == 'races' }\" :to=\"{ name: 'results'}\">\n              Results\n            </RouterLink>\n          </li> -->\n          <!-- <li class=\"nav-item\">\n            <a class=\"nav-link disabled\">Disabled</a>\n          </li> -->\n          <!-- <li class=\"nav-item dropdown\">\n            <a class=\"nav-link dropdown-toggle\" href=\"#\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">Dropdown</a>\n            <ul class=\"dropdown-menu\">\n              <li><a class=\"dropdown-item\" href=\"#\">Action</a></li>\n              <li><a class=\"dropdown-item\" href=\"#\">Another action</a></li>\n              <li><a class=\"dropdown-item\" href=\"#\">Something else here</a></li>\n            </ul>\n          </li> -->\n        </ul>\n        <button v-if=\"loggedIn\" type=\"button\" class=\"btn btn-secondary\" @click=\"$emit('logout')\">Logout</button>\n      </div>\n    </div>\n  </nav>\n</template>\n<style scoped>\n.nav-scroller {\n  position: relative;\n  z-index: 2;\n  height: 2.75rem;\n  overflow-y: hidden;\n}\n\n.nav-scroller .nav {\n  display: flex;\n  flex-wrap: nowrap;\n  padding-bottom: 1rem;\n  margin-top: -1px;\n  overflow-x: auto;\n  text-align: center;\n  white-space: nowrap;\n  -webkit-overflow-scrolling: touch;\n}\n</style>","<script>\nimport _ from \"lodash\";\nimport dropdown from \"bootstrap/js/dist/dropdown\";\nimport { RouterLink, RouterView } from \"vue-router\";\nimport request from \"@/lib/ApiClient\";\nimport EventDetailsComponent from \"./EventDetailsComponent.vue\";\nimport MainNav from \"@/components/MainNav.vue\";\nimport dayjs from '@/lib/dayjs';\n\nexport default {\n  emits: ['logout'],\n  components: {\n    MainNav,\n    RouterView,\n    EventDetailsComponent\n  },\n  data() {\n    return {\n      count: 0,\n      races: [],\n      loading: true,\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.query,\n      () => {\n        this.fetchData();\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    fetchData() {\n      this.error = null;\n      this.loading = true;\n      console.log('fetch plz')\n      if (this.$route) {\n       return request(`/api/races/`)\n          .then((response) => {\n            this.races = response.data;\n            this.loading = false;\n            console.log(\"fetched\")\n            console.log(this.races);\n            \n          })\n          .catch((err) => {\n            this.loading = false;\n            this.error = err.toString();\n            console.error(err);\n          });\n      }\n    }\n  },\n  computed: {\n    displayRaces(){\n      let series = {};\n      let filtered = _.filter(this.races, (raceInfo)=>{\n        \n        if(raceInfo.series && series[raceInfo.series]){\n          // console.log(\"exclude \"+raceInfo.series)\n          return false;\n        }\n        let isInFuture =  dayjs().isBefore(dayjs(raceInfo.eventDate));\n         console.log('isInFuture' + isInFuture + \" \"+raceInfo.displayName)\n        if(raceInfo.isTestData && !this.$route.query.test){\n          return false;\n        }\n        if(!isInFuture && !this.$route.query.past){\n          return false;\n        }\n        // console.log(\"show \"+raceInfo.raceid)\n        if(typeof raceInfo.series === 'string' && raceInfo.series.length > 1){\n            console.log(\"set as shown \"+raceInfo.raceid)\n            series[raceInfo.series] = true;\n          }\n        return true;\n      })\n      return filtered;\n      // order by upcoming race date?\n      //return _.sortBy(filtered, [function(o) { return o.displayName.toLowerCase(); }]);\n    },\n    loggedIn(){\n      return false;\n    }\n  },\n  \n};\n</script>\n\n<template>\n  <MainNav></MainNav>\n\n  <div v-if=\"loading\">\n    Plz wait, loading...\n  </div>\n  <div v-else>\n    <div v-for=\"(race, idx) in displayRaces\" :key=\"idx\">\n      <EventDetailsComponent :details=\"race.eventDetails\" :raceid=\"race.raceid\" compact-mode=\"true\"/>\n\n    </div>\n  </div>\n</template>\n<style scoped>\nbody {\n  font-size: .875rem;\n}\n\n.nav-scroller {\n  position: relative;\n  z-index: 2;\n  height: 2.75rem;\n  overflow-y: hidden;\n}\n\n.nav-scroller .nav {\n  display: flex;\n  flex-wrap: nowrap;\n  padding-bottom: 1rem;\n  margin-top: -1px;\n  overflow-x: auto;\n  text-align: center;\n  white-space: nowrap;\n  -webkit-overflow-scrolling: touch;\n}\n\n/*\n * Navbar\n */\n\nbody {\n  min-height: 75rem;\n  padding-top: 4.5rem;\n}\n</style>","<script>\n\nlet msToTimeString = (ms, showMillis = false)=>{\n    const d = new Date(Date.UTC(0,0,0,0,0,0,ms)),\n    parts = [\n        d.getUTCMinutes(),\n        d.getUTCSeconds()\n    ]\n    let minSecMillis=parts.map(s => String(s).padStart(2,'0')).join(':');\n    if(showMillis){\n      minSecMillis = minSecMillis.concat('.'+`${d.getUTCMilliseconds()}`.padStart(3,'0'));\n    }\n    if(d.getUTCHours()){\n        minSecMillis = d.getUTCHours() + \":\" +minSecMillis;\n    }\n    return minSecMillis;\n}\n\nexport default {\n  props: [\"data\",\"Pos\",\"totLaps\", \"showMillis\"],\n  data() {\n    return {\n      count: 0\n    }\n  },\n  methods:{\n    msToTimeString(millis){\n      return msToTimeString(millis, this.showMillis);\n    }\n  },\n\n  computed:{\n      incompleteLaps(){\n          let filler = new Array(this.totLaps - this.data.laps.length);\n          return filler.fill('-') \n      },\n      formattedTime(){\n          return msToTimeString(this.data.duration, this.showMillis);\n      },\n      trailingTime(){\n        if(!this.data.back){\n          return \"-\";\n        }\n        if(this.showMillis){\n          return msToTimeString(this.data.backMs, true);\n        }else{\n          return this.data.back;\n        }\n      }\n  }\n}\n</script>\n\n<template>\n  <td>{{Pos + 1}}</td>\n  <td>{{data.Bib}}</td>\n  <td>{{data.Name}}</td>\n  <!-- <td>{{data.Age}}</td> -->\n  <td>{{data.Sponsor}}</td>\n  <td v-for=\"(lap, idx) in data.laps\" :key=\"idx\">{{msToTimeString(lap.duration)}}</td>\n  <template v-if=\"totLaps-data.laps.length > 0\">\n      <td v-for=\"fill in incompleteLaps\">{{fill}}</td>\n  </template>\n  <td>{{formattedTime}}</td>\n  <td>{{trailingTime}}</td>\n\n</template>","<script>\nimport dropdown from \"bootstrap/js/dist/dropdown\";\nimport { RouterLink } from \"vue-router\";\nimport request from \"@/lib/ApiClient\";\n\n\nexport default {\n  props:['series'],\n  data() {\n    return {\n      count: 0,\n      seriesData:{}\n    };\n  },\n  created() {\n    this.$watch(()=>this.series, function () {\n      if(!this.series){\n        return;\n      }\n    let dataUrl = `/api/series/${this.series}/races`\n    request(dataUrl)\n      .then(({data}) => {\n        this.seriesData = data;\n      });\n  })\n  },\n  computed: {\n    isPcrs(){\n      return this.series && this.series.indexOf('pcrs') > -1;\n    }\n  },\n};\n</script>\n\n<template>\n  <nav id=\"top\" class=\"navbar navbar-light bg-light\">\n    <div class=\"container-fluid\">\n      <div class=\"navbar-brand\" href=\"#\">{{seriesData.displayName}}</div>\n\n      <div class=\"nav-item\" v-if='seriesData.homepage'>\n        <a\n          class=\"nav-link active\"\n          aria-current=\"page\"\n          :href=\"seriesData.homepage.url\"\n          >{{seriesData.homepage.linkString}}</a\n        >\n      </div>\n    </div>\n  </nav>\n  <p class=\"mt-3\">View Weekly lap times:</p>\n  <ul class=\"nav nav-tabs mt-1 justify-content-center\">\n    <li v-for=\"race in seriesData.races\" :key=\"race.raceid\" class=\"nav-item\">\n      <RouterLink\n        class=\"nav-link\"\n        :class=\"{ active: $route.params.raceid === race.raceid }\"\n        :to=\"`/race/${race.raceid}`\"\n        >{{ race.displayName + ` - ${race.formattedStartDate}` }}</RouterLink\n      >\n    </li>\n    <li class=\"nav-item\" v-if='isPcrs'>\n      <RouterLink\n        class=\"nav-link\"\n        :class=\"{ active: $route.path == '/series/pcrs_2022' }\"\n        :to=\"`/series/pcrs_2022`\"\n        >Series Standings</RouterLink\n      >\n    </li>\n    <li class=\"nav-item\" v-if='isPcrs'>\n      <RouterLink\n        class=\"nav-link\"\n        :class=\"{ active: $route.path == '/series/grom/pcrs_2022' }\"\n        :to=\"`/series/grom/pcrs_2022`\"\n        >Grom Series Standings</RouterLink\n      >\n    </li>\n    <li class=\"nav-item\" v-if='isPcrs'>\n      <RouterLink\n        class=\"nav-link\"\n        :class=\"{ active: $route.path == '/teamcomp/pcrs_2022' }\"\n        :to=\"`/teamcomp/pcrs_2022`\"\n        >Team Competition</RouterLink\n      >\n    </li>\n  </ul>\n</template>","<script>\nimport _ from \"lodash\";\nimport ResultRow from \"./ResultRow.vue\";\nimport SeriesNavBar from \"./SeriesNavBar.vue\";\nimport request from \"@/lib/ApiClient\";\n\nexport default {\n  components: {\n    ResultRow,\n    SeriesNavBar,\n  },\n  data() {\n    return {\n      categories: {},\n      loading: false,\n      error: null,\n      formattedStartDate:\"\",\n      series:null,\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        this.fetchData();\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    scrollMeTo(refName) {\n      var element = document.querySelector(`#${refName}`);\n      element.scrollIntoView({ behavior: \"smooth\" });\n    },\n    fetchData() {\n      this.error = null;\n      this.loading = true;\n      if (this.$route.params.raceid) {\n        let dataUrl = `/api/races/results/${this.$route.params.raceid}`;\n        request(dataUrl)\n          .then(({data}) => {\n            this.formattedStartDate = data.raceMeta.formattedStartDate;\n            this.series = data.series;\n            this.loading = false;\n            this.categories = data.categories;\n          })\n          .catch((err) => {\n            console.error(err);\n            this.categories = {};\n            this.error = err.toString();\n          });\n      }\n    },\n  },\n  computed: {\n    sortedCats() {\n      return _.orderBy(this.categories, \"disporder\");\n    },\n    expertCats(){\n        return _.filter(this.sortedCats, {laps:4});\n    },\n    sportCats(){\n        return _.filter(this.sortedCats, {laps:3});\n    },\n    beginnerCats(){\n        return _.filter(this.sortedCats, {laps:2});\n    },\n    gromCats(){\n          return _.filter(this.categories, (cat)=>cat.id.indexOf('grom')>-1);\n    },\n    haveResults() {\n      if (!this.categories) {\n        return false;\n      }\n      return Object.keys(this.categories).length > 0;\n    },\n  },\n};\n</script>\n\n<template>\n<SeriesNavBar :series=\"series\" />\n    <div v-if=\"formattedStartDate\" class=\"text-center\">\n        <h2 class=\"mt-5\">Race Results - {{formattedStartDate}}</h2>\n    </div>\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n\n    <div v-if=\"haveResults\">\n      <div class=\"container text-center mt-5\">\n       <ul class=\"list-inline\">\n          <template v-for=\"(cat, key) in expertCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n        <ul class=\"list-inline\">\n          <template v-for=\"(cat, key) in sportCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n        <ul class=\"list-inline\">\n          <template v-for=\"(cat, key) in beginnerCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n        <ul class=\"list-inline\">\n          <template v-for=\"(cat, key) in gromCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n      </div>\n      <div class=\"container-fluid\">\n        <div v-for=\"(cat, key) in sortedCats\" :key=\"cat.id\" class=\"mt-5\">\n          <h3 :id=\"cat.id\">{{ cat.catdispname }}</h3>\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th\n                  v-for=\"(columnName, index) in cat.columns\"\n                  scope=\"col\"\n                  :key=\"index\"\n                >\n                  {{ columnName }}\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(racer, idx) in cat.results\" :key=\"idx\">\n                <ResultRow :totLaps=\"cat.laps\" :Pos=\"idx\" :data=\"racer\" />\n              </tr>\n            </tbody>\n          </table>\n          <a role=\"button\" @click=\"scrollMeTo('top')\" class=\"link-primary\"\n            >Back to Top</a\n          >\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"text-center\">\n        <h2 class=\"mt-5\">No results yet...</h2>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\n\ntable.table {\n--bs-table-hover-bg: #76c8ff;\n}\n</style>\n","<script>\nimport dropdown from \"bootstrap/js/dist/dropdown\";\nimport { RouterLink } from \"vue-router\";\nimport request from \"@/lib/ApiClient\";\n\n\nexport default {\n  props:['series','displayName'],\n  data() {\n    return {\n      count: 0,\n      seriesData:{},\n      races:[]\n    };\n  },\n  created() {\n    this.$watch(()=>this.series, function () {\n      if(!this.series){\n        return;\n      }\n    let dataUrl = `/api/results/?series=${this.series}`\n    request(dataUrl)\n      .then(({data}) => {\n        this.races = data;\n        return request(`api/results/series/?series=${this.series}`)\n      })\n      .then(({data})=>{\n        this.seriesData = data;\n      })\n  })\n  },\n  computed: {\n    isPcrs(){\n      return this.series && this.series.indexOf('pcrs') > -1;\n    },\n    hasTeamComp(){\n      return this.seriesData?.teamCompDates?.length > 1;\n    }\n  },\n};\n</script>\n\n<template>\n  <nav id=\"top\" class=\"navbar navbar-light bg-light\">\n    <div class=\"container-fluid\">\n      <div class=\"navbar-brand h2\" href=\"#\">{{displayName || seriesData.eventName}}</div>\n\n      <!-- <div class=\"nav-item\" v-if='seriesData.homepage'>\n        <a\n          class=\"nav-link active\"\n          aria-current=\"page\"\n          :href=\"seriesData.homepage.url\"\n          >{{seriesData.homepage.linkString}}</a\n        >\n      </div> -->\n    </div>\n  </nav>\n  <p class=\"mt-3\">View Individual Event Times:</p>\n  <ul class=\"nav nav-tabs mt-1 justify-content-center\">\n    <li v-for=\"race in races\" :key=\"race.raceid\" class=\"nav-item\">\n      <RouterLink\n        class=\"nav-link\"\n        :class=\"{ active: $route.params.id === race.raceid && $route.name =='raceResult' }\"\n        :to=\"`/result/${race.raceid}`\"\n        >{{ race.eventName + ` - ${race.formattedStartDate}` }}</RouterLink\n      >\n    </li>\n    <li v-if=\"hasTeamComp\">\n      <RouterLink\n        class=\"nav-link\"\n        :class=\"{ active: $route.name == 'seriesResults' }\"\n        :to=\"{ name: 'seriesResults', params: { seriesid: series }}\"\n        >Overall Standings</RouterLink\n      ></li>\n    <li v-if=\"hasTeamComp\">\n      <RouterLink\n        class=\"nav-link\"\n        :class=\"{ active: $route.name == 'teamCompResults' }\"\n        :to=\"{ name: 'teamCompResults', params: { seriesid: series }}\"\n        >Team Competition Standings</RouterLink\n      ></li>\n  </ul>\n</template>","<script>\nimport _ from \"lodash\";\nimport ResultRow from \"./ResultRow.vue\";\nimport SeriesNavBar from \"./SeriesResultNavComponent.vue\";\nimport request from \"@/lib/ApiClient\";\n\n\n\nexport default {\n  components: {\n    ResultRow,\n    SeriesNavBar,\n  },\n  data() {\n    return {\n      resultData:{},\n      categories: {},\n      loading: false,\n      error: null,\n      formattedStartDate:\"\",\n      series:null,\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        this.fetchData();\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    scrollMeTo(refName) {\n      var element = document.querySelector(`#${refName}`);\n      element.scrollIntoView({ behavior: \"smooth\" });\n    },\n    fetchData() {\n      this.error = null;\n      this.loading = true;\n      if (this.$route.params.id) {\n        let dataUrl = `/api/results/${this.$route.params.id}`;\n        request(dataUrl)\n          .then(({data}) => {\n            this.formattedStartDate = data.formattedStartDate;\n            this.series = data.series;\n            this.resultData = data;\n            this.loading = false;\n            this.categories = data.categories;\n          })\n          .catch((err) => {\n            console.error(err);\n            this.categories = {};\n            if(err.response.status == 404){\n              this.error = '';\n\n            }else{\n\n              this.error = err.toString();\n            }\n            this.loading = false;\n          });\n      }\n      else{\n        this.$router.push('');\n      }\n    },\n    metaColumns(cols) {\n      return cols.slice(0,4)\n    },\n    lapColumns(firstRacerLaps) {\n      let headers = [];\n      for(let i = 1; i<=firstRacerLaps.length; i++){\n        headers.push(`Lap ${i}`);\n      }\n      if(this.fastestLapScoring){\n        headers.push(`Fastest Lap:`);\n      }else{\n        headers.push(`Total`);\n      }\n      headers.push(`Time Behind Leader`);\n      \n      return headers\n    },\n  },\n  computed: {\n    fastestLapScoring(){\n      return this.resultData.scoringType == 'fastestlap';\n    },\n    sortedCats() {\n      return _.orderBy(this.categories, \"disporder\");\n    },\n    haveResults() {\n      if (!this.categories) {\n        return false;\n      }\n      return Object.keys(this.categories).length > 0;\n    },\n  },\n};\n</script>\n\n<template>\n<SeriesNavBar :series=\"series\" v-if=\"series\"/>\n    <div v-if=\"resultData.eventName\" class=\"text-center\">\n        <h2 class=\"mt-5\">Race Results - {{resultData.eventName}}</h2>\n    </div>\n    <div v-if=\"formattedStartDate\" class=\"text-center\">\n        <h2 class=\"mt-5\">{{formattedStartDate}}</h2>\n    </div>\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n\n    <div v-if=\"haveResults\">\n      <div id=\"top\" class=\"container text-center mt-5\">\n        <ul class=\"list-inline\">\n          <template v-for=\"(cat, key) in sortedCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n      </div>\n      <div class=\"container-fluid\">\n        <div v-for=\"(cat, key) in sortedCats\" :key=\"cat.id\" class=\"mt-5\">\n          <h3 :id=\"cat.id\">{{ cat.catdispname }}</h3>\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th\n                  v-for=\"(columnName, index) in metaColumns(cat.columns)\"\n                  scope=\"col\"\n                  :key=\"index\"\n                >\n                  {{ columnName }}\n                </th>\n                <th\n                  v-for=\"(columnName, index) in lapColumns(cat.results[0].laps)\"\n                  scope=\"col\"\n                  :key=\"index\"\n                >\n                  {{ columnName }}\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(racer, idx) in cat.results\" :key=\"idx\">\n                <ResultRow :totLaps=\"cat.results[0].laps.length\" :Pos=\"idx\" :data=\"racer\" :showMillis=\"resultData.showMillis || fastestLapScoring\" />\n              </tr>\n            </tbody>\n          </table>\n          <a role=\"button\" @click=\"scrollMeTo('top')\" class=\"link-primary\"\n            >Back to Top</a\n          >\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"text-center\">\n        <h2 class=\"mt-5\">No results yet...</h2>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\n\ntable.table {\n--bs-table-hover-bg: #76c8ff;\n}\n</style>\n","<script>\n\nexport default {\n  props: [\"data\",\"Pos\"],\n  data() {\n    return {\n      count: 0\n    }\n  },\n  computed:{\n  }\n}\n</script>\n\n<template>\n  <td>{{Pos + 1}}</td>\n  <td>{{data.Bib}}</td>\n  <td>{{data.Name}}</td>\n  <td>{{data.Age}}</td>\n  <td>{{data.Sponsor}}</td>\n  <td :class='{\"text-danger\":race.dropped}' v-for=\"(race, idx) in data.results\" :key=\"idx\">{{race.resultString}}</td>\n  <td>{{data.seriesPoints}}</td>\n\n</template>\n\n<style>\n\n.dropped {\ncolor: #ff7676;\n}\n</style>","<script>\nimport _ from \"lodash\";\nimport request from \"@/lib/ApiClient\";\nimport SeriesResultRow from \"./SeriesResultRow.vue\";\nimport SeriesNavBar from \"./SeriesResultNavComponent.vue\";\n\nexport default {\n  components: {\n    SeriesResultRow,\n    SeriesNavBar,\n  },\n  data() {\n    return {\n      categories: {},\n      loading: false,\n      error: null,\n      displayName: \"\",\n      series: null\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        this.fetchData();\n        \n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    scrollMeTo(refName) {\n        var element = document.querySelector(`#${refName}`)\n        element.scrollIntoView({ behavior: 'smooth' })\n    },\n    fetchData() {\n      if(!this.$route.params.seriesid){\n        return;\n      }\n      this.error = null;\n      this.loading = true;\n      let dataUrl = `/api/series/results/${this.$route.params.seriesid}`;\n      request(dataUrl)\n        .then(({data}) => {\n          this.loading = false;\n          this.categories = data.categories;\n          this.displayName = data.eventName;\n          this.series = this.$route.params.seriesid;\n          let temp = _.map(data.categories, (cat)=>_.omit(cat, ['results','columns']))\n          // console.log('temp:', _.orderBy(temp, 'disporder'))\n        })\n        .catch((err) => {\n          console.error(err);\n          this.categories = {};\n          this.error = err.toString();\n        });\n    },\n  },\n  computed: {\n    sortedCats() {\n      \n      return _.orderBy(this.categories, \"disporder\");\n    },\n    haveResults() {\n      if (!this.categories) {\n        return false;\n      }\n      return Object.keys(this.categories).length > 0;\n    },\n    isPCRS(){\n      return _.isString(this.series) && this.series.indexOf('pcrs') > -1;\n    }\n  },\n};\n</script>\n\n<template>\n  <SeriesNavBar :series=\"series\" :displayName=\"displayName\"/>\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n     <div class=\"container-fluid text-center mt-5\">\n    <h3>Series Standings</h3>\n    <p>Glossary of terms below:</p>\n    <p v-if=\"isPCRS\">1/50 = 1st Place/50 Points &nbsp&nbsp-/- = Did not race</p>\n    <p v-else>1/100 = 1st Place/100 Points &nbsp&nbsp-/- = Did not race</p>\n  </div>\n    <div v-if=\"haveResults\">\n      <div class=\"container-fluid text-center mt-5\">\n          <ul class=\"list-inline\">\n          <template v-for=\"(cat) in sortedCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n      </div>\n      <div class=\"container-fluid\">\n        <div v-for=\"(cat) in sortedCats\" :key=\"cat.id\" class=\"mt-5\">\n          <h3 :id=\"cat.id\">{{ cat.catdispname }}</h3>\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th\n                  v-for=\"(columnName, index) in cat.columns\"\n                  scope=\"col\"\n                  :key=\"index\"\n                >\n                  {{ columnName }}\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(racer, idx) in cat.results\" :key=\"idx\">\n                <SeriesResultRow :Pos=\"idx\" :data=\"racer\" />\n              </tr>\n            </tbody>\n          </table>\n          <a role=\"button\" @click=\"scrollMeTo('top')\" class=\"link-primary\">Back to Top</a>\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"text-center\">\n        <h2 class=\"mt-5\">No results yet...</h2>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\n\ntable.table {\n--bs-table-hover-bg: #76c8ff;\n}\n\n</style>\n","<script>\nimport _ from \"lodash\";\nimport dayjs from 'dayjs/esm/index.js'\n\nexport default {\n  props: [\"categories\", \"raceDate\"],\n  data() {\n    return {};\n  },\n  methods: {\n    formatStartTime(startTime) {\n      return dayjs(`${dayjs(this.raceDate).format(\"YYYY-MM-DD\")} ${startTime}`).format(\"h:mm A\");\n    },\n  },\n  computed: {\n    groupByStartTimes() {\n      return _.groupBy(\n        _.orderBy(this.categories, [\"startTime\", \"disporder\"]),\n        \"startTime\"\n      );\n    },\n    hasStartTimes(){\n      return !!_.some(this.categories, 'startTime')\n    }\n  },\n};\n</script>\n\n<template>\n  <div v-if=\"categories.length && hasStartTimes\">\n    <h5>Race Start Times:</h5>\n  <div class=\"row gap-5 mb-3\">\n\n    <div v-for=\"(timeGroup, time) in groupByStartTimes\" :key=\"time\" class=\"col-md-5\">\n        <h6 class=\"\">{{formatStartTime(time)}}:</h6>\n        <div class=\"row g-2 px-4 gx-4 border bg-light\">\n          <div v-for=\"category in groupByStartTimes[time]\" :key=\"category.id\" class=\"col-lg text-nowrap my-1\">{{category.catdispname}}</div>\n        </div>\n  </div>\n  </div>\n  </div>\n</template>","<script>\nimport _ from \"lodash\";\nimport request from \"@/lib/ApiClient\";\nimport EventDetailsComponent from \"@/components/EventDetailsComponent.vue\";\nimport EventCategoryScheduleComponent from \"@/components/EventCategoryScheduleComponent.vue\"\nimport dayjs from '@/lib/dayjs';\nimport MainNav from \"@/components/MainNav.vue\";\n\nlet saveForm =  _.debounce((data, raceid)=>{\n  window.localStorage.setItem(`race-reg-form-data-${raceid}`, JSON.stringify(data))\n}, 3500);\nlet getForm = (raceid)=>{\n  let data = window.localStorage.getItem(`race-reg-form-data-${raceid}`);\n  if(data){\n    let parsed = {};\n    try{\n      parsed = JSON.parse(data);\n    }catch(err){\n      // ignore invalid json\n    }\n    return parsed;\n  }\n  return null;\n}\nlet clearFormStorage = (raceid)=>{\n  window.localStorage.removeItem(`race-reg-form-data-${raceid}`);\n}\n\nfunction getFees(priceInDollars){\n    if(priceInDollars === 0){\n      return 0\n    }\n    let cents = priceInDollars * 100;\n    let onlineFee = cents * .04;\n    if(onlineFee > 600){\n        onlineFee = 600\n    }\n\n    let ccFee = Math.round((cents + onlineFee + 30)/( 1 - .029 ));\n\n    return ccFee - cents;\n    // return { stripeFee: ccFee - onlineFee - cents, regFee: onlineFee };\n}\n\nexport default {\n  components: {\n    MainNav,\n    EventDetailsComponent,\n    EventCategoryScheduleComponent,\n  },\n  data() {\n    return {\n      categories: {},\n      loading: false,\n      error: null,\n      formError: [],\n      formInputData: {},\n      raceData: {},\n      payment: \"\",\n      birthdate: \"\",//\"1990-03-05\",\n      submitted: false,\n      waiverAccepted: false,\n      couponError: [],\n      prevBibError: [],\n      seriesRaces:{},\n      seriesRaceIdx:0,\n      previousReg: false,\n      prevAge: null,\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params.raceid,\n      () => {\n        this.fetchData();\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  watch: {\n    formInputData: {\n      handler(newValue, oldValue) {\n        if(this.previousReg == false){\n          saveForm(newValue, this.$route.params.raceid);\n        }\n        // Note: `newValue` will be equal to `oldValue` here\n        // on nested mutations as long as the object itself\n        // hasn't been replaced.\n      },\n      deep: true\n    }\n  },\n  methods: {\n    dollas(amt) {\n      return amt.toLocaleString(\"en-US\", { style: \"currency\", currency: \"USD\" });\n    },\n    fetchData() {\n      this.error = null;\n      this.loading = true;\n      if (this.$route.params.raceid) {\n        request(`/api/races/${this.$route.params.raceid}`)\n          .then(async (response) => {\n            this.raceData = response.data;\n            let prevFormData = getForm(this.$route.params.raceid);\n            if(prevFormData){\n              let category = _.find(this.raceData?.regCategories, { \"id\": prevFormData.category });\n              if(!category){\n                delete prevFormData.category;\n              }\n              prevFormData.waiverAccepted = false;\n              this.formInputData = prevFormData;\n            }\n            if(this.raceData.series && this.raceData.toString().length > 1){\n              await request(`/api/series/${this.raceData.series}/registration`)\n                .then(({data})=>{\n                  this.seriesRaces = data;\n                  let now = dayjs();\n                  this.seriesRaceIdx = 0;\n                  _.some(data, ({eventDate,raceid}, idx)=>{\n                    if(dayjs(eventDate).isBefore(now)){\n                      return false;\n                    }\n                    else{\n                      this.seriesRaceIdx = idx;\n                      this.$router.push(`/register/${raceid}`)\n                      return true;\n                    }\n                    })\n                })\n            }\n            this.loading = false;\n            this.payment = this.raceData.paymentOptions[0].type;\n          })\n          .catch((err) => {\n            this.loading = false;\n            this.error = err.toString();\n            console.error(err);\n          });\n      }\n    },\n    findPrevBib(bibNumber) {\n      request.post(`/api/racers/bib`, {\n        series: `${this.raceData.series}`,\n        bibNumber\n      })\n        .then(({ data }) => {\n          console.log('prevbib')\n          console.log(data);\n          if(data.paytype === 'season'){\n            this.prevBibError = ['You are already registered for the whole season']\n            return;\n          }\n          data.prevPaymentId = data.paymentId;\n          delete data.paymentId;\n          this.formInputData = data;\n          this.prevAge = data.racerAge\n        })\n        .catch(({response})=>{\n          console.dir(response)\n          if(response.status== 404){\n            this.prevBibError=[response.data.message]\n          }\n        })\n\n    },\n    onPrevBibChange(data){\n      if (data) {\n        this.findPrevBib(data);\n      } else {\n        this.prevBibError = [];\n        this.prevAge = null;\n      }\n    },\n    getCouponPricing(couponCode) {\n      request.post(`/api/payments/pricing`, {\n        raceid: `${this.$route.params.raceid}`,\n        couponCode\n      })\n        .then(({ data }) => {\n          this.raceData.paymentOptions = data.paymentOptions;\n          \n\n          if (!data.validCoupon) {\n            if(data.reason){\n              return this.couponError = [data.reason];\n            }\n            this.couponError = [\"Invalid Coupon Code\"];\n          } else {\n            this.couponError = [];\n          }\n        })\n\n    },\n    onCouponChange(data) {\n      if (data) {\n        this.getCouponPricing(data);\n      } else {\n        this.couponError = [];\n      }\n    },\n    submitForm(clickEvent) {\n      clickEvent.preventDefault();\n      this.$formkit.submit(\"race-registration\");\n    },\n    async submit(data) {\n      console.log(data);\n      data.birthdate = undefined;\n      data.racerAge = this.racerAge;\n      data.paytype = this.payment;\n      data.timestamp = dayjs().format();\n      await request\n        .post(\n          `/api/payments/start-registration?race=${this.raceData.raceid}`,\n          data\n        )\n        .then((response) => {\n          if (response.data) {\n            console.log(\"response data\");\n            console.log(response.data);\n            if(response.data.redirect){\n              this.submitted = true;\n              clearFormStorage(this.$route.params.raceid);\n              return new Promise((resolve) =>\n              setTimeout(() => {\n                window.location.href = response.data.redirect;\n                resolve();\n              }, 2000)\n              );\n            }else{\n              if(response.data.message){\n                this.formError = [response.data.message];\n              }\n            }\n          }\n        })\n        .catch((error) => {\n          if(error.response?.data?.message){\n            return this.formError = [error.response.data.message];\n          }\n          this.formError = [\"Error submitting request\"];\n        });\n    },\n    getEventTimeObj(startTime) {\n      return dayjs(`${dayjs(this.raceData.eventDate).format(\"YYYY-MM-DD\")} ${startTime}`)\n    }\n  },\n  computed: {\n    startTimes() {\n      if (this.hasStartTimes) {\n        return _.map(_.uniqBy(this.raceData.regCategories, 'startTime'), 'startTime');\n      }\n      return null;\n    },\n    hasStartTimes() {\n      return !!_.some(this.raceData.regCategories, 'startTime')\n    },\n    currentTime() {\n      return dayjs().local().format();\n    },\n    firstRaceTime() {\n      if (this.hasStartTimes) {\n        return dayjs.min(_.map(this.startTimes, (time) => dayjs(`${this.eventDateFormatted} ${time}`)));\n      }\n      return null;\n    },\n    lastRaceTime() {\n      if (this.hasStartTimes) {\n        return dayjs.max(_.map(this.startTimes, (time) => dayjs(`${this.eventDateFormatted} ${time}`)));\n      }\n      return null;\n    },\n    sortedCats() {\n      const filtered = _.filter(this.raceData.regCategories, (cat) => {\n        // if (cat.startTime && dayjs().isAfter(this.getEventTimeObj(cat.startTime).subtract(20, 'minute'))) {\n        //   return false;\n        // }\n\n        // if (cat.minAge && this.racerAge < cat.minAge) {\n        //   return false\n        // }\n        // if (cat.maxAge && this.racerAge > cat.maxAge) {\n        //   return false\n        // }\n        return true;\n      })\n      let cats = {};\n      _.forEach(\n        _.orderBy(filtered, \"disporder\"),\n        (element) => {\n          cats[element.id] = element.catdispname;\n        }\n      );\n      return cats;\n    },\n    loaded() {\n      if (!this.raceData) {\n        return false;\n      }\n      return true;\n    },\n    submitLabel() {\n      if (this.payment == 'cash' || this.sponsoredCategorySelected) {\n        return \"Sign Up!\"\n      }\n      return \"Go to Payment\"\n    },\n    cashEnabled() {\n      if(!this.raceData.cashPaymentsEnabled){\n        return false;\n      }\n      return true;\n    },\n    eventDateFormatted() {\n      return dayjs(this.raceData.eventDate).format('YYYY-MM-DD');\n    },\n    regDisabled() {\n      if(this.$route.query.test !== undefined){\n        return false;\n      }\n      if(this.eventFull){\n        return true;\n      }\n      if(dayjs().isBefore(this.raceData.eventDetails.regOpenDate)){\n        return true;\n      }\n      if(this.raceData.eventDetails.regCloseDate && dayjs().isAfter(this.raceData.eventDetails.regCloseDate)){\n        return true;\n      }\n      if(!this.lastRaceTime){\n        return false;\n      }\n      return dayjs().isAfter(this.lastRaceTime.subtract(5, 'minute'))\n    },\n    eventFull(){\n      if(this.raceData.entryCountMax && this.raceData.entryCountMax > 1){\n        if(this.raceData.entryCount >= this.raceData.entryCountMax){\n          return true;\n        }\n      }\n      return false;\n    },\n    paymentOptions() {\n      let options = {};\n      _.forEach(this.raceData.paymentOptions, (element) => {\n        options[element.type] = element.name;\n      });\n      if (this.cashEnabled) {\n        options['cash'] = 'Cash Payment (Today\\'s Race Only)';\n      }\n      return options;\n    },\n    paymentCostDets() {\n      if(!this.selectedCategory){\n        return {}\n      }\n      if (this.paymenttypeRequiredCategorySelected) {\n        this.payment = this.selectedCategory?.paytype;\n      }\n      if (this.sponsoredCategorySelected) {\n        this.payment = \"season\";\n        return {\n          cost: this.dollas(0),\n          regFee: this.dollas(0),\n          tot: this.dollas(0)\n        }\n      }\n      let altPaytype;\n      if (this.payment === 'cash') {\n        altPaytype = 'single';\n      } else {\n        altPaytype = this.payment;\n      }\n      let payOpt = _.find(this.raceData?.paymentOptions,\n        (el) => el.type === altPaytype\n      );\n      if (!payOpt){\n        // couldn't find selected paytype, reset selection\n        this.payment = \"single\";\n        payOpt = _.find(this.raceData?.paymentOptions,\n          (el) => el.type === this.payment\n        );\n      }\n      const amt = parseFloat(payOpt.amount);\n      let fees = 0;\n      if (amt > 0 && this.payment !== 'cash') {\n        fees = (payOpt.regFee + payOpt.stripeFee) / 100;\n      }\n      const dets = {}\n      _.assign(dets, payOpt, {\n        name: payOpt.name,\n        cost: this.dollas(amt),\n        regFee: this.dollas(fees),\n        tot: this.dollas(\n          parseFloat(payOpt.amount) + parseFloat(fees)\n        ),\n\n      });\n      if (this.raceData?.optionalPurchases && this.formInputData.optionalPurchases) {\n        let newTot = amt;\n        this.raceData.optionalPurchases.forEach(({ id, label, description, amount }) => {\n          if (this.formInputData.optionalPurchases[id]) {\n            if (!dets.options) {\n              dets.options = [];\n            }\n            dets.options.push({ description,label, id, amount:this.dollas(parseFloat(amount)) })\n            newTot += parseFloat(amount);\n          }\n        })\n        fees = getFees(newTot)/100\n        dets.regFee = this.dollas(fees);\n        dets.tot = this.dollas(newTot + fees)\n\n      }\n      return dets;\n    },\n    showPaymentOption() {\n      if (this.paymenttypeRequiredCategorySelected) {\n        return false;\n      }\n      if (this.sponsoredCategorySelected) {\n        return false;\n      }\n      if(this.cashEnabled){\n        return true;\n      }\n      if (this.raceData.paymentOptions && this.raceData.paymentOptions.length < 2) {\n        return false;\n      }\n      return true;\n    },\n    paymenttypeRequiredCategorySelected(){\n      if (!this.selectedCategory || this.selectedCategory?.paytype) {\n        return true;\n      }\n      return false;\n    },\n    sponsoredCategorySelected() {\n      if (this.selectedCategory?.sponsored) {\n        return true;\n      }\n      return false;\n    },\n    selectedCategory() {\n      if (this.formInputData && this.formInputData.category) {\n        return _.find(this.raceData?.regCategories, { \"id\": this.formInputData?.category });\n      }\n      return null;\n    },\n    racerAge() {\n      if(this.prevAge){\n        return this.prevAge;\n      }\n      if (this.birthdate) {\n        //calculate racer age on dec 31\n        const dec31 = dayjs();\n        const bday = dayjs(this.birthdate);\n\n        return dec31.year() - bday.year();\n\n      }\n    }\n  },\n};\n</script>\n\n<template>\n   <MainNav></MainNav>\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n\n    <div v-if=\"loaded\">\n      <EventDetailsComponent :details=\"raceData.eventDetails\" :raceid=\"raceData.raceid\" />\n      <div v-if=\"eventFull\" class=\"h5\">This event has reached the registration entry max of {{ raceData.entryCountMax }}</div>\n      <div v-if=\"regDisabled\">\n        <h3>Registration is closed.</h3>\n      </div>\n      <div v-else class=\"mb-5\">\n        <div class=\"mb-3\" v-if=\"raceData?.headerContent\" v-html=\"raceData.headerContent\"></div>\n        <div v-if=\"seriesRaceIdx > 0\">\n          \n          <FormKit label-class=\"text-danger fw-bold fs-5\" type=\"checkbox\" name=\"prevBibLookup\" label=\"I have a bib number!\" help=\"Look up your information from a previous race\" v-model=\"previousReg\" />\n          <FormKit v-if=\"previousReg\" \n                  type=\"number\" name=\"bibNumber\" \n                  label=\"Bib Number:\" \n                  help=\"Enter your Bib Number from your previous race to pre-fill your info\" \n                  :delay=\"1500\" \n                  @input=\"onPrevBibChange\"\n                  :errors=\"prevBibError\"\n                  validation=\"required\" />  \n        </div>\n        <FormKit type=\"form\" id=\"race-registration\" v-model=\"formInputData\" :form-class=\"submitted ? 'hide' : 'show'\"\n          :errors=\"formError\" :actions=\"false\" @submit=\"submit\">\n          <div class=\"row\">\n            <div class=\"col-md-6 order-md-1 mb-3\">\n              <h4 class=\"d-flex justify-content-between align-items-center mb-3\">\n                <h5>Registration Info</h5>\n                <span class=\"badge badge-secondary badge-pill\">3</span>\n              </h4>\n              \n                <FormKit type=\"text\" name=\"first_name\" label=\"First name\" help=\"What is your first name\"\n                  validation=\"required\" />\n                <FormKit type=\"text\" name=\"last_name\" label=\"Last name\" help=\"What is your last name\"\n                  validation=\"required\" />\n              <div class=\"form-group pt-3\">\n                <FormKit v-if=\"!previousReg\" type=\"email\" name=\"email\" label=\"Your email\" help=\"Enter an email address\"\n                  validation=\"required|email\" />\n              </div>\n              <FormKit type=\"text\" name=\"sponsor\" label=\"Your Team or Sponsor\"\n                help=\"Enter an optional Team or Sponsor name\" />\n              <FormKit v-if=\"!previousReg\" type=\"date\" value=\"2001-01-01\" name=\"birthdate\" label=\"Birthday\" v-model=\"birthdate\"\n                help=\"Enter your birthdate\" validation=\"required|before:2020-01-01\"\n                validation-visibility=\"live\" />\n              <div>Age: {{racerAge}}</div>\n              <div class=\"form-group pt-3\">\n                <FormKit type=\"select\" id=\"category\" label=\"Category:\" placeholder=\"Select a category\"\n                  name=\"category\" :options=\"sortedCats\" validation=\"required\" validation-visibility=\"dirty\"\n                  :validation-messages=\"{\n                    is: 'You must select a category',\n                  }\" />\n              </div>\n            </div>\n            <div class=\"col-md-5 order-md-2 mb-4\" v-if=\"paymentCostDets\">\n              <h4 class=\"d-flex justify-content-between align-items-center mb-3\">\n                <h5>Payment Detail</h5>\n              </h4>\n              <fieldset class=\"list-group mb-3\">\n                <div>\n                  <FormKit type=\"text\" name=\"coupon\" label=\"Coupon Code\" help=\"\" :delay=\"1000\" @input=\"onCouponChange\"\n                    v-if=\"raceData.couponsEnabled\" :errors=\"couponError\" />\n                </div>\n              </fieldset>\n              <fieldset class=\"list-group mb-3\">\n                <div>\n                  <FormKit type=\"radio\" name=\"paytype\" label=\"Payment option\" :options=\"paymentOptions\"\n                    validation=\"required\" v-model=\"payment\" v-if=\"showPaymentOption\" />\n                </div>\n              </fieldset>\n              <div v-if=\"raceData.optionalPurchases\"><!--  && showPaymentOption\"> -->\n                <FormKit type=\"group\" name=\"optionalPurchases\">\n                <div v-for=\"(item, idx) in raceData.optionalPurchases\" class=\"list-group mb-3\">\n                  <h6 v-html=\"item.description\"></h6>\n                  <FormKit type=\"checkbox\" :label=\"`${item.label} - ${dollas(parseFloat(item.amount))}`\" :name=\"item.id\" />\n                  <FormKit v-if=\"item.options && formInputData.optionalPurchases[item.id]\" type=\"select\" :options=\"item.options\" :label=\"item.optionsLabel\" :name=\"`${item.id}-option`\"></FormKit>\n                </div>\n                </FormKit>\n              </div>\n              <ul class=\"list-group mb-3 formkit-fieldset\">\n                <li class=\"\n                  list-group-item\n                  d-flex\n                  justify-content-between\n                  lh-condensed\n                \">\n                  <div>\n                    <h6 class=\"my-0\">Event Entry:</h6>\n                    <small class=\"text-muted\">{{ paymentCostDets.name }}</small>\n                  </div>\n                  <div>\n                    <span v-if=\"paymentCostDets.discounted\" class=\"mx-3 text-decoration-line-through text-danger\">{{\n                    dollas(paymentCostDets.orig) }}</span>\n                    <span :class=\"{'text-success':paymentCostDets.discounted}\">{{ paymentCostDets.cost }}</span>\n                  </div>\n                </li>\n                <li  v-if=\"paymentCostDets.options\" v-for=\"(item, id) in paymentCostDets.options\" class=\"\n                  list-group-item\n                  d-flex\n                  justify-content-between\n                  lh-condensed\n                \">\n                  <div>\n                    <h6 class=\"my-0\">{{item.label}}</h6>\n                    <small v-if=\"item.option\" class=\"text-muted\">{{ item.option }}</small>\n                  </div>             \n                  <div>\n                    <span>{{ item.amount }}</span>      \n                  </div>\n                </li>\n                <li class=\"\n                  list-group-item\n                  d-flex\n                  justify-content-between\n                  lh-condensed\n                \">\n                  <div>\n                    <h6 class=\"my-0\">Online Processing Fee:</h6>\n                    <small class=\"text-muted\">Credit Card Processing and Online Registration</small>\n                  </div>\n                  <span class=\"text-muted\">{{ paymentCostDets.regFee }}</span>\n                </li>\n                <li class=\"list-group-item d-flex justify-content-between\">\n                  <span>Total (USD)</span>\n                  <strong>{{ paymentCostDets.tot }}</strong>\n                </li>\n              </ul>\n            </div>\n          </div>\n          <div v-if=\"sponsoredCategorySelected\">\n            <p class=\"mb-5\">\n              <h5>Your {{selectedCategory.catdispname}} race entry is sponsored by {{selectedCategory.sponsorName}}</h5>\n            </p>\n          </div>\n          <div v-if=\"payment ==='cash'\">\n            <h2 class=\"text-danger\">Your registration will not be active until payment is received at the event</h2>\n          </div>\n          <div v-if=\"raceData.waiver\">\n            <h5>{{raceData.waiver.header}}</h5>\n            <p>{{raceData.waiver.text}}</p>\n          <FormKit  \n          type=\"checkbox\"\n          v-model=\"waiverAccepted\"\n          label=\"I HAVE READ AND UNDERSTAND THIS WAIVER\"\n          help=\"I acknowledge that I have read, understand, and accepted the above release of liability.\"\n          name=\"waiverAccepted\" \n          validation=\"accepted\"\n          :validation-messages=\"{\n            accepted: 'You must agree to the terms of the liability release above'\n          }\"\n          validation-visibility=\"live\"\n          />\n          </div>\n          <FormKit type=\"submit\" :label=\"submitLabel\" @click=\"submitForm\" />\n        </FormKit>\n        <div v-if=\"submitted\">\n          <h2>Submission successful, redirecting</h2>\n        </div>\n      </div>\n      <EventCategoryScheduleComponent :categories=\"raceData.regCategories\" :raceDate=\"raceData.eventDate\" />\n    </div>\n    <div v-else>\n      <div class=\"text-center\">\n        <h2 class=\"mt-5\">Race not available for registration...</h2>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\n.prev-lookup.formkit-label{\n  color: #c10111\n}\ntable.table {\n  --bs-table-hover-bg: #76c8ff;\n}\nbody {\n  min-height: 75rem;\n  padding-top: 4.5rem;\n}\n</style>\n","<script>\nimport _ from \"lodash\";\nimport EventDetailsComponent from \"@/components/EventDetailsComponent.vue\";\nimport MainNav from \"@/components/MainNav.vue\";\n\nimport request from \"@/lib/ApiClient\";\n\nconst dollas = (amt) =>\n  amt.toLocaleString(\"en-US\", { style: \"currency\", currency: \"USD\" });\n\nexport default {\n  components: { EventDetailsComponent, MainNav },\n  data() {\n    return {\n      categories: {},\n      loading: false,\n      error: null,\n      raceData: {},\n      regData: {},\n      payment: \"\",\n      payStatus: false,\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        this.fetchData();\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    fetchData() {\n      this.error = null;\n      this.loading = true;\n      if (this.$route.params.raceid && this.$route.params.payment_id) {\n        request(`/api/races/${this.$route.params.raceid}`)\n          .then((response) => {\n            this.raceData = response.data;\n            return request(\n              `/api/payments/status?payment_id=${this.$route.params.payment_id}`\n            ).then((response) => {\n              this.loading = false;\n              this.payStatus = response.data.status;\n              this.paymentUrl = response.data.stripePayment?.url;\n              this.regData = response.data.regData;\n              this.payment = response.data.regData.paytype;\n            });\n          })\n          .catch((err) => {\n            this.error = \"Failed to load race \" + this.$route.params.raceid;\n            console.error(err);\n          });\n      }\n    },\n  },\n  computed: {\n    sortedCats() {\n      let cats = {};\n      _.forEach(\n        _.orderBy(this.raceData.regCategories, \"disporder\"),\n        (element) => {\n          cats[element.id] = element.catdispname;\n        }\n      );\n\n      return cats;\n    },\n    loaded() {\n      if (!this.raceData) {\n        return false;\n      }\n      return true;\n    },\n    paymentOptions() {\n      let options = {};\n      _.forEach(this.raceData.paymentOptions, (element) => {\n        options[element.type] = element.name;\n      });\n      return options;\n    },\n    pendingPayment() {\n      if(this.regData.raceid != this.$route.params.raceid){\n        return true;\n      }\n      if (this.payStatus && this.payStatus != \"paid\") {\n        return true;\n      }\n      return false;\n    },\n    sponsoredCategorySelected() {\n      if (this.selectedCategory?.sponsored) {\n        return true;\n      }\n      return false;\n    },\n    selectedCategory() {\n      return _.find(this.raceData.regCategories, { id: this.regData.category });\n    },\n  },\n};\n</script>\n\n<template>\n  <MainNav></MainNav>\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n\n    <div v-if=\"loaded\">\n      <EventDetailsComponent :details=\"raceData.eventDetails\" :raceid=\"raceData.raceid\"/>\n      <FormKit\n        type=\"form\"\n        id=\"race-registration\"\n        disabled\n        :actions=\"false\"\n        v-model=\"regData\"\n      >\n        <div class=\"row\">\n          <div class=\"col-md-6 order-md-1\">\n            <div v-if=\"!pendingPayment\">\n              <div\n                class=\"d-flex justify-content-between align-items-center mb-3\"\n              >\n                <h4>Your Registration is Confirmed</h4>\n              </div>\n            </div>\n\n            <div v-if=\"pendingPayment\" class=\"mb-5\">\n              <div\n                class=\"d-flex justify-content-between align-items-center mb-3 text-danger\"\n              >\n                <h4>Your Registration is Incomplete</h4>\n              </div>\n              <div v-if=\"payment === 'cash'\" >\n                <p class=\"text-danger h5\">Please make your cash payment at the event to complete your registration.</p>\n                <p>Your name will not show up on the \"Who is signed up\" list until payment is completed.</p>\n              </div>\n              <div v-else>\n                <a :href=\"paymentUrl\">Complete your payment</a>\n              </div>\n            </div>\n            <div class=\"col\">\n              <div class=\"row\">\n                <FormKit type=\"text\" name=\"first_name\" label=\"First name\" />\n                <FormKit type=\"text\" name=\"last_name\" label=\"Last name\" />\n              </div>\n            </div>\n            <div class=\"form-group pt-3\">\n              <FormKit type=\"email\" name=\"email\" label=\"Email\" />\n            </div>\n\n            <div class=\"form-group pt-3\">\n              <FormKit\n                type=\"text\"\n                name=\"sponsor\"\n                label=\"Your Team or Sponsor\"\n              />\n              <FormKit\n                type=\"select\"\n                label=\"Race Category:\"\n                name=\"category\"\n                :options=\"sortedCats\"\n              />\n            </div>\n            <div v-if=\"sponsoredCategorySelected\">\n              <h5>\n                Your {{ selectedCategory.catdispname }} race entry is sponsored\n                by {{ selectedCategory.sponsorName }}\n              </h5>\n            </div>\n          </div>\n        </div>\n      </FormKit>\n      Please send any corrections or questions to\n      <div v-if=\"raceData.contactEmail\">\n        <a :href=\"`mailto:${raceData.contactEmail}`\">{{raceData.contactEmail}}</a>\n      </div>\n      <div v-else>\n        <a href=\"mailto:support@signup.bike\">support@signup.bike</a>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"text-center\">\n        <h2 class=\"mt-5\">\n          Unable to load requested information\n          {{ $route.params.raceid }} payment: {{ $route.params.payment_id }}\n        </h2>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\ntable.table {\n  --bs-table-hover-bg: #76c8ff;\n}\n</style>\n","<script>\nimport _ from \"lodash\";\nimport request from \"@/lib/ApiClient\";\nimport SeriesResultRow from \"./SeriesResultRow.vue\";\nimport SeriesNavBar from \"./SeriesNavBar.vue\";\n\nexport default {\n  components: {\n    SeriesResultRow,\n    SeriesNavBar,\n  },\n  data() {\n    return {\n      categories: {},\n      loading: false,\n      error: null,\n      displayName: \"\",\n      series: null\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        this.fetchData();\n        \n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    scrollMeTo(refName) {\n        var element = document.querySelector(`#${refName}`)\n        element.scrollIntoView({ behavior: 'smooth' })\n    },\n    fetchData() {\n      if(!this.$route.params.seriesid){\n        return;\n      }\n      this.error = null;\n      this.loading = true;\n      let dataUrl = `/api/series/results/${this.$route.params.seriesid}`;\n      request(dataUrl)\n        .then(({data}) => {\n          this.loading = false;\n          this.categories = data.categories;\n          this.displayName = data.displayName;\n          this.series = this.$route.params.seriesid;\n          let temp = _.map(data.categories, (cat)=>_.omit(cat, ['results','columns']))\n          console.log('temp:', _.orderBy(temp, 'disporder'))\n        })\n        .catch((err) => {\n          console.error(err);\n          this.categories = {};\n          this.error = err.toString();\n        });\n    },\n  },\n  computed: {\n    sortedCats() {\n      let cats;\n      if(this.$route.path.indexOf('grom') > -1){\n          cats = _.filter(this.categories, (cat)=>cat.id.indexOf('grom')>-1);\n      }else{\n          cats = _.filter(this.categories, (cat)=>cat.id.indexOf('grom') == -1);\n      }\n      return _.orderBy(cats, \"disporder\");\n    },\n    expertCats(){\n        return _.filter(this.sortedCats, {laps:4});\n    },\n    sportCats(){\n        return _.filter(this.sortedCats, {laps:3});\n    },\n    beginnerCats(){\n        return _.filter(this.sortedCats, {laps:2});\n    },\n    gromCats(){\n        if(this.$route.path.indexOf('grom') > -1){\n          return _.filter(this.categories, (cat)=>cat.id.indexOf('grom')>-1);\n        }\n        return [];\n    },\n    haveResults() {\n      if (!this.categories) {\n        return false;\n      }\n      return Object.keys(this.categories).length > 0;\n    },\n  },\n};\n</script>\n\n<template>\n<SeriesNavBar :series=\"series\" />\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n     <div class=\"container-fluid text-center mt-5\">\n    <h2>{{ displayName }}</h2>\n    <h3>Series Standings</h3>\n    <p>Glossary of terms below:<br>\n1/50 = 1st Place/50 Points     -/- = Did not race</p></div>\n    <div v-if=\"haveResults\">\n      <div class=\"container-fluid text-center mt-5\">\n          <ul class=\"list-inline\">\n          <template v-for=\"(cat) in expertCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n        <ul class=\"list-inline\">\n          <template v-for=\"(cat) in sportCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n        <ul class=\"list-inline\">\n          <template v-for=\"(cat) in beginnerCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n        <ul class=\"list-inline\">\n          <template v-for=\"(cat) in gromCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n      </div>\n      <div class=\"container-fluid\">\n        <div v-for=\"(cat) in sortedCats\" :key=\"cat.id\" class=\"mt-5\">\n          <h3 :id=\"cat.id\">{{ cat.catdispname }}</h3>\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th\n                  v-for=\"(columnName, index) in cat.columns\"\n                  scope=\"col\"\n                  :key=\"index\"\n                >\n                  {{ columnName }}\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(racer, idx) in cat.results\" :key=\"idx\">\n                <SeriesResultRow :Pos=\"idx\" :data=\"racer\" />\n              </tr>\n            </tbody>\n          </table>\n          <a role=\"button\" @click=\"scrollMeTo('top')\" class=\"link-primary\">Back to Top</a>\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"text-center\">\n        <h2 class=\"mt-5\">No results yet...</h2>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\n\ntable.table {\n--bs-table-hover-bg: #76c8ff;\n}\n\n</style>\n","<script>\n\nexport default {\n  props: [\"data\",\"Pos\",\"dates\"],\n  data() {\n    return {\n      count: 0,\n    }\n  },\n  computed:{\n  }\n}\n</script>\n\n<template>\n  <td>{{data.Name}}</td>\n  <td>{{data.Cat}}</td>\n  <td v-for=\"(race, idx) in dates\" :key=\"idx\">{{data[race] || '-'}}</td>\n\n</template>","<script>\nimport _ from \"lodash\";\nimport request from \"@/lib/ApiClient\";\nimport ResultRow from \"./TeamCompDetailRow.vue\";\nimport SeriesNavBar from \"./SeriesNavBar.vue\";\n\n\nexport default {\n  components: {\n    ResultRow,\n    SeriesNavBar,\n  },\n  data() {\n    return {\n      teamResults: {},\n      loading: false,\n      error: null,\n      series: null,\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        this.fetchData();\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    scrollMeTo(refName) {\n      var element = document.querySelector(`#${refName}`);\n      element.scrollIntoView({ behavior: \"smooth\" });\n    },\n    fetchData() {\n      if (!this.$route.params.seriesid) {\n        return;\n      }\n      this.error = null;\n      this.loading = true;\n        let dataUrl = `/api/team-comp?series=${this.$route.params.seriesid}`;\n        request(dataUrl)\n          .then(({data}) => {\n            this.loading = false;\n            this.series = this.$route.params.seriesid;\n            this.teamResults = data;\n            this.teamDates = data.teamCompDates;\n\n          })\n          .catch((err) => {\n            console.error(err);\n            this.teamResults = {};\n            this.error = err.toString();\n          });\n      \n    },\n  },\n  computed: {\n    dates: () => {},\n  },\n};\n</script>\n\n<template>\n<SeriesNavBar :series=\"series\" />\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n        <h2 class=\"mt-5\">Team Standings</h2>\n         <div class=\"container-fluid  mt-5\">\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                  <th>Position</th>\n                <th>Team</th>\n                <th>Total Score</th>\n              </tr>\n            </thead>\n            <tbody>\n                \n              <tr v-for=\"(team, key) in teamResults.result\" :key=\"key\">\n            <td>{{key+1}}</td>\n            <td>{{team.teamName}}</td>\n            <td>{{team.totalScore}}</td>\n              </tr>\n            </tbody>\n          </table>\n      </div>\n      <h2 class=\"mt-5\">Team Results</h2>\n    <div class=\"mt-5\" v-for=\"(team, key) in teamResults.result\" :key=\"key\">\n           <h3> {{team.teamName}}</h3>\n        \n      <div class=\"container-fluid\">\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th style=\"width: 25%\">Racer Name</th>\n                <th style=\"width: 25%\">Class</th>\n                <th style=\"width: 12.5%\">5/4</th>\n                <th style=\"width: 12.5%\">5/11</th>\n                <th style=\"width: 12.5%\">5/18</th>\n                <th style=\"width: 12.5%\">5/25</th>\n              </tr>\n            </thead>\n            <tbody>\n                \n              <tr v-for=\"(racer, idx) in teamResults.teamDets[team.teamName]\" :key=\"idx\">\n                <ResultRow :data=\"racer\" :dates=\"teamDates\" />\n              </tr>\n            </tbody>\n          </table>\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th style=\"width: 50%; text-align:right\">Score (Avg of individual results):</th>\n                <th style=\"width: 12.5%\">{{team.results['5/4'] ? team.results['5/4'].avg : '-'}}</th>\n            <th style=\"width: 12.5%\">{{team.results['5/11'] ? team.results['5/11'].avg : '-'}}</th>\n            <th style=\"width: 12.5%\">{{team.results['5/18'] ? team.results['5/18'].avg : '-'}}</th>\n            <th style=\"width: 12.5%\">{{team.results['5/25'] ? team.results['5/25'].avg : \"-\"}}</th>\n              </tr>\n            </thead>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\ntable.table {\n  --bs-table-hover-bg: #76c8ff;\n}\n</style>\n","<script>\nimport _ from \"lodash\";\nimport request from \"@/lib/ApiClient\";\nimport ResultRow from \"./TeamCompDetailRow.vue\";\nimport SeriesNavBar from \"./SeriesResultNavComponent.vue\";\n\nexport default {\n  components: {\n    ResultRow,\n    SeriesNavBar,\n  },\n  data() {\n    return {\n      teamResults: {},\n      teamDates:[],\n      loading: false,\n      error: null,\n      series: null,\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        this.fetchData();\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    scrollMeTo(refName) {\n      var element = document.querySelector(`#${refName}`);\n      element.scrollIntoView({ behavior: \"smooth\" });\n    },\n    fetchData() {\n      if (!this.$route.params.seriesid) {\n        return;\n      }\n      this.error = null;\n      this.loading = true;\n        let dataUrl = `/api/team-comp?series=${this.$route.params.seriesid}`;\n        request(dataUrl)\n          .then(({data}) => {\n            this.loading = false;\n            this.series = this.$route.params.seriesid;\n            this.teamResults = data;\n            this.teamDates = data.teamCompDates;\n\n\n          })\n          .catch((err) => {\n            console.error(err);\n            this.teamResults = {};\n            this.error = err.toString();\n          });\n      \n    },\n  },\n  computed: {\n    dates: () => {},\n    fivePlusTeams(){\n      return _.filter(this.teamResults?.result, (res)=>{ return res.count > 4})\n    },\n    threeFourTeams(){\n      return _.filter(this.teamResults?.result, (res)=>{ return res.count < 5})\n    },\n    sortedResults(){\n      return _.sortBy(this.teamResults.result, \"teamName\");\n    }\n  },\n};\n</script>\n\n<template>\n<SeriesNavBar :series=\"series\" />\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n        <h2 class=\"mt-5\"> 5+ Team Standings</h2>\n         <div class=\"container-fluid  mt-5\">\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                  <th>Position</th>\n                <th>Team</th>\n                <th>Total Score</th>\n              </tr>\n            </thead>\n            <tbody>\n                \n              <tr v-for=\"(team, key) in fivePlusTeams\" :key=\"key\">\n            <td>{{key+1}}</td>\n            <td>{{team.teamName}}</td>\n            <td>{{team.totalScore}}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <h2 class=\"mt-5\"> 3 Person Team Standings</h2>\n          <div class=\"container-fluid  mt-5\">\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                  <th>Position</th>\n                <th>Team</th>\n                <th>Total Score</th>\n              </tr>\n            </thead>\n            <tbody>\n                \n              <tr v-for=\"(team, key) in threeFourTeams\" :key=\"key\">\n            <td>{{key+1}}</td>\n            <td>{{team.teamName}}</td>\n            <td>{{team.totalScore}}</td>\n              </tr>\n            </tbody>\n          </table>\n      </div>\n      <h2 class=\"mt-5\">Team Results</h2>\n    <div class=\"mt-5\" v-for=\"(team, key) in sortedResults\" :key=\"key\">\n           <h3> {{team.teamName}}</h3>\n        \n      <div class=\"container-fluid\">\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th style=\"width: 25%\">Racer Name</th>\n                <th style=\"width: 25%\">Class</th>\n                <th v-for=\"date in teamDates\" >{{date}}</th>\n              </tr>\n            </thead>\n            <tbody>\n                \n              <tr v-for=\"(racer, idx) in teamResults.teamDets[team.teamName]\" :key=\"idx\">\n                <ResultRow :data=\"racer\" :dates=\"teamDates\"/>\n              </tr>    \n              <tr>\n                <td colspan=\"2\" style=\"text-align:right\">Score (Avg of individual results):</td>\n                <td v-for=\"date in teamDates\" >{{team.results[date] ? team.results[date].avg : '-'}}</td>\n              </tr>\n            </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\ntable.table {\n  --bs-table-hover-bg: #76c8ff;\n}\n</style>\n","<script>\nimport _ from \"lodash\";\nimport request from \"@/lib/ApiClient\";\nimport EventDetailsComponent from \"@/components/EventDetailsComponent.vue\";\nimport MainNav from \"@/components/MainNav.vue\";\nimport dayjs from 'dayjs/esm/index.js'\n\nexport default {\n  components: {\n    EventDetailsComponent,\n    MainNav,\n  },\n  data() {\n    return {\n      categories: {},\n      loading: false,\n      error: null,\n      formattedStartDate: \"\",\n      series: null,\n      stageFilter: 'all',\n      racers:[],\n      raceData:{},\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        this.fetchData();\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    scrollMeTo(refName) {\n      var element = document.querySelector(`#${refName}`);\n      element.scrollIntoView({ behavior: \"smooth\" });\n    },\n    fetchData() {\n      this.error = null;\n      this.loading = true;\n      if (this.$route.params.raceid) {\n        request(`/api/races/roster/${this.$route.params.raceid}`)\n          .then(({data}) => {\n            this.raceData = data;\n            this.series = data.series;\n            this.loading = false;\n            this.categories = data.regCategories;\n            this.racers = data.registeredRacers;\n          })\n          .catch((err) => {\n            this.loading=false;\n            if(err.response?.status === 404){\n              this.error = \"Race not found\"\n              return;\n            }\n            console.error(err);\n            this.categories = {};\n            this.error = err.toString();\n          });\n      }\n    },\n    replacePlusSymbol(text){\n      return text.replace('+', 'Plus');\n    },\n    payTypeToStage(paytype){\n      const payOpt = _.find(this.raceData.paymentOptions, {type: paytype});\n      if(payOpt){\n        return payOpt.name;\n      }\n      return '';\n    },\n  },\n  computed: {\n    showPaytype() {\n      return !!this.raceData?.showPaytypeOnRoster\n    },\n    filterOptions(){\n      let options = { \"all\":\"All Stages\"};\n      _.forEach(this.raceData.paymentOptions,\n        (element) => {\n          options[element.type] = element.name;\n        }\n      );\n\n      return options;\n    },\n    filteredRacers(){\n      if(this.showPaytype && this.stageFilter !== 'all'){\n        return _.filter(this.racers, (racer)=>{\n          return racer.paytype == this.stageFilter || racer.paytype == 'season';\n        } )\n      }else{\n        return this.racers\n      }\n    },\n    groupedRacers(){\n      return _.groupBy(this.filteredRacers, \"category\");\n    },\n    sortedCats() {\n      return _.filter(_.orderBy(this.categories, \"disporder\"),\n      (cat)=>_.includes(Object.keys(this.groupedRacers),cat.id));\n    },\n    raceDate(){\n      return dayjs(this.raceData.eventDate).format(\"ddd, MMM D\");\n    }\n  },\n};\n</script>\n\n<template>\n  <MainNav></MainNav>\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n    <div v-else id=\"top\">\n    <EventDetailsComponent :details=\"raceData.eventDetails\" :raceid=\"raceData.raceid\"/>\n    <div v-if=\"Object.keys(racers).length\">\n      <div class=\"row\">\n      <div :class=\"{'col-md-6':showPaytype}\">\n        <h4>{{filteredRacers.length}} Registered for {{raceData.displayName}} on {{raceDate}}</h4>\n      </div>\n      <div v-if=\"showPaytype\" class=\"col-md-6\">\n        <FormKit\n                type=\"select\"\n                label=\"Show registrations for:\"\n                name=\"stageFilter\"\n                v-model=\"stageFilter\"\n                default=\"all\"\n                :options=\"filterOptions\"\n              />\n      </div>\n    </div>\n      <div class=\"container text-center mt-5\">\n       <ul class=\"list-inline\">\n          <template v-for=\"(cat) in sortedCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(replacePlusSymbol(cat.id))\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n        </div>\n      <div class=\"container-fluid\">\n        <div v-for=\"(cat) in sortedCats\" :key=\"cat.id\" class=\"mt-5\">\n          <h3 :id=\"replacePlusSymbol(cat.id)\">{{ cat.catdispname }}</h3>\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th>\n                  First Name\n                </th>\n                 <th>\n                  Last Name\n                </th>\n                 <th>\n                  Team/Sponsor\n                </th>\n                <th v-if=\"showPaytype\">\n                  Stages\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(racer, idx) in groupedRacers[cat.id]\" :key=\"idx\">\n                <td>{{racer.first_name}}</td>\n                <td>{{racer.last_name}}</td>\n                <td>{{racer.sponsor}}</td>\n                <td  v-if=\"showPaytype\">{{payTypeToStage(racer.paytype)}}</td>\n              </tr>\n            </tbody>\n          </table>\n          <a role=\"button\" @click=\"scrollMeTo('top')\" class=\"link-primary\"\n            >Back to Top</a\n          >\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"text-center\">\n        <h2 class=\"mt-5\">No registrations yet...</h2>\n      </div>\n    </div>\n    </div>\n  </div>\n</template>\n\n<style>\ntable.table {\n  --bs-table-hover-bg: #76c8ff;\n}\nbody {\n  min-height: 75rem;\n  padding-top: 4.5rem;\n}\n</style>\n","import { createRouter, createWebHashHistory } from 'vue-router';\nimport Landing from '@/components/LandingComponent.vue'\nimport RaceResult from '@/components/results/RaceResult.vue';\nimport ResultComponent from '@/components/results/ResultComponent.vue';\nimport SeriesResultComponent from '@/components/results/SeriesResultComponent.vue';\nimport RaceReg from '@/components/registration/RaceReg.vue';\nimport RaceRegConfirm from '@/components/registration/RaceRegConfirm.vue';\nimport SeriesRaceResult from '@/components/results/SeriesResult.vue';\nimport TeamComp from '@/components/results/TeamComp.vue'\nimport TeamCompComponent from '@/components/results/TeamCompComponent.vue'\nimport Roster from '@/components/registration/Roster.vue';\n\nconst router = createRouter({\n  history: createWebHashHistory(import.meta.env.BASE_URL),\n  routes: [\n    { \n      path: '/', \n      name: 'home',\n      component: Landing\n    },\n    { \n      path: '/results/', \n      name: 'results',\n      component: Landing\n    },\n    { \n        path: '/race/:raceid', \n        component: RaceResult\n    },\n    { \n        path: '/result/:id',\n        name: 'raceResult',\n        component: ResultComponent\n    },\n    { \n        path: '/result/series/:seriesid', \n        name: 'seriesResults',\n        component: SeriesResultComponent\n    },\n    { \n        path: '/result/series/:seriesid/team',\n        name: \"teamCompResults\",\n        component: TeamCompComponent\n    },\n    { \n      path: '/register/:raceid', \n      name: 'register',\n      component: RaceReg\n    },\n    { \n      path: '/regconfirmation/:raceid/:payment_id', \n      component: RaceRegConfirm\n    },\n    { \n        path: '/roster/:raceid', \n        name: 'roster',\n        component: Roster\n    },\n    { \n        path: '/series/:seriesid', \n        component: SeriesRaceResult\n    },\n    { \n        path: '/series/grom/:seriesid', \n        component: SeriesRaceResult\n    },\n    { \n        path: '/teamcomp/:seriesid', \n        component: TeamComp\n    },\n  ]\n})\n\nexport default router\n","import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport { plugin, defaultConfig } from '@formkit/vue'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport * as bootstrap from 'bootstrap'\nimport '@formkit/themes/genesis';\nimport { datadogLogs } from '@datadog/browser-logs'\nconst devMode = import.meta.env.DEV\n\nif (!devMode) {\n  datadogLogs.init({\n    clientToken: 'pub5b9b0cfce30b3b609b588d9f3ac85ebb',\n    site: 'datadoghq.com',\n    env: devMode ? 'dev' : 'production',\n    service: 'public-site',\n    version: APP_VERSION,\n    forwardErrorsToLogs: true,\n    sampleRate: 100,\n  })\n}\n\nconst app = createApp(App)\napp.use(plugin, defaultConfig);\napp.use(router);\napp.mount('#app');"],"names":["_sfc_main","RouterView","_hoisted_1","_openBlock","_createElementBlock","_createVNode","_component_RouterView","d","s","id","js","fjs","_createElementVNode","_hoisted_2","FbShareComponent","dayjs","_hoisted_3","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_12","_hoisted_14","_hoisted_16","$props","_hoisted_4","$options","_toDisplayString","_hoisted_11","_hoisted_13","_hoisted_15","_hoisted_17","_component_FbShareComponent","_hoisted_18","_hoisted_19","_a","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_component_RouterLink","_hoisted_24","_hoisted_6","_hoisted_5","_normalizeClass","_ctx","$data","MainNav","EventDetailsComponent","request","response","err","series","_","raceInfo","isInFuture","_component_MainNav","_Fragment","_renderList","race","idx","_component_EventDetailsComponent","msToTimeString","ms","showMillis","minSecMillis","millis","lap","fill","dataUrl","data","_createTextVNode","ResultRow","SeriesNavBar","refName","element","cat","_component_SeriesNavBar","key","$event","columnName","index","racer","_component_ResultRow","_b","cols","firstRacerLaps","headers","i","_createBlock","SeriesResultRow","_component_SeriesResultRow","startTime","timeGroup","time","category","saveForm","raceid","getForm","parsed","clearFormStorage","getFees","priceInDollars","cents","onlineFee","EventCategoryScheduleComponent","newValue","oldValue","amt","prevFormData","now","eventDate","bibNumber","couponCode","clickEvent","resolve","error","filtered","cats","options","altPaytype","payOpt","el","_c","fees","dets","_d","newTot","label","description","amount","dec31","bday","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_29","_hoisted_30","_hoisted_32","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_38","_hoisted_40","_hoisted_44","_hoisted_47","_component_FormKit","item","_hoisted_28","_hoisted_31","_hoisted_33","_hoisted_37","_hoisted_39","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_45","_component_EventCategoryScheduleComponent","_hoisted_46","_hoisted_48","temp","team","res","date","text","paytype","router","createRouter","createWebHashHistory","Landing","RaceResult","ResultComponent","SeriesResultComponent","TeamCompComponent","RaceReg","RaceRegConfirm","Roster","SeriesRaceResult","TeamComp","datadogLogs","app","createApp","App","plugin","defaultConfig"],"mappings":"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"}