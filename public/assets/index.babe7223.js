import{r as y,o as t,c as s,a as e,F as u,b as h,d as g,w as $,e as S,f as k,t as c,n as C,R as L,g as b,_ as R,h as x,i as N,j as P}from"./vendor.f9ce4746.js";const B=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))m(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&m(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function m(a){if(a.ep)return;a.ep=!0;const n=i(a);fetch(a.href,n)}};B();var v=(l,o)=>{const i=l.__vccOpts||l;for(const[m,a]of o)i[m]=a;return i};const D={props:["races"],data(){return{count:0}},computed:{}},M={class:"navbar navbar-expand-sm navbar-light bg-light"},T={class:"container-fluid"},V=e("div",{class:"navbar-brand",href:"#"},"2022 PCRS",-1),O={class:"collapse navbar-collapse",id:"navbarSupportedContent"},j={class:"navbar-nav me-auto mb-2 mb-lg-0"},A={class:"nav-item dropdown"},q=e("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Race Results ",-1),F={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},H={key:1,class:"dropdown-item disabled"},I={class:"nav-item"},U=k("Series Standings"),E=e("div",{class:"nav-item"},[e("a",{class:"nav-link active","aria-current":"page",href:"https://racemtb.com/"},"RaceMtb Home")],-1);function z(l,o,i,m,a,n){const d=y("RouterLink");return t(),s("nav",M,[e("div",T,[V,e("div",O,[e("ul",j,[e("li",A,[q,e("ul",F,[(t(!0),s(u,null,h(i.races,r=>(t(),s("li",{key:r.raceid},[r.active?(t(),S(d,{key:0,class:C(["dropdown-item",{active:l.$route.params.raceid===r.raceid}]),to:`/race/${r.raceid}`},{default:$(()=>[k(c(r.displayName+` - ${r.formattedStartDate}`),1)]),_:2},1032,["class","to"])):(t(),s("div",H,c(r.displayName+` - ${r.formattedStartDate}`),1))]))),128))])])])]),e("div",I,[g(d,{class:"nav-link",to:"/series/pcrs_2022"},{default:$(()=>[U]),_:1})]),E])])}var G=v(D,[["render",z]]);let K="/api/races/";const W={components:{RouterView:L,NavBar:G},data(){return{races:[]}},mounted:function(){fetch(K).then(l=>l.json()).then(l=>{this.races=l,window.location.hash.indexOf("race/")==-1&&this.$router.push("/series/pcrs_2022")})},computed:{raceMeta(){return this.races.find(l=>l.raceid===this.$route.params.raceid)}}},J={key:0,class:"text-center"},Q={class:"mt-5"};function X(l,o,i,m,a,n){var f;const d=y("NavBar"),r=y("RouterView");return t(),s(u,null,[g(d,{races:a.races,id:"top"},null,8,["races"]),n.raceMeta?(t(),s("div",J,[e("h2",Q,"Race Results - "+c((f=n.raceMeta)==null?void 0:f.formattedStartDate),1)])):b("",!0),g(r)],64)}var Y=v(W,[["render",X]]);const Z={props:["data","Pos","totLaps"],data(){return{count:0}},computed:{incompleteLaps(){return new Array(this.totLaps-this.data.laps.length).fill("-")}}};function ee(l,o,i,m,a,n){return t(),s(u,null,[e("td",null,c(i.Pos+1),1),e("td",null,c(i.data.Bib),1),e("td",null,c(i.data.Name),1),e("td",null,c(i.data.Sponsor),1),(t(!0),s(u,null,h(i.data.laps,(d,r)=>(t(),s("td",{key:r},c(d.timeString),1))),128)),i.totLaps-i.data.laps.length>0?(t(!0),s(u,{key:0},h(n.incompleteLaps,d=>(t(),s("td",null,c(d),1))),256)):b("",!0),e("td",null,c(i.data.Time),1),e("td",null,c(i.data.back||"-"),1)],64)}var te=v(Z,[["render",ee]]);const se={components:{ResultRow:te},data(){return{categories:{},loading:!1,error:null}},created(){this.$watch(()=>this.$route.params,()=>{this.fetchData()},{immediate:!0})},methods:{scrollMeTo(l){var o=document.querySelector(`#${l}`);o.scrollIntoView({behavior:"smooth"})},fetchData(){this.error=null,this.loading=!0;let l=`/api/races/results/${this.$route.params.raceid}`;fetch(l).then(o=>o.json()).then(o=>{this.loading=!1,this.categories=o.categories}).catch(o=>{console.error(o),this.categories={},this.error=o.toString()})}},computed:{sortedCats(){return R.orderBy(this.categories,"disporder")},haveResults(){return this.categories?Object.keys(this.categories).length>0:!1}}},re={key:0,class:"loading"},oe={key:1},ae={key:0,class:"error"},ne={key:1},ie={class:"container text-center mt-5"},le={class:"list-inline"},ce=["onClick"],de={class:"container-fluid"},ue=["id"],he={class:"table table-striped table-hover"},_e={key:2},me=e("div",{class:"text-center"},[e("h2",{class:"mt-5"},"No results yet...")],-1),pe=[me];function fe(l,o,i,m,a,n){const d=y("ResultRow");return a.loading?(t(),s("div",re,"Loading...")):(t(),s("div",oe,[a.error?(t(),s("div",ae,c(a.error),1)):b("",!0),n.haveResults?(t(),s("div",ne,[e("div",ie,[e("ul",le,[(t(!0),s(u,null,h(n.sortedCats,(r,f)=>(t(),s("li",{key:r.id,class:"list-inline-item"},[e("a",{role:"button",onClick:_=>n.scrollMeTo(r.id),class:"link-primary"},c(r.catdispname),9,ce)]))),128))])]),e("div",de,[(t(!0),s(u,null,h(n.sortedCats,(r,f)=>(t(),s("div",{key:r.id,class:"mt-5"},[e("h3",{id:r.id},c(r.catdispname),9,ue),e("table",he,[e("thead",null,[e("tr",null,[(t(!0),s(u,null,h(r.columns,(_,p)=>(t(),s("th",{scope:"col",key:p},c(_),1))),128))])]),e("tbody",null,[(t(!0),s(u,null,h(r.results,(_,p)=>(t(),s("tr",{key:p},[g(d,{totLaps:r.laps,Pos:p,data:_},null,8,["totLaps","Pos","data"])]))),128))])]),e("a",{role:"button",onClick:o[0]||(o[0]=_=>n.scrollMeTo("top")),class:"link-primary"},"Back to Top")]))),128))])])):(t(),s("div",_e,pe))]))}var ve=v(se,[["render",fe]]);const ye={props:["data","Pos"],data(){return{count:0}},computed:{}};function ge(l,o,i,m,a,n){return t(),s(u,null,[e("td",null,c(i.Pos+1),1),e("td",null,c(i.data.Bib),1),e("td",null,c(i.data.Name),1),e("td",null,c(i.data.Sponsor),1),(t(!0),s(u,null,h(i.data.results,(d,r)=>(t(),s("td",{key:r},c(d.resultString),1))),128)),e("td",null,c(i.data.seriesPoints),1)],64)}var ke=v(ye,[["render",ge]]);const be={components:{SeriesResultRow:ke},data(){return{categories:{},loading:!1,error:null}},created(){this.$watch(()=>this.$route.params,()=>{this.fetchData()},{immediate:!0})},methods:{scrollMeTo(l){var o=document.querySelector(`#${l}`);o.scrollIntoView({behavior:"smooth"})},fetchData(){this.error=null,this.loading=!0;let l=`/api/series/results/${this.$route.params.seriesid}`;fetch(l).then(o=>o.json()).then(o=>{this.loading=!1,this.categories=o.categories}).catch(o=>{console.error(o),this.categories={},this.error=o.toString()})}},computed:{sortedCats(){return R.orderBy(this.categories,"disporder")},haveResults(){return this.categories?Object.keys(this.categories).length>0:!1}}},$e={key:0,class:"loading"},Re={key:1},we={key:0,class:"error"},Se=e("div",{class:"container text-center mt-5"},[e("h2",null,"2022 Prairie City Race Series"),e("h3",null,"Series Standings"),e("p",null,[k("Glossary of terms below:"),e("br"),k(" 1/50 = 1st Place/50 Points -/- = Did not race")])],-1),Ce={key:1},Le={class:"container text-center mt-5"},xe={class:"list-inline"},Ne=["onClick"],Pe={class:"container-fluid"},Be=["id"],De={class:"table table-striped table-hover"},Me={key:2},Te=e("div",{class:"text-center"},[e("h2",{class:"mt-5"},"No results yet...")],-1),Ve=[Te];function Oe(l,o,i,m,a,n){const d=y("SeriesResultRow");return a.loading?(t(),s("div",$e,"Loading...")):(t(),s("div",Re,[a.error?(t(),s("div",we,c(a.error),1)):b("",!0),Se,n.haveResults?(t(),s("div",Ce,[e("div",Le,[e("ul",xe,[(t(!0),s(u,null,h(n.sortedCats,(r,f)=>(t(),s("li",{key:r.id,class:"list-inline-item"},[e("a",{role:"button",onClick:_=>n.scrollMeTo(r.id),class:"link-primary"},c(r.catdispname),9,Ne)]))),128))])]),e("div",Pe,[(t(!0),s(u,null,h(n.sortedCats,(r,f)=>(t(),s("div",{key:r.id,class:"mt-5"},[e("h3",{id:r.id},c(r.catdispname),9,Be),e("table",De,[e("thead",null,[e("tr",null,[(t(!0),s(u,null,h(r.columns,(_,p)=>(t(),s("th",{scope:"col",key:p},c(_),1))),128))])]),e("tbody",null,[(t(!0),s(u,null,h(r.results,(_,p)=>(t(),s("tr",{key:p},[g(d,{Pos:p,data:_},null,8,["Pos","data"])]))),128))])]),e("a",{role:"button",onClick:o[0]||(o[0]=_=>n.scrollMeTo("top")),class:"link-primary"},"Back to Top")]))),128))])])):(t(),s("div",Me,Ve))]))}var je=v(be,[["render",Oe]]);const Ae=x({history:N("/"),routes:[{path:"/race/:raceid",component:ve},{path:"/series/:seriesid",component:je}]});const w=P(Y);w.use(Ae);w.mount("#app");
