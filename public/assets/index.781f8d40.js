import{r as g,o as s,c as r,a as e,F as d,b as _,d as y,n as $,w as R,e as w,f as b,t as l,R as L,g as C,_ as f,h as N,i as M,j as P}from"./vendor.9e377b4a.js";const T=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))m(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&m(u)}).observe(document,{childList:!0,subtree:!0});function c(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function m(o){if(o.ep)return;o.ep=!0;const n=c(o);fetch(o.href,n)}};T();var k=(i,a)=>{const c=i.__vccOpts||i;for(const[m,o]of a)c[m]=o;return c};const B={props:["races"],data(){return{count:0}},computed:{}},O=w('<nav id="top" class="navbar navbar-light bg-light"><div class="container-fluid"><div class="navbar-brand" href="#">2022 Prairie City Race Series</div><div class="nav-item"><a class="nav-link active" aria-current="page" href="https://racemtb.com/">RaceMtb Home</a></div></div></nav><p class="mt-3">View Weekly lap times:</p>',2),V={class:"nav nav-tabs mt-1 justify-content-center"},D={class:"nav-item"},j=b("Series Standings"),A={class:"nav-item"},q=b("Grom Series Standings");function F(i,a,c,m,o,n){const u=g("RouterLink");return s(),r(d,null,[O,e("ul",V,[(s(!0),r(d,null,_(c.races,t=>(s(),r("li",{key:t.raceid,class:"nav-item"},[y(u,{class:$(["nav-link",{active:i.$route.params.raceid===t.raceid}]),to:`/race/${t.raceid}`},{default:R(()=>[b(l(t.displayName+` - ${t.formattedStartDate}`),1)]),_:2},1032,["class","to"])]))),128)),e("li",D,[y(u,{class:$(["nav-link",{active:i.$route.path=="/series/pcrs_2022"}]),to:"/series/pcrs_2022"},{default:R(()=>[j]),_:1},8,["class"])]),e("li",A,[y(u,{class:$(["nav-link",{active:i.$route.path=="/series/grom/pcrs_2022"}]),to:"/series/grom/pcrs_2022"},{default:R(()=>[q]),_:1},8,["class"])])])],64)}var H=k(B,[["render",F]]);let I="/api/races/";const U={components:{RouterView:L,NavBar:H},data(){return{races:[]}},mounted:function(){fetch(I).then(i=>i.json()).then(i=>{this.races=i,window.location.hash.indexOf("race/")==-1&&this.$router.push("/series/pcrs_2022"),console.log("route:"),console.log(this.$route)})},computed:{raceMeta(){return this.races.find(i=>i.raceid===this.$route.params.raceid)}}},E={key:0,class:"text-center"},G={class:"mt-5"};function W(i,a,c,m,o,n){var p;const u=g("NavBar"),t=g("RouterView");return s(),r(d,null,[y(u,{races:o.races},null,8,["races"]),n.raceMeta?(s(),r("div",E,[e("h2",G,"Race Results - "+l((p=n.raceMeta)==null?void 0:p.formattedStartDate),1)])):C("",!0),y(t)],64)}var z=k(U,[["render",W]]);const K={props:["data","Pos","totLaps"],data(){return{count:0}},computed:{incompleteLaps(){return new Array(this.totLaps-this.data.laps.length).fill("-")}}};function J(i,a,c,m,o,n){return s(),r(d,null,[e("td",null,l(c.Pos+1),1),e("td",null,l(c.data.Bib),1),e("td",null,l(c.data.Name),1),e("td",null,l(c.data.Sponsor),1),(s(!0),r(d,null,_(c.data.laps,(u,t)=>(s(),r("td",{key:t},l(u.timeString),1))),128)),c.totLaps-c.data.laps.length>0?(s(!0),r(d,{key:0},_(n.incompleteLaps,u=>(s(),r("td",null,l(u),1))),256)):C("",!0),e("td",null,l(c.data.Time),1),e("td",null,l(c.data.back||"-"),1)],64)}var Q=k(K,[["render",J]]);const X={components:{ResultRow:Q},data(){return{categories:{},loading:!1,error:null}},created(){this.$watch(()=>this.$route.params,()=>{this.fetchData()},{immediate:!0})},methods:{scrollMeTo(i){var a=document.querySelector(`#${i}`);a.scrollIntoView({behavior:"smooth"})},fetchData(){if(this.error=null,this.loading=!0,this.$route.params.raceid){let i=`/api/races/results/${this.$route.params.raceid}`;fetch(i).then(a=>a.json()).then(a=>{this.loading=!1,this.categories=a.categories}).catch(a=>{console.error(a),this.categories={},this.error=a.toString()})}}},computed:{sortedCats(){return f.orderBy(this.categories,"disporder")},expertCats(){return f.filter(this.sortedCats,{laps:4})},sportCats(){return f.filter(this.sortedCats,{laps:3})},beginnerCats(){return f.filter(this.sortedCats,{laps:2})},haveResults(){return this.categories?Object.keys(this.categories).length>0:!1}}},Y={key:0,class:"loading"},Z={key:1},ee={key:0,class:"error"},te={key:1},se={class:"container text-center mt-5"},re={class:"list-inline"},ne=["onClick"],ae={class:"list-inline"},ie=["onClick"],oe={class:"list-inline"},le=["onClick"],ce={class:"container-fluid"},de=["id"],ue={class:"table table-striped table-hover"},_e={key:2},he=e("div",{class:"text-center"},[e("h2",{class:"mt-5"},"No results yet...")],-1),me=[he];function pe(i,a,c,m,o,n){const u=g("ResultRow");return o.loading?(s(),r("div",Y,"Loading...")):(s(),r("div",Z,[o.error?(s(),r("div",ee,l(o.error),1)):C("",!0),n.haveResults?(s(),r("div",te,[e("div",se,[e("ul",re,[(s(!0),r(d,null,_(n.expertCats,(t,p)=>(s(),r("li",{key:t.id,class:"list-inline-item mx-2"},[e("a",{role:"button",onClick:h=>n.scrollMeTo(t.id),class:"link-primary"},l(t.catdispname),9,ne)]))),128))]),e("ul",ae,[(s(!0),r(d,null,_(n.sportCats,(t,p)=>(s(),r("li",{key:t.id,class:"list-inline-item mx-2"},[e("a",{role:"button",onClick:h=>n.scrollMeTo(t.id),class:"link-primary"},l(t.catdispname),9,ie)]))),128))]),e("ul",oe,[(s(!0),r(d,null,_(n.beginnerCats,(t,p)=>(s(),r("li",{key:t.id,class:"list-inline-item mx-2"},[e("a",{role:"button",onClick:h=>n.scrollMeTo(t.id),class:"link-primary"},l(t.catdispname),9,le)]))),128))])]),e("div",ce,[(s(!0),r(d,null,_(n.sortedCats,(t,p)=>(s(),r("div",{key:t.id,class:"mt-5"},[e("h3",{id:t.id},l(t.catdispname),9,de),e("table",ue,[e("thead",null,[e("tr",null,[(s(!0),r(d,null,_(t.columns,(h,v)=>(s(),r("th",{scope:"col",key:v},l(h),1))),128))])]),e("tbody",null,[(s(!0),r(d,null,_(t.results,(h,v)=>(s(),r("tr",{key:v},[y(u,{totLaps:t.laps,Pos:v,data:h},null,8,["totLaps","Pos","data"])]))),128))])]),e("a",{role:"button",onClick:a[0]||(a[0]=h=>n.scrollMeTo("top")),class:"link-primary"},"Back to Top")]))),128))])])):(s(),r("div",_e,me))]))}var fe=k(X,[["render",pe]]);const ve={props:["data","Pos"],data(){return{count:0}},computed:{}};function ye(i,a,c,m,o,n){return s(),r(d,null,[e("td",null,l(c.Pos+1),1),e("td",null,l(c.data.Bib),1),e("td",null,l(c.data.Name),1),e("td",null,l(c.data.Age),1),e("td",null,l(c.data.Sponsor),1),(s(!0),r(d,null,_(c.data.results,(u,t)=>(s(),r("td",{key:t},l(u.resultString),1))),128)),e("td",null,l(c.data.seriesPoints),1)],64)}var ke=k(ve,[["render",ye]]);const ge={components:{SeriesResultRow:ke},data(){return{categories:{},loading:!1,error:null}},created(){this.$watch(()=>this.$route.params,()=>{this.fetchData()},{immediate:!0})},methods:{scrollMeTo(i){var a=document.querySelector(`#${i}`);a.scrollIntoView({behavior:"smooth"})},fetchData(){this.error=null,this.loading=!0;let i=`/api/series/results/${this.$route.params.seriesid}`;fetch(i).then(a=>a.json()).then(a=>{this.loading=!1,this.categories=a.categories}).catch(a=>{console.error(a),this.categories={},this.error=a.toString()})}},computed:{sortedCats(){let i;return this.$route.path.indexOf("grom")>-1?i=f.filter(this.categories,a=>a.id.indexOf("grom")>-1):i=f.filter(this.categories,a=>a.id.indexOf("grom")==-1),f.orderBy(i,"disporder")},expertCats(){return f.filter(this.sortedCats,{laps:4})},sportCats(){return f.filter(this.sortedCats,{laps:3})},beginnerCats(){return f.filter(this.sortedCats,{laps:2})},haveResults(){return this.categories?Object.keys(this.categories).length>0:!1}}},be={key:0,class:"loading"},Ce={key:1},$e={key:0,class:"error"},Re=e("div",{class:"container-fluid text-center mt-5"},[e("h2",null,"2022 Prairie City Race Series"),e("h3",null,"Series Standings"),e("p",null,[b("Glossary of terms below:"),e("br"),b(" 1/50 = 1st Place/50 Points -/- = Did not race")])],-1),xe={key:1},Se={class:"container-fluid text-center mt-5"},we={class:"list-inline"},Le=["onClick"],Ne={class:"list-inline"},Me=["onClick"],Pe={class:"list-inline"},Te=["onClick"],Be={class:"container-fluid"},Oe=["id"],Ve={class:"table table-striped table-hover"},De={key:2},je=e("div",{class:"text-center"},[e("h2",{class:"mt-5"},"No results yet...")],-1),Ae=[je];function qe(i,a,c,m,o,n){const u=g("SeriesResultRow");return o.loading?(s(),r("div",be,"Loading...")):(s(),r("div",Ce,[o.error?(s(),r("div",$e,l(o.error),1)):C("",!0),Re,n.haveResults?(s(),r("div",xe,[e("div",Se,[e("ul",we,[(s(!0),r(d,null,_(n.expertCats,(t,p)=>(s(),r("li",{key:t.id,class:"list-inline-item mx-2"},[e("a",{role:"button",onClick:h=>n.scrollMeTo(t.id),class:"link-primary"},l(t.catdispname),9,Le)]))),128))]),e("ul",Ne,[(s(!0),r(d,null,_(n.sportCats,(t,p)=>(s(),r("li",{key:t.id,class:"list-inline-item mx-2"},[e("a",{role:"button",onClick:h=>n.scrollMeTo(t.id),class:"link-primary"},l(t.catdispname),9,Me)]))),128))]),e("ul",Pe,[(s(!0),r(d,null,_(n.beginnerCats,(t,p)=>(s(),r("li",{key:t.id,class:"list-inline-item mx-2"},[e("a",{role:"button",onClick:h=>n.scrollMeTo(t.id),class:"link-primary"},l(t.catdispname),9,Te)]))),128))])]),e("div",Be,[(s(!0),r(d,null,_(n.sortedCats,(t,p)=>(s(),r("div",{key:t.id,class:"mt-5"},[e("h3",{id:t.id},l(t.catdispname),9,Oe),e("table",Ve,[e("thead",null,[e("tr",null,[(s(!0),r(d,null,_(t.columns,(h,v)=>(s(),r("th",{scope:"col",key:v},l(h),1))),128))])]),e("tbody",null,[(s(!0),r(d,null,_(t.results,(h,v)=>(s(),r("tr",{key:v},[y(u,{Pos:v,data:h},null,8,["Pos","data"])]))),128))])]),e("a",{role:"button",onClick:a[0]||(a[0]=h=>n.scrollMeTo("top")),class:"link-primary"},"Back to Top")]))),128))])])):(s(),r("div",De,Ae))]))}var x=k(ge,[["render",qe]]);const Fe=N({history:M("/"),routes:[{path:"/race/:raceid",component:fe},{path:"/series/:seriesid",component:x},{path:"/series/grom/:seriesid",component:x}]});const S=P(z);S.use(Fe);S.mount("#app");
