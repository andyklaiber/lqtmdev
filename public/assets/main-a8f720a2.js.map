{"version":3,"file":"main-a8f720a2.js","sources":["../../src/App.vue","../../src/components/FbShareComponent.vue","../../src/components/EventDetailsComponent.vue","../../src/components/MainNav.vue","../../src/components/LandingComponent.vue","../../src/components/results/ResultRow.vue","../../src/components/results/SeriesNavBar.vue","../../src/components/results/RaceResult.vue","../../src/components/results/SeriesResultNavComponent.vue","../../src/components/results/ResultComponent.vue","../../src/components/results/SeriesResultRow.vue","../../src/components/results/SeriesResultComponent.vue","../../src/components/EventCategoryScheduleComponent.vue","../../src/components/registration/RaceReg.vue","../../src/components/registration/RaceRegConfirm.vue","../../src/components/results/SeriesResult.vue","../../src/components/results/TeamCompDetailRow.vue","../../src/components/results/TeamComp.vue","../../src/components/results/TeamCompComponent.vue","../../src/components/registration/Roster.vue","../../src/router/index.js","../../src/main.js"],"sourcesContent":["<script>\nimport _ from 'lodash';\nimport { RouterView } from 'vue-router'\n\nlet dataUrl = '/api/races/'\nif(import.meta.env.DEV){\n    dataUrl = \"http://localhost:3000\"+dataUrl;\n}\n\nexport default {\n  components: {\n    RouterView,\n    \n  },\n  data() {\n    return {\n  \traces: [],\n    }\n  },\n  mounted: function(){\n    // if(window.location.hash == '#/'){\n    //   this.$router.push(`/series/pcrs_2022`)\n    // }\n// fetch(dataUrl)\n    //     .then(response => response.json())\n    //     .then(data => {\n    //         this.races = data;\n    //         console.log('hash:', window.location.hash)\n            \n    //     })\n\t},\n  computed : {\n      // raceMeta() {\n      //     return this.races.find((obj)=>obj.raceid === this.$route.params.raceid);\n      // }\n  }\n}\n</script>\n\n<template>\n<div class='container'>\n    <RouterView />\n    </div>\n</template>\n\n<style>\n@import \"./assets/base.css\";\n\n#app {\n  max-width: 1280px;\n  margin: 0 auto;\n  padding: 2rem;\n\n  font-weight: normal;\n}\n</style>\n","<script>\nexport default {\n    props: ['url'],\n    created(){\n        (function(d, s, id) {\n        var js, fjs = d.getElementsByTagName(s)[0];\n        if (d.getElementById(id)) return;\n        js = d.createElement(s); js.id = id;\n        js.src = \"https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v15.0\";\n        fjs.parentNode.insertBefore(js, fjs);\n        }(document, 'script', 'facebook-jssdk'));\n    },\n    mounted () {\n        if(window.FB){\n            FB.XFBML.parse()\n        }\n    }\n}\n</script>\n\n<template>\n    <div id=\"1\">\n        <div id=\"fb-root\"></div>\n        <div class=\"fb-share-button\" \n                :data-href=\"this.url\"\n                data-layout=\"button\" \n                data-size=\"large\"\n                >\n        </div>\n    </div>    \n</template>","<script>\nimport { RouterLink } from \"vue-router\";\nimport FbShareComponent from './FbShareComponent.vue';\nimport dayjs from '@/lib/dayjs';\n\nexport default {\n  components: { FbShareComponent },\n  props: [\"details\", \"raceid\", \"compactMode\"],\n  data() {\n    return {\n    };\n  },\n  computed: {\n    isRosterPage() {\n      return this.$route.path.includes('/roster/')\n    },\n    isRegPage() {\n      return this.$route.name === 'register'\n    },\n    regDisabled() {\n      return dayjs().isBefore(this.details.regOpenDate)\n    },\n    regEnded() {\n      return dayjs().isAfter(this.details.regCloseDate)\n    },\n    regTimeToOpen() {\n      return dayjs().to(this.details.regOpenDate)\n    },\n    regTimeToClose() {\n      return dayjs().to(this.details.regCloseDate)\n    },\n    imgWidth() {\n      if (this.compactMode) {\n        return 150;\n      }\n      return 225\n    }\n  },\n};\n</script>\n\n<template>\n  <div class=\"container mb-4\">\n    <img v-if=\"isRegPage\" class=\"img-fluid\" :src=\"details.headerPhoto\" alt=\"\">\n    <div class=\"row p-1 px-3 pb-0 pe-lg-0 pt-lg-3 align-items-center rounded-3 border shadow\">\n      <div v-if=\"details.logoUrl\" class=\"col-md-3 px-3\">\n        <div class=\"d-flex justify-content-center\">\n        <a :href=\"details.homepageUrl\">\n          <img class=\"pb-1\" :src=\"details.logoUrl\" alt=\"\" :width=\"imgWidth\">\n        </a>\n      </div>\n      </div>\n      <div class=\"col-md-7 p-3 p-lg-3 pt-lg-3\">\n        <div class=\"row\">\n          <div class=\"col col-md-auto\">\n            <h3 class=\"display-7 fw-bold lh-3\">{{ details.name }}</h3>\n            <p v-if=\"!compactMode\" class=\"lead mb-0 fw-bold\">{{ details.tagline }}</p>\n          </div>\n        </div>\n        <p class=\"display-9\">{{ details.formattedDates }}</p>\n        <div v-if=\"details.homepageUrl && !compactMode\" class=\"d-grid gap-2 d-md-flex justify-content-md mb-4 mb-lg-3\">\n          <div class=\"col-md-auto\">\n            <a class=\"btn btn-sm btn-success\" :href=\"details.homepageUrl\">Event Homepage</a>\n          </div>\n          <div class=\"col col-lg-2\">\n            <div v-if=\"details.facebookShare\">\n              <FbShareComponent :url=\"details.homepageUrl\" />\n            </div>\n          </div>\n        </div>\n\n        <div v-if=\"regDisabled\" class=\"fw-bold\">\n          Registration will open {{ regTimeToOpen }}\n        </div>\n        <div v-else class=\"row\">\n          <div v-if=\"details?.regCloseDate\" class=\"fw-bold\">\n            <div v-if=\"regEnded\" class=\"fw-bold\">\n              Registration is closed\n            </div>\n            <div v-else class=\"fw-bold\">\n              Registration will close {{ regTimeToClose }}\n            </div>\n          </div>\n          <div class=\"col col-md-auto\" v-if=\"!isRegPage && !regEnded\">\n            <RouterLink class=\"btn btn-success\" :to=\"{ name: 'register', params: { raceid } }\">Register</RouterLink>\n          </div>\n          <div class=\"col\" v-if=\"!isRosterPage\">\n            <RouterLink class=\"btn btn-secondary\" :to=\"{ name: 'roster', params: { raceid } }\">See who is signed up\n            </RouterLink>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>","<script>\nimport dropdown from \"bootstrap/js/dist/dropdown\";\nimport { RouterLink } from \"vue-router\";\n\nexport default {\n  props: [\"races\"],\n  data() {\n    return {\n      count: 0,\n      loggedIn:false,\n    };\n  },\n  computed: {},\n};\n</script>\n\n<template>\n  <nav class=\"navbar navbar-expand-md navbar-dark bg-dark fixed-top\">\n    <div class=\"container-fluid\">\n      <a class=\"navbar-brand\" href=\"/\">Signup.bike</a>\n      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarsExample04\"\n        aria-controls=\"navbarsExample04\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n\n      <div class=\"collapse navbar-collapse\" id=\"navbarsExample04\">\n        <ul class=\"navbar-nav me-auto mb-4 mb-md-0 px-5\">\n          <li class=\"nav-item\">\n            <RouterLink class=\"nav-link\" :class=\"{ active: $route.name == 'home' }\" :to=\"{ name: 'home'}\">\n              Upcoming Races\n            </RouterLink>\n          </li>\n          <!-- <li class=\"nav-item\">\n            <RouterLink class=\"nav-link\" :class=\"{ active: $route.name == 'races' }\" :to=\"{ name: 'results'}\">\n              Results\n            </RouterLink>\n          </li> -->\n          <!-- <li class=\"nav-item\">\n            <a class=\"nav-link disabled\">Disabled</a>\n          </li> -->\n          <!-- <li class=\"nav-item dropdown\">\n            <a class=\"nav-link dropdown-toggle\" href=\"#\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">Dropdown</a>\n            <ul class=\"dropdown-menu\">\n              <li><a class=\"dropdown-item\" href=\"#\">Action</a></li>\n              <li><a class=\"dropdown-item\" href=\"#\">Another action</a></li>\n              <li><a class=\"dropdown-item\" href=\"#\">Something else here</a></li>\n            </ul>\n          </li> -->\n        </ul>\n        <button v-if=\"loggedIn\" type=\"button\" class=\"btn btn-secondary\" @click=\"$emit('logout')\">Logout</button>\n      </div>\n    </div>\n  </nav>\n</template>\n<style scoped>\n.nav-scroller {\n  position: relative;\n  z-index: 2;\n  height: 2.75rem;\n  overflow-y: hidden;\n}\n\n.nav-scroller .nav {\n  display: flex;\n  flex-wrap: nowrap;\n  padding-bottom: 1rem;\n  margin-top: -1px;\n  overflow-x: auto;\n  text-align: center;\n  white-space: nowrap;\n  -webkit-overflow-scrolling: touch;\n}\n</style>","<script>\nimport _ from \"lodash\";\nimport dropdown from \"bootstrap/js/dist/dropdown\";\nimport { RouterLink, RouterView } from \"vue-router\";\nimport request from \"@/lib/ApiClient\";\nimport EventDetailsComponent from \"./EventDetailsComponent.vue\";\nimport MainNav from \"@/components/MainNav.vue\";\nimport dayjs from '@/lib/dayjs';\n\nexport default {\n  emits: ['logout'],\n  components: {\n    MainNav,\n    RouterView,\n    EventDetailsComponent\n  },\n  data() {\n    return {\n      count: 0,\n      races: [],\n      loading: true,\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.query,\n      () => {\n        this.fetchData();\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    fetchData() {\n      this.error = null;\n      this.loading = true;\n      console.log('fetch plz')\n      if (this.$route) {\n       return request(`/api/races/`)\n          .then((response) => {\n            this.races = response.data;\n            this.loading = false;\n            console.log(\"fetched\")\n            console.log(this.races);\n            \n          })\n          .catch((err) => {\n            this.loading = false;\n            this.error = err.toString();\n            console.error(err);\n          });\n      }\n    }\n  },\n  computed: {\n    displayRaces(){\n      let series = {};\n      let filtered = _.filter(this.races, (raceInfo)=>{\n        \n        if(raceInfo.series && series[raceInfo.series] && !raceInfo.disableSeriesRedirect){\n          // console.log(\"exclude \"+raceInfo.series)\n          return false;\n        }\n        let isInFuture =  dayjs().isBefore(dayjs(raceInfo.eventDate));\n         console.log('isInFuture' + isInFuture + \" \"+raceInfo.displayName)\n        if(raceInfo.isTestData && !this.$route.query.test){\n          return false;\n        }\n        if(!isInFuture && !this.$route.query.past){\n          return false;\n        }\n        // console.log(\"show \"+raceInfo.raceid)\n        if(typeof raceInfo.series === 'string' && raceInfo.series.length > 1){\n            console.log(\"set as shown \"+raceInfo.raceid)\n            series[raceInfo.series] = true;\n          }\n        return true;\n      })\n      // return filtered;\n      // order by upcoming race date?\n      return _.sortBy(filtered, [function(o) { return dayjs(o.eventDate); }]);\n    },\n    loggedIn(){\n      return false;\n    }\n  },\n  \n};\n</script>\n\n<template>\n  <MainNav></MainNav>\n\n  <div v-if=\"loading\">\n    Plz wait, loading...\n  </div>\n  <div v-else>\n    <div v-for=\"(race, idx) in displayRaces\" :key=\"idx\">\n      <EventDetailsComponent :details=\"race.eventDetails\" :raceid=\"race.raceid\" compact-mode=\"true\"/>\n\n    </div>\n  </div>\n</template>\n<style scoped>\nbody {\n  font-size: .875rem;\n}\n\n.nav-scroller {\n  position: relative;\n  z-index: 2;\n  height: 2.75rem;\n  overflow-y: hidden;\n}\n\n.nav-scroller .nav {\n  display: flex;\n  flex-wrap: nowrap;\n  padding-bottom: 1rem;\n  margin-top: -1px;\n  overflow-x: auto;\n  text-align: center;\n  white-space: nowrap;\n  -webkit-overflow-scrolling: touch;\n}\n\n/*\n * Navbar\n */\n\nbody {\n  min-height: 75rem;\n  padding-top: 4.5rem;\n}\n</style>","<script>\n\nlet msToTimeString = (ms, showMillis = false)=>{\n    const d = new Date(Date.UTC(0,0,0,0,0,0,ms)),\n    parts = [\n        d.getUTCMinutes(),\n        d.getUTCSeconds()\n    ]\n    let minSecMillis=parts.map(s => String(s).padStart(2,'0')).join(':');\n    if(showMillis){\n      minSecMillis = minSecMillis.concat('.'+`${d.getUTCMilliseconds()}`.padStart(3,'0'));\n    }\n    if(d.getUTCHours()){\n        minSecMillis = d.getUTCHours() + \":\" +minSecMillis;\n    }\n    return minSecMillis;\n}\n\nexport default {\n  props: [\"data\",\"Pos\",\"totLaps\", \"showMillis\"],\n  data() {\n    return {\n      count: 0\n    }\n  },\n  methods:{\n    msToTimeString(millis){\n      return msToTimeString(millis, this.showMillis);\n    }\n  },\n\n  computed:{\n      incompleteLaps(){\n          let filler = new Array(this.totLaps - this.data.laps.length);\n          return filler.fill('-') \n      },\n      formattedTime(){\n          return msToTimeString(this.data.duration, this.showMillis);\n      },\n      trailingTime(){\n        if(!this.data.back){\n          return \"-\";\n        }\n        if(this.showMillis){\n          return msToTimeString(this.data.backMs, true);\n        }else{\n          return this.data.back;\n        }\n      }\n  }\n}\n</script>\n\n<template>\n  <td>{{Pos + 1}}</td>\n  <td>{{data.Bib}}</td>\n  <td>{{data.Name}}</td>\n  <!-- <td>{{data.Age}}</td> -->\n  <td>{{data.Sponsor}}</td>\n  <td v-for=\"(lap, idx) in data.laps\" :key=\"idx\">{{msToTimeString(lap.duration)}}</td>\n  <template v-if=\"totLaps-data.laps.length > 0\">\n      <td v-for=\"fill in incompleteLaps\">{{fill}}</td>\n  </template>\n  <td>{{formattedTime}}</td>\n  <td>{{trailingTime}}</td>\n\n</template>","<script>\nimport dropdown from \"bootstrap/js/dist/dropdown\";\nimport { RouterLink } from \"vue-router\";\nimport request from \"@/lib/ApiClient\";\n\n\nexport default {\n  props:['series'],\n  data() {\n    return {\n      count: 0,\n      seriesData:{}\n    };\n  },\n  created() {\n    this.$watch(()=>this.series, function () {\n      if(!this.series){\n        return;\n      }\n    let dataUrl = `/api/series/${this.series}/races`\n    request(dataUrl)\n      .then(({data}) => {\n        this.seriesData = data;\n      });\n  })\n  },\n  computed: {\n    isPcrs(){\n      return this.series && this.series.indexOf('pcrs') > -1;\n    }\n  },\n};\n</script>\n\n<template>\n  <nav id=\"top\" class=\"navbar navbar-light bg-light\">\n    <div class=\"container-fluid\">\n      <div class=\"navbar-brand\" href=\"#\">{{seriesData.displayName}}</div>\n\n      <div class=\"nav-item\" v-if='seriesData.homepage'>\n        <a\n          class=\"nav-link active\"\n          aria-current=\"page\"\n          :href=\"seriesData.homepage.url\"\n          >{{seriesData.homepage.linkString}}</a\n        >\n      </div>\n    </div>\n  </nav>\n  <p class=\"mt-3\">View Weekly lap times:</p>\n  <ul class=\"nav nav-tabs mt-1 justify-content-center\">\n    <li v-for=\"race in seriesData.races\" :key=\"race.raceid\" class=\"nav-item\">\n      <RouterLink\n        class=\"nav-link\"\n        :class=\"{ active: $route.params.raceid === race.raceid }\"\n        :to=\"`/race/${race.raceid}`\"\n        >{{ race.displayName + ` - ${race.formattedStartDate}` }}</RouterLink\n      >\n    </li>\n    <li class=\"nav-item\" v-if='isPcrs'>\n      <RouterLink\n        class=\"nav-link\"\n        :class=\"{ active: $route.path == '/series/pcrs_2022' }\"\n        :to=\"`/series/pcrs_2022`\"\n        >Series Standings</RouterLink\n      >\n    </li>\n    <li class=\"nav-item\" v-if='isPcrs'>\n      <RouterLink\n        class=\"nav-link\"\n        :class=\"{ active: $route.path == '/series/grom/pcrs_2022' }\"\n        :to=\"`/series/grom/pcrs_2022`\"\n        >Grom Series Standings</RouterLink\n      >\n    </li>\n    <li class=\"nav-item\" v-if='isPcrs'>\n      <RouterLink\n        class=\"nav-link\"\n        :class=\"{ active: $route.path == '/teamcomp/pcrs_2022' }\"\n        :to=\"`/teamcomp/pcrs_2022`\"\n        >Team Competition</RouterLink\n      >\n    </li>\n  </ul>\n</template>","<script>\nimport _ from \"lodash\";\nimport ResultRow from \"./ResultRow.vue\";\nimport SeriesNavBar from \"./SeriesNavBar.vue\";\nimport request from \"@/lib/ApiClient\";\n\nexport default {\n  components: {\n    ResultRow,\n    SeriesNavBar,\n  },\n  data() {\n    return {\n      categories: {},\n      loading: false,\n      error: null,\n      formattedStartDate:\"\",\n      series:null,\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        this.fetchData();\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    scrollMeTo(refName) {\n      var element = document.querySelector(`#${refName}`);\n      element.scrollIntoView({ behavior: \"smooth\" });\n    },\n    fetchData() {\n      this.error = null;\n      this.loading = true;\n      if (this.$route.params.raceid) {\n        let dataUrl = `/api/races/results/${this.$route.params.raceid}`;\n        request(dataUrl)\n          .then(({data}) => {\n            this.formattedStartDate = data.raceMeta.formattedStartDate;\n            this.series = data.series;\n            this.loading = false;\n            this.categories = data.categories;\n          })\n          .catch((err) => {\n            console.error(err);\n            this.categories = {};\n            this.error = err.toString();\n          });\n      }\n    },\n  },\n  computed: {\n    sortedCats() {\n      return _.orderBy(this.categories, \"disporder\");\n    },\n    expertCats(){\n        return _.filter(this.sortedCats, {laps:4});\n    },\n    sportCats(){\n        return _.filter(this.sortedCats, {laps:3});\n    },\n    beginnerCats(){\n        return _.filter(this.sortedCats, {laps:2});\n    },\n    gromCats(){\n          return _.filter(this.categories, (cat)=>cat.id.indexOf('grom')>-1);\n    },\n    haveResults() {\n      if (!this.categories) {\n        return false;\n      }\n      return Object.keys(this.categories).length > 0;\n    },\n  },\n};\n</script>\n\n<template>\n<SeriesNavBar :series=\"series\" />\n    <div v-if=\"formattedStartDate\" class=\"text-center\">\n        <h2 class=\"mt-5\">Race Results - {{formattedStartDate}}</h2>\n    </div>\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n\n    <div v-if=\"haveResults\">\n      <div class=\"container text-center mt-5\">\n       <ul class=\"list-inline\">\n          <template v-for=\"(cat, key) in expertCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n        <ul class=\"list-inline\">\n          <template v-for=\"(cat, key) in sportCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n        <ul class=\"list-inline\">\n          <template v-for=\"(cat, key) in beginnerCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n        <ul class=\"list-inline\">\n          <template v-for=\"(cat, key) in gromCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n      </div>\n      <div class=\"container-fluid\">\n        <div v-for=\"(cat, key) in sortedCats\" :key=\"cat.id\" class=\"mt-5\">\n          <h3 :id=\"cat.id\">{{ cat.catdispname }}</h3>\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th\n                  v-for=\"(columnName, index) in cat.columns\"\n                  scope=\"col\"\n                  :key=\"index\"\n                >\n                  {{ columnName }}\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(racer, idx) in cat.results\" :key=\"idx\">\n                <ResultRow :totLaps=\"cat.laps\" :Pos=\"idx\" :data=\"racer\" />\n              </tr>\n            </tbody>\n          </table>\n          <a role=\"button\" @click=\"scrollMeTo('top')\" class=\"link-primary\"\n            >Back to Top</a\n          >\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"text-center\">\n        <h2 class=\"mt-5\">No results yet...</h2>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\n\ntable.table {\n--bs-table-hover-bg: #76c8ff;\n}\n</style>\n","<script>\nimport dropdown from \"bootstrap/js/dist/dropdown\";\nimport { RouterLink } from \"vue-router\";\nimport request from \"@/lib/ApiClient\";\n\n\nexport default {\n  props:['series','displayName'],\n  data() {\n    return {\n      count: 0,\n      seriesData:{},\n      races:[]\n    };\n  },\n  created() {\n    this.$watch(()=>this.series, function () {\n      if(!this.series){\n        return;\n      }\n    let dataUrl = `/api/results/?series=${this.series}`\n    request(dataUrl)\n      .then(({data}) => {\n        this.races = data;\n        return request(`api/results/series/?series=${this.series}`)\n      })\n      .then(({data})=>{\n        this.seriesData = data;\n      })\n  })\n  },\n  computed: {\n    isPcrs(){\n      return this.series && this.series.indexOf('pcrs') > -1;\n    },\n    hasTeamComp(){\n      return this.seriesData?.teamCompDates?.length > 1;\n    },\n    headerName(){\n      return this.displayName || this.seriesData?.eventName\n    },\n    isSeriesResultPage(){\n      return this.$route.name =='seriesResults'\n    },\n  },\n};\n</script>\n\n<template>\n  <nav v-if=\"headerName\" id=\"top\" class=\"navbar navbar-light bg-light\">\n    <div class=\"container-fluid\">\n      <div class=\"navbar-brand h2\" href=\"#\">{{headerName}}</div>\n\n      <!-- <div class=\"nav-item\" v-if='seriesData.homepage'>\n        <a\n          class=\"nav-link active\"\n          aria-current=\"page\"\n          :href=\"seriesData.homepage.url\"\n          >{{seriesData.homepage.linkString}}</a\n        >\n      </div> -->\n    </div>\n  </nav>\n  <div v-if=\"races.length > 1\">\n  <p class=\"mt-3\">View Individual Event Times:</p>\n  <ul class=\"nav nav-tabs mt-1 justify-content-center\">\n    <li v-for=\"race in races\" :key=\"race.raceid\" class=\"nav-item\">\n      <RouterLink\n        class=\"nav-link\"\n        :class=\"{ active: $route.params.id === race.raceid && $route.name =='raceResult' }\"\n        :to=\"`/result/${race.raceid}`\"\n        >{{ race.eventName + ` - ${race.formattedStartDate}` }}</RouterLink\n      >\n    </li>\n    <li v-if=\"!isSeriesResultPage\">\n      <RouterLink\n        class=\"nav-link\"\n        :class=\"{ active: $route.name == 'seriesResults' }\"\n        :to=\"{ name: 'seriesResults', params: { seriesid: series }}\"\n        >Overall Standings</RouterLink\n      ></li>\n    <li v-if=\"hasTeamComp\">\n      <RouterLink\n        class=\"nav-link\"\n        :class=\"{ active: $route.name == 'teamCompResults' }\"\n        :to=\"{ name: 'teamCompResults', params: { seriesid: series }}\"\n        >Team Competition Standings</RouterLink\n      ></li>\n  </ul>\n</div>\n</template>","<script>\nimport _ from \"lodash\";\nimport ResultRow from \"./ResultRow.vue\";\nimport SeriesNavBar from \"./SeriesResultNavComponent.vue\";\nimport request from \"@/lib/ApiClient\";\n\n\n\nexport default {\n  components: {\n    ResultRow,\n    SeriesNavBar,\n  },\n  data() {\n    return {\n      resultData:{},\n      categories: {},\n      loading: false,\n      error: null,\n      formattedStartDate:\"\",\n      series:null,\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        this.fetchData();\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    scrollMeTo(refName) {\n      var element = document.querySelector(`#${refName}`);\n      element.scrollIntoView({ behavior: \"smooth\" });\n    },\n    fetchData() {\n      this.error = null;\n      this.loading = true;\n      if (this.$route.params.id) {\n        let dataUrl = `/api/results/${this.$route.params.id}`;\n        request(dataUrl)\n          .then(({data}) => {\n            this.formattedStartDate = data.formattedStartDate;\n            this.series = data.series;\n            this.resultData = data;\n            this.loading = false;\n            this.categories = data.categories;\n          })\n          .catch((err) => {\n            console.error(err);\n            this.categories = {};\n            if(err.response.status == 404){\n              this.error = '';\n\n            }else{\n\n              this.error = err.toString();\n            }\n            this.loading = false;\n          });\n      }\n      else{\n        this.$router.push('');\n      }\n    },\n    metaColumns(cols) {\n      return cols.slice(0,4)\n    },\n    lapColumns(firstRacerLaps) {\n      let headers = [];\n      for(let i = 1; i<=firstRacerLaps.length; i++){\n        headers.push(`Lap ${i}`);\n      }\n      if(this.fastestLapScoring){\n        headers.push(`Fastest Lap:`);\n      }else{\n        headers.push(`Total`);\n      }\n      headers.push(`Time Behind Leader`);\n      \n      return headers\n    },\n  },\n  computed: {\n    fastestLapScoring(){\n      return this.resultData.scoringType == 'fastestlap';\n    },\n    sortedCats() {\n      return _.orderBy(this.categories, \"disporder\");\n    },\n    haveResults() {\n      if (!this.categories) {\n        return false;\n      }\n      return Object.keys(this.categories).length > 0;\n    },\n  },\n};\n</script>\n\n<template>\n<SeriesNavBar :series=\"series\"/>\n    <div v-if=\"resultData.eventName\" class=\"text-center\">\n        <h2 class=\"mt-5\">Race Results - {{resultData.eventName}}</h2>\n    </div>\n    <div v-if=\"formattedStartDate\" class=\"text-center\">\n        <h2 class=\"mt-5\">{{formattedStartDate}}</h2>\n    </div>\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n\n    <div v-if=\"haveResults\">\n      <div id=\"top\" class=\"container text-center mt-5\">\n        <ul class=\"list-inline\">\n          <template v-for=\"(cat, key) in sortedCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n      </div>\n      <div class=\"container-fluid\">\n        <div v-for=\"(cat, key) in sortedCats\" :key=\"cat.id\" class=\"mt-5\">\n          <h3 :id=\"cat.id\">{{ cat.catdispname }}</h3>\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th\n                  v-for=\"(columnName, index) in metaColumns(cat.columns)\"\n                  scope=\"col\"\n                  :key=\"index\"\n                >\n                  {{ columnName }}\n                </th>\n                <th\n                  v-for=\"(columnName, index) in lapColumns(cat.results[0].laps)\"\n                  scope=\"col\"\n                  :key=\"index\"\n                >\n                  {{ columnName }}\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(racer, idx) in cat.results\" :key=\"idx\">\n                <ResultRow :totLaps=\"cat.results[0].laps.length\" :Pos=\"idx\" :data=\"racer\" :showMillis=\"resultData.showMillis || fastestLapScoring\" />\n              </tr>\n            </tbody>\n          </table>\n          <a role=\"button\" @click=\"scrollMeTo('top')\" class=\"link-primary\"\n            >Back to Top</a\n          >\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"text-center\">\n        <h2 class=\"mt-5\">No results yet...</h2>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\n\ntable.table {\n--bs-table-hover-bg: #76c8ff;\n}\n</style>\n","<script>\n\nexport default {\n  props: [\"data\",\"Pos\"],\n  data() {\n    return {\n      count: 0\n    }\n  },\n  computed:{\n  }\n}\n</script>\n\n<template>\n  <td>{{Pos + 1}}</td>\n  <td>{{data.Bib}}</td>\n  <td>{{data.Name}}</td>\n  <td>{{data.Age}}</td>\n  <td>{{data.Sponsor}}</td>\n  <td :class='{\"text-danger\":race.dropped}' v-for=\"(race, idx) in data.results\" :key=\"idx\">{{race.resultString}}</td>\n  <td>{{data.seriesPoints}}</td>\n\n</template>\n\n<style>\n\n.dropped {\ncolor: #ff7676;\n}\n</style>","<script>\nimport _ from \"lodash\";\nimport request from \"@/lib/ApiClient\";\nimport SeriesResultRow from \"./SeriesResultRow.vue\";\nimport SeriesNavBar from \"./SeriesResultNavComponent.vue\";\n\nexport default {\n  components: {\n    SeriesResultRow,\n    SeriesNavBar,\n  },\n  data() {\n    return {\n      categories: {},\n      loading: false,\n      error: null,\n      displayName: \"\",\n      series: null\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        this.fetchData();\n        \n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    scrollMeTo(refName) {\n        var element = document.querySelector(`#${refName}`)\n        element.scrollIntoView({ behavior: 'smooth' })\n    },\n    fetchData() {\n      if(!this.$route.params.seriesid){\n        return;\n      }\n      this.error = null;\n      this.loading = true;\n      let dataUrl = `/api/series/results/${this.$route.params.seriesid}`;\n      request(dataUrl)\n        .then(({data}) => {\n          this.loading = false;\n          this.categories = data.categories;\n          this.displayName = data.eventName;\n          this.series = this.$route.params.seriesid;\n          let temp = _.map(data.categories, (cat)=>_.omit(cat, ['results','columns']))\n          // console.log('temp:', _.orderBy(temp, 'disporder'))\n        })\n        .catch((err) => {\n          console.error(err);\n          this.categories = {};\n          this.error = err.toString();\n        });\n    },\n  },\n  computed: {\n    sortedCats() {\n      \n      return _.orderBy(this.categories, \"disporder\");\n    },\n    haveResults() {\n      if (!this.categories) {\n        return false;\n      }\n      return Object.keys(this.categories).length > 0;\n    },\n    isPCRS(){\n      return _.isString(this.series) && this.series.indexOf('pcrs') > -1;\n    }\n  },\n};\n</script>\n\n<template>\n  <SeriesNavBar :series=\"series\" :displayName=\"displayName\"/>\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n     <div class=\"container-fluid text-center mt-5\">\n    <h3>Series Standings</h3>\n    <p>Glossary of terms below:</p>\n    <p v-if=\"isPCRS\">1/50 = 1st Place/50 Points &nbsp&nbsp-/- = Did not race</p>\n    <p v-else>1/100 = 1st Place/100 Points &nbsp&nbsp-/- = Did not race</p>\n  </div>\n    <div v-if=\"haveResults\">\n      <div class=\"container-fluid text-center mt-5\">\n          <ul class=\"list-inline\">\n          <template v-for=\"(cat) in sortedCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n      </div>\n      <div class=\"container-fluid\">\n        <div v-for=\"(cat) in sortedCats\" :key=\"cat.id\" class=\"mt-5\">\n          <h3 :id=\"cat.id\">{{ cat.catdispname }}</h3>\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th\n                  v-for=\"(columnName, index) in cat.columns\"\n                  scope=\"col\"\n                  :key=\"index\"\n                >\n                  {{ columnName }}\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(racer, idx) in cat.results\" :key=\"idx\">\n                <SeriesResultRow :Pos=\"idx\" :data=\"racer\" />\n              </tr>\n            </tbody>\n          </table>\n          <a role=\"button\" @click=\"scrollMeTo('top')\" class=\"link-primary\">Back to Top</a>\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"text-center\">\n        <h2 class=\"mt-5\">No results yet...</h2>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\n\ntable.table {\n--bs-table-hover-bg: #76c8ff;\n}\n\n</style>\n","<script>\nimport _ from \"lodash\";\nimport dayjs from '@/lib/dayjs'\n\nexport default {\n  props: [\"categories\", \"raceDate\"],\n  data() {\n    return {};\n  },\n  methods: {\n    formatStartTime(startTime) {\n      return dayjs(`${dayjs(this.raceDate).format(\"YYYY-MM-DD\")} ${startTime}`).format(\"h:mm A\");\n    },\n  },\n  computed: {\n    groupByStartTimes() {\n      let sorted = this.categories.toSorted((a, b) => dayjs(a.startTime, 'H:mm').diff(dayjs(b.startTime, 'H:mm')));\n      return _.groupBy(sorted,\n        \"startTime\"\n      );\n    },\n    hasStartTimes(){\n      return !!_.some(this.categories, 'startTime')\n    }\n  },\n};\n</script>\n\n<template>\n  <div v-if=\"categories.length && hasStartTimes\">\n    <h5>Race Start Times:</h5>\n  <div class=\"row gap-5 mb-3\">\n    <div v-for=\"(timeGroup, time) in groupByStartTimes\" :key=\"time\" class=\"col-md-5\">\n        <h6 class=\"\">{{formatStartTime(time)}}:</h6>\n        <div class=\"row g-2 px-4 gx-4 border bg-light\">\n          <div v-for=\"category in groupByStartTimes[time]\" :key=\"category.id\" class=\"col-lg text-nowrap my-1\">{{category.catdispname}}</div>\n        </div>\n  </div>\n  </div>\n  </div>\n</template>","<script>\nimport _ from \"lodash\";\nimport request from \"@/lib/ApiClient\";\nimport EventDetailsComponent from \"@/components/EventDetailsComponent.vue\";\nimport EventCategoryScheduleComponent from \"@/components/EventCategoryScheduleComponent.vue\"\nimport dayjs from '@/lib/dayjs';\nimport MainNav from \"@/components/MainNav.vue\";\n\nlet saveForm =  _.debounce((data, raceid)=>{\n  window.localStorage.setItem(`race-reg-form-data-${raceid}`, JSON.stringify(data))\n}, 3500);\nlet getForm = (raceid)=>{\n  let data = window.localStorage.getItem(`race-reg-form-data-${raceid}`);\n  if(data){\n    let parsed = {};\n    try{\n      parsed = JSON.parse(data);\n    }catch(err){\n      // ignore invalid json\n    }\n    return parsed;\n  }\n  return null;\n}\nlet clearFormStorage = (raceid)=>{\n  window.localStorage.removeItem(`race-reg-form-data-${raceid}`);\n}\n\nfunction getFees(priceInDollars){\n    if(priceInDollars === 0){\n      return 0\n    }\n    let cents = priceInDollars * 100;\n    let onlineFee = cents * .04;\n    if(onlineFee > 600){\n        onlineFee = 600\n    }\n\n    let ccFee = Math.round((cents + onlineFee + 30)/( 1 - .029 ));\n\n    return ccFee - cents;\n    // return { stripeFee: ccFee - onlineFee - cents, regFee: onlineFee };\n}\n\nexport default {\n  components: {\n    MainNav,\n    EventDetailsComponent,\n    EventCategoryScheduleComponent,\n  },\n  data() {\n    return {\n      categories: {},\n      loading: false,\n      error: null,\n      formError: [],\n      formInputData: {},\n      raceData: null,\n      payment: \"\",\n      birthdate: \"\",//\"1990-03-05\",\n      submitted: false,\n      waiverAccepted: false,\n      couponError: [],\n      prevBibError: [],\n      seriesRaces:{},\n      seriesRaceIdx:0,\n      previousReg: false,\n      prevAge: null,\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params.raceid,\n      () => {\n        this.fetchData();\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  watch: {\n    formInputData: {\n      handler(newValue, oldValue) {\n        if(this.previousReg == false){\n          saveForm(newValue, this.$route.params.raceid);\n        }\n        // Note: `newValue` will be equal to `oldValue` here\n        // on nested mutations as long as the object itself\n        // hasn't been replaced.\n      },\n      deep: true\n    }\n  },\n  methods: {\n    dollas(amt) {\n      return amt.toLocaleString(\"en-US\", { style: \"currency\", currency: \"USD\" });\n    },\n    fetchData() {\n      this.error = null;\n      this.loading = true;\n      if (this.$route.params.raceid) {\n        request(`/api/races/${this.$route.params.raceid}`)\n          .then(async (response) => {\n            this.raceData = response.data;\n            let prevFormData = getForm(this.$route.params.raceid);\n            if(prevFormData){\n              let category = _.find(this.raceData?.regCategories, { \"id\": prevFormData.category });\n              if(!category){\n                delete prevFormData.category;\n              }\n              prevFormData.waiverAccepted = false;\n              this.formInputData = prevFormData;\n            }\n            if(!this.raceData.disableSeriesRedirect &&this.raceData.series && this.raceData.toString().length > 1 && this.$route.name !== 'register-test'){\n              await request(`/api/series/${this.raceData.series}/registration`)\n                .then(({data})=>{\n                  this.seriesRaces = data;\n                  let now = dayjs();\n                  this.seriesRaceIdx = 0;\n                  _.some(data, ({eventDate,raceid}, idx)=>{\n                    if(dayjs(eventDate).isBefore(now)){\n                      return false;\n                    }\n                    else{\n                      this.seriesRaceIdx = idx;\n                      if(this.$route.params.raceid !== raceid){\n                        this.$router.push(`/register/${raceid}`)\n                      }\n                      return true;\n                    }\n                    })\n                })\n            }\n            this.loading = false;\n            this.payment = this.raceData.paymentOptions[0].type;\n          })\n          .catch((err) => {\n            this.raceData = null;\n            this.loading = false;\n            this.error = err.toString();\n            if(err.code == 'ERR_BAD_REQUEST'){\n              console.warn('tried to load raceid: '+this.$route.params.raceid);\n              return console.warn(err.message);\n            }\n            console.error(err);\n          });\n      }\n    },\n    findPrevBib(bibNumber) {\n      request.post(`/api/racers/bib`, {\n        series: `${this.raceData.series}`,\n        bibNumber\n      })\n        .then(({ data }) => {\n          console.log('prevbib')\n          if(data.paytype === 'season'){\n            this.prevBibError = ['You are already registered for the whole season. You do not need to register every week.']\n            return;\n          }\n          data.prevPaymentId = data.paymentId;\n          delete data.optionalPurchases;\n          delete data.paymentId;\n          this.formInputData = data;\n          this.prevAge = data.racerAge\n        })\n        .catch(({response})=>{\n          console.dir(response)\n          if(response.status== 404){\n            this.prevBibError=[response.data.message]\n          }\n        })\n\n    },\n    onPrevBibChange(data){\n      if (data) {\n        this.findPrevBib(data);\n      } else {\n        this.prevBibError = [];\n        this.prevAge = null;\n      }\n    },\n    getCouponPricing(couponCode) {\n      request.post(`/api/payments/pricing`, {\n        raceid: `${this.$route.params.raceid}`,\n        couponCode\n      })\n        .then(({ data }) => {\n          this.raceData.paymentOptions = data.paymentOptions;\n          \n\n          if (!data.validCoupon) {\n            if(data.reason){\n              return this.couponError = [data.reason];\n            }\n            this.couponError = [\"Invalid Coupon Code\"];\n          } else {\n            this.couponError = [];\n          }\n        })\n\n    },\n    onCouponChange(data) {\n      if (data) {\n        this.getCouponPricing(data);\n      } else {\n        this.couponError = [];\n      }\n    },\n    submitForm(clickEvent) {\n      clickEvent.preventDefault();\n      this.$formkit.submit(\"race-registration\");\n    },\n    async submit(data) {\n      console.log(data);\n      data.birthdate = undefined;\n      data.racerAge = this.racerAge;\n      data.paytype = this.payment;\n      data.timestamp = dayjs().format();\n      await request\n        .post(\n          `/api/payments/start-registration?race=${this.raceData.raceid}`,\n          data\n        )\n        .then((response) => {\n          if (response.data) {\n            console.log(\"response data\");\n            console.log(response.data);\n            if(response.data.redirect){\n              this.submitted = true;\n              clearFormStorage(this.$route.params.raceid);\n              return new Promise((resolve) =>\n              setTimeout(() => {\n                window.location.href = response.data.redirect;\n                resolve();\n              }, 2000)\n              );\n            }else{\n              if(response.data.message){\n                this.formError = [response.data.message];\n              }\n            }\n          }\n        })\n        .catch((error) => {\n          if(error.response?.data?.message){\n            return this.formError = [error.response.data.message];\n          }\n          this.formError = [\"Error submitting request\"];\n        });\n    },\n    getEventTimeObj(startTime) {\n      return dayjs(`${dayjs(this.raceData.eventDate).format(\"YYYY-MM-DD\")} ${startTime}`)\n    }\n  },\n  computed: {\n    startTimes() {\n      if (this.hasStartTimes) {\n        return _.map(_.uniqBy(this.raceData.regCategories, 'startTime'), 'startTime');\n      }\n      return null;\n    },\n    hasStartTimes() {\n      return !!_.some(this.raceData.regCategories, 'startTime')\n    },\n    currentTime() {\n      return dayjs().local().format();\n    },\n    firstRaceTime() {\n      if (this.hasStartTimes) {\n        return dayjs.min(_.map(this.startTimes, (time) => dayjs(`${this.eventDateFormatted} ${time}`)));\n      }\n      return null;\n    },\n    lastRaceTime() {\n      if (this.hasStartTimes) {\n        return dayjs.max(_.map(this.startTimes, (time) => dayjs(`${this.eventDateFormatted} ${time}`)));\n      }\n      return null;\n    },\n    sortedCats() {\n      const filtered = _.filter(this.raceData.regCategories, (cat) => {\n        // if (cat.startTime && dayjs().isAfter(this.getEventTimeObj(cat.startTime).subtract(20, 'minute'))) {\n        //   return false;\n        // }\n\n        // if (cat.minAge && this.racerAge < cat.minAge) {\n        //   return false\n        // }\n        // if (cat.maxAge && this.racerAge > cat.maxAge) {\n        //   return false\n        // }\n        return true;\n      })\n      let cats = {};\n      _.forEach(\n        _.orderBy(filtered, \"disporder\"),\n        (element) => {\n          cats[element.id] = element.catdispname;\n        }\n      );\n      return cats;\n    },\n    loaded() {\n      if (!this.raceData) {\n        return false;\n      }\n      return true;\n    },\n    submitLabel() {\n      if (this.payment == 'cash' || this.sponsoredCategorySelected) {\n        return \"Sign Up!\"\n      }\n      return \"Go to Payment\"\n    },\n    cashEnabled() {\n      if(!this.raceData.cashPaymentsEnabled){\n        return false;\n      }\n      return true;\n    },\n    eventDateFormatted() {\n      return dayjs(this.raceData.eventDate).format('YYYY-MM-DD');\n    },\n    regDisabled() {\n      if(this.$route.name == 'register-test'){\n        return false;\n      }\n      if(this.eventFull){\n        return true;\n      }\n      if(dayjs().isBefore(this.raceData.eventDetails.regOpenDate)){\n        return true;\n      }\n      if(this.raceData.eventDetails.regCloseDate && dayjs().isAfter(this.raceData.eventDetails.regCloseDate)){\n        return true;\n      }\n      if(!this.lastRaceTime){\n        return false;\n      }\n      return dayjs().isAfter(this.lastRaceTime.subtract(5, 'minute'))\n    },\n    eventFull(){\n      if(this.raceData.entryCountMax && this.raceData.entryCountMax > 1){\n        if(this.raceData.entryCount >= this.raceData.entryCountMax){\n          return true;\n        }\n      }\n      return false;\n    },\n    paymentOptions() {\n      let options = {};\n      _.forEach(this.raceData.paymentOptions, (element) => {\n        options[element.type] = element.name;\n      });\n      if (this.cashEnabled) {\n        options['cash'] = 'Cash Payment (This Race Only)';\n      }\n      return options;\n    },\n    paymentCostDets() {\n      if(!this.selectedCategory){\n        return {}\n      }\n      if (this.paymenttypeRequiredCategorySelected) {\n        this.payment = this.selectedCategory?.paytype;\n      }\n      if (this.sponsoredCategorySelected) {\n        this.payment = \"season\";\n        return {\n          cost: this.dollas(0),\n          regFee: this.dollas(0),\n          tot: this.dollas(0)\n        }\n      }\n      let altPaytype;\n      if (this.payment === 'cash') {\n        altPaytype = 'single';\n      } else {\n        altPaytype = this.payment;\n      }\n      let payOpt = _.find(this.raceData?.paymentOptions,\n        (el) => el.type === altPaytype\n      );\n      if (!payOpt){\n        // couldn't find selected paytype, reset selection\n        this.payment = \"single\";\n        payOpt = _.find(this.raceData?.paymentOptions,\n          (el) => el.type === this.payment\n        );\n      }\n      const amt = parseFloat(payOpt.amount);\n      let fees = 0;\n      if (amt > 0 && this.payment !== 'cash') {\n        fees = (payOpt.regFee + payOpt.stripeFee) / 100;\n      }\n      const dets = {}\n      _.assign(dets, payOpt, {\n        name: payOpt.name,\n        cost: this.dollas(amt),\n        regFee: this.dollas(fees),\n        tot: this.dollas(\n          parseFloat(payOpt.amount) + parseFloat(fees)\n        ),\n\n      });\n      if (this.raceData?.optionalPurchases && this.formInputData.optionalPurchases) {\n        let newTot = amt;\n        this.raceData.optionalPurchases.forEach(({ id, label, description, amount }) => {\n          if (this.formInputData.optionalPurchases[id]) {\n            if (!dets.options) {\n              dets.options = [];\n            }\n            dets.options.push({ description,label, id, amount:this.dollas(parseFloat(amount)) })\n            newTot += parseFloat(amount);\n          }\n        })\n        fees = getFees(newTot)/100\n        dets.regFee = this.dollas(fees);\n        dets.tot = this.dollas(newTot + fees)\n\n      }\n      return dets;\n    },\n    showPaymentOption() {\n      if (this.paymenttypeRequiredCategorySelected) {\n        return false;\n      }\n      if (this.sponsoredCategorySelected) {\n        return false;\n      }\n      if(this.cashEnabled){\n        return true;\n      }\n      if (this.raceData.paymentOptions && this.raceData.paymentOptions.length < 2) {\n        return false;\n      }\n      return true;\n    },\n    paymenttypeRequiredCategorySelected(){\n      if (!this.selectedCategory || this.selectedCategory?.paytype) {\n        return true;\n      }\n      return false;\n    },\n    sponsoredCategorySelected() {\n      if (this.selectedCategory?.sponsored) {\n        return true;\n      }\n      return false;\n    },\n    selectedCategory() {\n      if (this.formInputData && this.formInputData.category) {\n        return _.find(this.raceData?.regCategories, { \"id\": this.formInputData?.category });\n      }\n      return null;\n    },\n    racerAge() {\n      if(this.prevAge){\n        return this.prevAge;\n      }\n      if (this.birthdate) {\n        //calculate racer age on dec 31\n        const dec31 = dayjs();\n        const bday = dayjs(this.birthdate);\n\n        return dec31.year() - bday.year();\n\n      }\n    },\n  },\n};\n</script>\n\n<template>\n   <MainNav></MainNav>\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n\n    <div v-if=\"loaded\">\n      <EventDetailsComponent :details=\"raceData.eventDetails\" :raceid=\"raceData.raceid\" />\n      <div v-if=\"eventFull\" class=\"h5\">This event has reached the registration entry max of {{ raceData.entryCountMax }}</div>\n      <div v-if=\"regDisabled\">\n        <h3>Registration is closed.</h3>\n      </div>\n      <div v-else class=\"mb-5\">\n        <div class=\"mb-3\" v-if=\"raceData?.headerContent\" v-html=\"raceData.headerContent\"></div>\n        <div v-if=\"raceData?.seriesRaceNumber > 1\">\n          \n          <FormKit label-class=\"text-danger fw-bold fs-5\" type=\"checkbox\" name=\"prevBibLookup\" label=\"I have a bib number!\" help=\"Look up your information from a previous race in this series\" v-model=\"previousReg\" />\n          <FormKit v-if=\"previousReg\" \n                  type=\"number\" name=\"bibNumber\" \n                  label=\"Bib Number:\" \n                  help=\"Enter your Bib Number from your previous race to pre-fill your info\" \n                  :delay=\"1500\" \n                  @input=\"onPrevBibChange\"\n                  :errors=\"prevBibError\"\n                  validation=\"required\" />  \n        </div>\n        <FormKit type=\"form\" id=\"race-registration\" v-model=\"formInputData\" :form-class=\"submitted ? 'hide' : 'show'\"\n          :errors=\"formError\" :actions=\"false\" @submit=\"submit\">\n          <div class=\"row\">\n            <div class=\"col-md-6 order-md-1 mb-3\">\n              <h4 class=\"d-flex justify-content-between align-items-center mb-3\">\n                <h5>Registration Info</h5>\n                <span class=\"badge badge-secondary badge-pill\">3</span>\n              </h4>\n              \n                <FormKit type=\"text\" name=\"first_name\" label=\"First name\" help=\"What is your first name\"\n                  validation=\"required\" />\n                <FormKit type=\"text\" name=\"last_name\" label=\"Last name\" help=\"What is your last name\"\n                  validation=\"required\" />\n              <div class=\"form-group pt-3\">\n                <FormKit v-if=\"!previousReg\" type=\"email\" name=\"email\" label=\"Your email\" help=\"Enter an email address\"\n                  validation=\"required|email\" />\n              </div>\n              <FormKit type=\"text\" name=\"sponsor\" label=\"Your Team or Sponsor\"\n                help=\"Enter an optional Team or Sponsor name\" maxlength=\"25\"/>\n              <FormKit v-if=\"!raceData?.disableAge && !previousReg\" type=\"date\" name=\"birthdate\" label=\"Birthday\" v-model=\"birthdate\"\n                help=\"Tap on the year at the top of the popup to change it\" validation=\"required|before:2020-01-01\"\n                validation-visibility=\"live\" />\n              <p v-if=\"!raceData?.disableAge\" class=\"fw-bolder\">Racing Age (as of Dec 31): {{racerAge}}</p>\n              <div class=\"form-group pt-3\">\n                <FormKit type=\"select\" id=\"category\" label=\"Category:\" placeholder=\"Select a category\"\n                  name=\"category\" :options=\"sortedCats\" validation=\"required\" validation-visibility=\"dirty\"\n                  :validation-messages=\"{\n                    is: 'You must select a category',\n                  }\" />\n              </div>\n              <FormKit v-if=\"!previousReg\" type=\"text\" name=\"contactNumber\" label=\"Phone Number\" help=\"If there is an issue on race day, we will try to contact you via this number\" />\n              <FormKit v-if=\"!previousReg\" type=\"text\" name=\"emergencyNumber\" label=\"Emergency Contact Name and Number\" help=\"In case of an emergency, we will contact this person\" />\n            </div>\n            <div class=\"col-md-5 order-md-2 mb-4\" v-if=\"paymentCostDets\">\n              <h4 class=\"d-flex justify-content-between align-items-center mb-3\">\n                <h5>Payment Detail</h5>\n              </h4>\n              <fieldset class=\"list-group mb-3\">\n                <div>\n                  <FormKit type=\"text\" name=\"coupon\" label=\"Coupon Code\" help=\"\" :delay=\"1000\" @input=\"onCouponChange\"\n                    v-if=\"raceData.couponsEnabled\" :errors=\"couponError\" />\n                </div>\n              </fieldset>\n              <fieldset class=\"list-group mb-3\">\n                <div>\n                  <FormKit type=\"radio\" name=\"paytype\" label=\"Payment option\" :options=\"paymentOptions\"\n                    validation=\"required\" v-model=\"payment\" v-if=\"showPaymentOption\" />\n                </div>\n              </fieldset>\n              <div v-if=\"raceData.optionalPurchases && (showPaymentOption || paymentCostDets.name)\">\n                <FormKit type=\"group\" name=\"optionalPurchases\">\n                <div v-for=\"(item, idx) in raceData.optionalPurchases\" class=\"list-group mb-3\">\n                  <h6 v-html=\"item.description\"></h6>\n                  <FormKit type=\"checkbox\" :label=\"`${item.label} - ${dollas(parseFloat(item.amount))}`\" :name=\"item.id\" />\n                  <FormKit v-if=\"item.options && formInputData.optionalPurchases[item.id]\" type=\"select\" :options=\"item.options\" :label=\"item.optionsLabel\" :name=\"`${item.id}-option`\"></FormKit>\n                </div>\n                </FormKit>\n              </div>\n              <ul class=\"list-group mb-3 formkit-fieldset\">\n                <li class=\"\n                  list-group-item\n                  d-flex\n                  justify-content-between\n                  lh-condensed\n                \">\n                  <div>\n                    <h6 class=\"my-0\">Event Entry:</h6>\n                    <small class=\"text-muted\">{{ paymentCostDets.name }}</small>\n                  </div>\n                  <div>\n                    <span v-if=\"paymentCostDets.discounted\" class=\"mx-3 text-decoration-line-through text-danger\">{{\n                    dollas(paymentCostDets.orig) }}</span>\n                    <span :class=\"{'text-success':paymentCostDets.discounted}\">{{ paymentCostDets.cost }}</span>\n                  </div>\n                </li>\n                <li  v-if=\"paymentCostDets.options\" v-for=\"(item, id) in paymentCostDets.options\" class=\"\n                  list-group-item\n                  d-flex\n                  justify-content-between\n                  lh-condensed\n                \">\n                  <div>\n                    <h6 class=\"my-0\">{{item.label}}</h6>\n                    <small v-if=\"item.option\" class=\"text-muted\">{{ item.option }}</small>\n                  </div>             \n                  <div>\n                    <span>{{ item.amount }}</span>      \n                  </div>\n                </li>\n                <li class=\"\n                  list-group-item\n                  d-flex\n                  justify-content-between\n                  lh-condensed\n                \">\n                  <div>\n                    <h6 class=\"my-0\">Online Processing Fee:</h6>\n                    <small class=\"text-muted\">Credit Card Processing and Online Registration</small>\n                  </div>\n                  <span class=\"text-muted\">{{ paymentCostDets.regFee }}</span>\n                </li>\n                <li class=\"list-group-item d-flex justify-content-between\">\n                  <span>Total (USD)</span>\n                  <strong>{{ paymentCostDets.tot }}</strong>\n                </li>\n              </ul>\n            </div>\n          </div>\n          <div v-if=\"sponsoredCategorySelected\">\n            <p class=\"mb-5\">\n              <h5>Your {{selectedCategory.catdispname}} race entry is sponsored by {{selectedCategory.sponsorName}}</h5>\n            </p>\n          </div>\n          <div v-if=\"payment ==='cash'\">\n            <h2 class=\"text-danger\">Your registration will not be active until payment is received at the event</h2>\n          </div>\n          <div v-if=\"raceData.waiver\">\n            <div v-if=\"raceData.waiver.format =='html'\" v-html=\"raceData.waiver.text\"></div>\n            <div v-else>\n              <h5>{{raceData.waiver.header}}</h5>\n              <p>{{ raceData.waiver.text }}</p>\n            </div> \n          <FormKit  \n          type=\"checkbox\"\n          v-model=\"waiverAccepted\"\n          label=\"I HAVE READ AND UNDERSTAND THIS WAIVER\"\n          help=\"I acknowledge that I have read, understand, and accepted the above release of liability.\"\n          name=\"waiverAccepted\" \n          validation=\"accepted\"\n          :validation-messages=\"{\n            accepted: 'You must agree to the terms of the liability release above'\n          }\"\n          validation-visibility=\"live\"\n          />\n          </div>\n          <FormKit type=\"submit\" :label=\"submitLabel\" @click=\"submitForm\" />\n        </FormKit>\n        <div v-if=\"submitted\">\n          <h2>Submission successful, redirecting</h2>\n        </div>\n      </div>\n      <EventCategoryScheduleComponent :categories=\"raceData.regCategories\" :raceDate=\"raceData.eventDate\" />\n    </div>\n    <div v-else>\n      <div class=\"text-center\">\n        <h2 class=\"mt-5\">Race not found...</h2>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\n.prev-lookup.formkit-label{\n  color: #c10111\n}\ntable.table {\n  --bs-table-hover-bg: #76c8ff;\n}\nbody {\n  min-height: 75rem;\n  padding-top: 4.5rem;\n}\n</style>\n","<script>\nimport _ from \"lodash\";\nimport EventDetailsComponent from \"@/components/EventDetailsComponent.vue\";\nimport MainNav from \"@/components/MainNav.vue\";\n\nimport request from \"@/lib/ApiClient\";\n\nconst dollas = (amt) =>\n  amt.toLocaleString(\"en-US\", { style: \"currency\", currency: \"USD\" });\n\nexport default {\n  components: { EventDetailsComponent, MainNav },\n  data() {\n    return {\n      categories: {},\n      loading: false,\n      error: null,\n      raceData: {},\n      regData: {},\n      payment: \"\",\n      payStatus: false,\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        this.fetchData();\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    fetchData() {\n      this.error = null;\n      this.loading = true;\n      if (this.$route.params.raceid && this.$route.params.payment_id) {\n        request(`/api/races/${this.$route.params.raceid}`)\n          .then((response) => {\n            this.raceData = response.data;\n            return request(\n              `/api/payments/status?payment_id=${this.$route.params.payment_id}`\n            ).then((response) => {\n              this.loading = false;\n              this.payStatus = response.data.status;\n              this.paymentUrl = response.data.stripePayment?.url;\n              this.regData = response.data.regData;\n              this.payment = response.data.regData.paytype;\n            });\n          })\n          .catch((err) => {\n            this.error = \"Failed to load race \" + this.$route.params.raceid;\n            console.error(err);\n          });\n      }\n    },\n  },\n  computed: {\n    sortedCats() {\n      let cats = {};\n      _.forEach(\n        _.orderBy(this.raceData.regCategories, \"disporder\"),\n        (element) => {\n          cats[element.id] = element.catdispname;\n        }\n      );\n\n      return cats;\n    },\n    loaded() {\n      if (!this.raceData) {\n        return false;\n      }\n      return true;\n    },\n    paymentOptions() {\n      let options = {};\n      _.forEach(this.raceData.paymentOptions, (element) => {\n        options[element.type] = element.name;\n      });\n      return options;\n    },\n    pendingPayment() {\n      if(this.regData.raceid != this.$route.params.raceid){\n        return true;\n      }\n      if (this.payStatus && this.payStatus != \"paid\") {\n        return true;\n      }\n      return false;\n    },\n    sponsoredCategorySelected() {\n      if (this.selectedCategory?.sponsored) {\n        return true;\n      }\n      return false;\n    },\n    selectedCategory() {\n      return _.find(this.raceData.regCategories, { id: this.regData.category });\n    },\n  },\n};\n</script>\n\n<template>\n  <MainNav></MainNav>\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n\n    <div v-if=\"loaded\">\n      <EventDetailsComponent :details=\"raceData.eventDetails\" :raceid=\"raceData.raceid\"/>\n      <FormKit\n        type=\"form\"\n        id=\"race-registration\"\n        disabled\n        :actions=\"false\"\n        v-model=\"regData\"\n      >\n        <div class=\"row\">\n          <div class=\"col-md-6 order-md-1\">\n            <div v-if=\"!pendingPayment\">\n              <div\n                class=\"d-flex justify-content-between align-items-center mb-3\"\n              >\n                <h4>Your Registration is Confirmed</h4>\n              </div>\n            </div>\n\n            <div v-if=\"pendingPayment\" class=\"mb-5\">\n              <div\n                class=\"d-flex justify-content-between align-items-center mb-3 text-danger\"\n              >\n                <h4>Your Registration is Incomplete</h4>\n              </div>\n              <div v-if=\"payment === 'cash'\" >\n                <p class=\"text-danger h5\">Please make your cash payment at the event to complete your registration.</p>\n                <p>Your name will not show up on the \"Who is signed up\" list until payment is completed.</p>\n              </div>\n              <div v-else>\n                <a :href=\"paymentUrl\">Complete your payment</a>\n              </div>\n            </div>\n            <div class=\"col\">\n              <div class=\"row\">\n                <FormKit type=\"text\" name=\"first_name\" label=\"First name\" />\n                <FormKit type=\"text\" name=\"last_name\" label=\"Last name\" />\n              </div>\n            </div>\n            <div class=\"form-group pt-3\">\n              <FormKit type=\"email\" name=\"email\" label=\"Email\" />\n            </div>\n\n            <div class=\"form-group pt-3\">\n              <FormKit\n                type=\"text\"\n                name=\"sponsor\"\n                label=\"Your Team or Sponsor\"\n              />\n              <FormKit\n                type=\"select\"\n                label=\"Race Category:\"\n                name=\"category\"\n                :options=\"sortedCats\"\n              />\n            </div>\n            <div v-if=\"sponsoredCategorySelected\">\n              <h5>\n                Your {{ selectedCategory.catdispname }} race entry is sponsored\n                by {{ selectedCategory.sponsorName }}\n              </h5>\n            </div>\n          </div>\n        </div>\n      </FormKit>\n      Please send any corrections or questions to\n      <div v-if=\"raceData.contactEmail\">\n        <a :href=\"`mailto:${raceData.contactEmail}`\">{{raceData.contactEmail}}</a>\n      </div>\n      <div v-else>\n        <a href=\"mailto:support@signup.bike\">support@signup.bike</a>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"text-center\">\n        <h2 class=\"mt-5\">\n          Unable to load requested information\n          {{ $route.params.raceid }} payment: {{ $route.params.payment_id }}\n        </h2>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\ntable.table {\n  --bs-table-hover-bg: #76c8ff;\n}\n</style>\n","<script>\nimport _ from \"lodash\";\nimport request from \"@/lib/ApiClient\";\nimport SeriesResultRow from \"./SeriesResultRow.vue\";\nimport SeriesNavBar from \"./SeriesNavBar.vue\";\n\nexport default {\n  components: {\n    SeriesResultRow,\n    SeriesNavBar,\n  },\n  data() {\n    return {\n      categories: {},\n      loading: false,\n      error: null,\n      displayName: \"\",\n      series: null\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        this.fetchData();\n        \n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    scrollMeTo(refName) {\n        var element = document.querySelector(`#${refName}`)\n        element.scrollIntoView({ behavior: 'smooth' })\n    },\n    fetchData() {\n      if(!this.$route.params.seriesid){\n        return;\n      }\n      this.error = null;\n      this.loading = true;\n      let dataUrl = `/api/series/results/${this.$route.params.seriesid}`;\n      request(dataUrl)\n        .then(({data}) => {\n          this.loading = false;\n          this.categories = data.categories;\n          this.displayName = data.displayName;\n          this.series = this.$route.params.seriesid;\n          let temp = _.map(data.categories, (cat)=>_.omit(cat, ['results','columns']))\n          console.log('temp:', _.orderBy(temp, 'disporder'))\n        })\n        .catch((err) => {\n          console.error(err);\n          this.categories = {};\n          this.error = err.toString();\n        });\n    },\n  },\n  computed: {\n    sortedCats() {\n      let cats;\n      if(this.$route.path.indexOf('grom') > -1){\n          cats = _.filter(this.categories, (cat)=>cat.id.indexOf('grom')>-1);\n      }else{\n          cats = _.filter(this.categories, (cat)=>cat.id.indexOf('grom') == -1);\n      }\n      return _.orderBy(cats, \"disporder\");\n    },\n    expertCats(){\n        return _.filter(this.sortedCats, {laps:4});\n    },\n    sportCats(){\n        return _.filter(this.sortedCats, {laps:3});\n    },\n    beginnerCats(){\n        return _.filter(this.sortedCats, {laps:2});\n    },\n    gromCats(){\n        if(this.$route.path.indexOf('grom') > -1){\n          return _.filter(this.categories, (cat)=>cat.id.indexOf('grom')>-1);\n        }\n        return [];\n    },\n    haveResults() {\n      if (!this.categories) {\n        return false;\n      }\n      return Object.keys(this.categories).length > 0;\n    },\n  },\n};\n</script>\n\n<template>\n<SeriesNavBar :series=\"series\" />\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n     <div class=\"container-fluid text-center mt-5\">\n    <h2>{{ displayName }}</h2>\n    <h3>Series Standings</h3>\n    <p>Glossary of terms below:<br>\n1/50 = 1st Place/50 Points     -/- = Did not race</p></div>\n    <div v-if=\"haveResults\">\n      <div class=\"container-fluid text-center mt-5\">\n          <ul class=\"list-inline\">\n          <template v-for=\"(cat) in expertCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n        <ul class=\"list-inline\">\n          <template v-for=\"(cat) in sportCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n        <ul class=\"list-inline\">\n          <template v-for=\"(cat) in beginnerCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n        <ul class=\"list-inline\">\n          <template v-for=\"(cat) in gromCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(cat.id)\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n      </div>\n      <div class=\"container-fluid\">\n        <div v-for=\"(cat) in sortedCats\" :key=\"cat.id\" class=\"mt-5\">\n          <h3 :id=\"cat.id\">{{ cat.catdispname }}</h3>\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th\n                  v-for=\"(columnName, index) in cat.columns\"\n                  scope=\"col\"\n                  :key=\"index\"\n                >\n                  {{ columnName }}\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(racer, idx) in cat.results\" :key=\"idx\">\n                <SeriesResultRow :Pos=\"idx\" :data=\"racer\" />\n              </tr>\n            </tbody>\n          </table>\n          <a role=\"button\" @click=\"scrollMeTo('top')\" class=\"link-primary\">Back to Top</a>\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"text-center\">\n        <h2 class=\"mt-5\">No results yet...</h2>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\n\ntable.table {\n--bs-table-hover-bg: #76c8ff;\n}\n\n</style>\n","<script>\n\nexport default {\n  props: [\"data\",\"Pos\",\"dates\"],\n  data() {\n    return {\n      count: 0,\n    }\n  },\n  computed:{\n  }\n}\n</script>\n\n<template>\n  <td>{{data.Name}}</td>\n  <td>{{data.Cat}}</td>\n  <td v-for=\"(race, idx) in dates\" :key=\"idx\">{{data[race] || '-'}}</td>\n\n</template>","<script>\nimport _ from \"lodash\";\nimport request from \"@/lib/ApiClient\";\nimport ResultRow from \"./TeamCompDetailRow.vue\";\nimport SeriesNavBar from \"./SeriesNavBar.vue\";\n\n\nexport default {\n  components: {\n    ResultRow,\n    SeriesNavBar,\n  },\n  data() {\n    return {\n      teamResults: {},\n      loading: false,\n      error: null,\n      series: null,\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        this.fetchData();\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    scrollMeTo(refName) {\n      var element = document.querySelector(`#${refName}`);\n      element.scrollIntoView({ behavior: \"smooth\" });\n    },\n    fetchData() {\n      if (!this.$route.params.seriesid) {\n        return;\n      }\n      this.error = null;\n      this.loading = true;\n        let dataUrl = `/api/team-comp?series=${this.$route.params.seriesid}`;\n        request(dataUrl)\n          .then(({data}) => {\n            this.loading = false;\n            this.series = this.$route.params.seriesid;\n            this.teamResults = data;\n            this.teamDates = data.teamCompDates;\n\n          })\n          .catch((err) => {\n            console.error(err);\n            this.teamResults = {};\n            this.error = err.toString();\n          });\n      \n    },\n  },\n  computed: {\n    dates: () => {},\n  },\n};\n</script>\n\n<template>\n<SeriesNavBar :series=\"series\" />\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n        <h2 class=\"mt-5\">Team Standings</h2>\n         <div class=\"container-fluid  mt-5\">\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                  <th>Position</th>\n                <th>Team</th>\n                <th>Total Score</th>\n              </tr>\n            </thead>\n            <tbody>\n                \n              <tr v-for=\"(team, key) in teamResults.result\" :key=\"key\">\n            <td>{{key+1}}</td>\n            <td>{{team.teamName}}</td>\n            <td>{{team.totalScore}}</td>\n              </tr>\n            </tbody>\n          </table>\n      </div>\n      <h2 class=\"mt-5\">Team Results</h2>\n    <div class=\"mt-5\" v-for=\"(team, key) in teamResults.result\" :key=\"key\">\n           <h3> {{team.teamName}}</h3>\n        \n      <div class=\"container-fluid\">\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th style=\"width: 25%\">Racer Name</th>\n                <th style=\"width: 25%\">Class</th>\n                <th style=\"width: 12.5%\">5/4</th>\n                <th style=\"width: 12.5%\">5/11</th>\n                <th style=\"width: 12.5%\">5/18</th>\n                <th style=\"width: 12.5%\">5/25</th>\n              </tr>\n            </thead>\n            <tbody>\n                \n              <tr v-for=\"(racer, idx) in teamResults.teamDets[team.teamName]\" :key=\"idx\">\n                <ResultRow :data=\"racer\" :dates=\"teamDates\" />\n              </tr>\n            </tbody>\n          </table>\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th style=\"width: 50%; text-align:right\">Score (Avg of individual results):</th>\n                <th style=\"width: 12.5%\">{{team.results['5/4'] ? team.results['5/4'].avg : '-'}}</th>\n            <th style=\"width: 12.5%\">{{team.results['5/11'] ? team.results['5/11'].avg : '-'}}</th>\n            <th style=\"width: 12.5%\">{{team.results['5/18'] ? team.results['5/18'].avg : '-'}}</th>\n            <th style=\"width: 12.5%\">{{team.results['5/25'] ? team.results['5/25'].avg : \"-\"}}</th>\n              </tr>\n            </thead>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\ntable.table {\n  --bs-table-hover-bg: #76c8ff;\n}\n</style>\n","<script>\nimport _ from \"lodash\";\nimport request from \"@/lib/ApiClient\";\nimport ResultRow from \"./TeamCompDetailRow.vue\";\nimport SeriesNavBar from \"./SeriesResultNavComponent.vue\";\n\nexport default {\n  components: {\n    ResultRow,\n    SeriesNavBar,\n  },\n  data() {\n    return {\n      teamResults: {},\n      teamDates:[],\n      loading: false,\n      error: null,\n      series: null,\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        this.fetchData();\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    scrollMeTo(refName) {\n      var element = document.querySelector(`#${refName}`);\n      element.scrollIntoView({ behavior: \"smooth\" });\n    },\n    fetchData() {\n      if (!this.$route.params.seriesid) {\n        return;\n      }\n      this.error = null;\n      this.loading = true;\n        let dataUrl = `/api/team-comp?series=${this.$route.params.seriesid}`;\n        request(dataUrl)\n          .then(({data}) => {\n            this.loading = false;\n            this.series = this.$route.params.seriesid;\n            this.teamResults = data;\n            this.teamDates = data.teamCompDates;\n\n\n          })\n          .catch((err) => {\n            console.error(err);\n            this.teamResults = {};\n            this.error = err.toString();\n          });\n      \n    },\n  },\n  computed: {\n    dates: () => {},\n    fivePlusTeams(){\n      return _.filter(this.teamResults?.result, (res)=>{ return res.count > 4})\n    },\n    threeFourTeams(){\n      return _.filter(this.teamResults?.result, (res)=>{ return res.count < 5})\n    },\n    sortedResults(){\n      return _.sortBy(this.teamResults.result, \"teamName\");\n    }\n  },\n};\n</script>\n\n<template>\n<SeriesNavBar :series=\"series\" />\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n        <h2 class=\"mt-5\"> 5+ Team Standings</h2>\n         <div class=\"container-fluid  mt-5\">\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                  <th>Position</th>\n                <th>Team</th>\n                <th>Total Score</th>\n              </tr>\n            </thead>\n            <tbody>\n                \n              <tr v-for=\"(team, key) in fivePlusTeams\" :key=\"key\">\n            <td>{{key+1}}</td>\n            <td>{{team.teamName}}</td>\n            <td>{{team.totalScore}}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <h2 class=\"mt-5\"> 3 Person Team Standings</h2>\n          <div class=\"container-fluid  mt-5\">\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                  <th>Position</th>\n                <th>Team</th>\n                <th>Total Score</th>\n              </tr>\n            </thead>\n            <tbody>\n                \n              <tr v-for=\"(team, key) in threeFourTeams\" :key=\"key\">\n            <td>{{key+1}}</td>\n            <td>{{team.teamName}}</td>\n            <td>{{team.totalScore}}</td>\n              </tr>\n            </tbody>\n          </table>\n      </div>\n      <h2 class=\"mt-5\">Team Results</h2>\n    <div class=\"mt-5\" v-for=\"(team, key) in sortedResults\" :key=\"key\">\n           <h3> {{team.teamName}}</h3>\n        \n      <div class=\"container-fluid\">\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th style=\"width: 25%\">Racer Name</th>\n                <th style=\"width: 25%\">Class</th>\n                <th v-for=\"date in teamDates\" >{{date}}</th>\n              </tr>\n            </thead>\n            <tbody>\n                \n              <tr v-for=\"(racer, idx) in teamResults.teamDets[team.teamName]\" :key=\"idx\">\n                <ResultRow :data=\"racer\" :dates=\"teamDates\"/>\n              </tr>    \n              <tr>\n                <td colspan=\"2\" style=\"text-align:right\">Score (Avg of individual results):</td>\n                <td v-for=\"date in teamDates\" >{{team.results[date] ? team.results[date].avg : '-'}}</td>\n              </tr>\n            </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style>\ntable.table {\n  --bs-table-hover-bg: #76c8ff;\n}\n</style>\n","<script>\nimport _ from \"lodash\";\nimport request from \"@/lib/ApiClient\";\nimport EventDetailsComponent from \"@/components/EventDetailsComponent.vue\";\nimport MainNav from \"@/components/MainNav.vue\";\nimport dayjs from 'dayjs/esm/index.js'\n\nexport default {\n  components: {\n    EventDetailsComponent,\n    MainNav,\n  },\n  data() {\n    return {\n      categories: {},\n      loading: false,\n      error: null,\n      formattedStartDate: \"\",\n      series: null,\n      stageFilter: 'all',\n      racers:[],\n      raceData:{},\n    };\n  },\n  created() {\n    this.$watch(\n      () => this.$route.params,\n      () => {\n        this.fetchData();\n      },\n      // fetch the data when the view is created and the data is\n      // already being observed\n      { immediate: true }\n    );\n  },\n  methods: {\n    scrollMeTo(refName) {\n      var element = document.querySelector(`#${refName}`);\n      element.scrollIntoView({ behavior: \"smooth\" });\n    },\n    fetchData() {\n      this.error = null;\n      this.loading = true;\n      if (this.$route.params.raceid) {\n        request(`/api/races/roster/${this.$route.params.raceid}`)\n          .then(({data}) => {\n            this.raceData = data;\n            this.series = data.series;\n            this.loading = false;\n            this.categories = data.regCategories;\n            this.racers = data.registeredRacers;\n          })\n          .catch((err) => {\n            this.loading=false;\n            if(err.response?.status === 404){\n              this.error = \"Race not found\"\n              return;\n            }\n            console.error(err);\n            this.categories = {};\n            this.error = err.toString();\n          });\n      }\n    },\n    replacePlusSymbol(text){\n      return text.replace('+', 'Plus');\n    },\n    payTypeToStage(paytype){\n      const payOpt = _.find(this.raceData.paymentOptions, {type: paytype});\n      if(payOpt){\n        return payOpt.name;\n      }\n      return '';\n    },\n  },\n  computed: {\n    showPaytype() {\n      return !!this.raceData?.showPaytypeOnRoster\n    },\n    filterOptions(){\n      let options = { \"all\":\"All Stages\"};\n      _.forEach(this.raceData.paymentOptions,\n        (element) => {\n          options[element.type] = element.name;\n        }\n      );\n\n      return options;\n    },\n    filteredRacers(){\n      if(this.showPaytype && this.stageFilter !== 'all'){\n        return _.filter(this.racers, (racer)=>{\n          return racer.paytype == this.stageFilter || racer.paytype == 'season';\n        } )\n      }else{\n        return this.racers\n      }\n    },\n    groupedRacers(){\n      return _.groupBy(this.filteredRacers, \"category\");\n    },\n    sortedCats() {\n      return _.filter(_.orderBy(this.categories, \"disporder\"),\n      (cat)=>_.includes(Object.keys(this.groupedRacers),cat.id));\n    },\n    raceDate(){\n      return dayjs(this.raceData.eventDate).format(\"ddd, MMM D\");\n    }\n  },\n};\n</script>\n\n<template>\n  <MainNav></MainNav>\n  <div v-if=\"loading\" class=\"loading\">Loading...</div>\n  <div v-else>\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n    <div v-else id=\"top\">\n    <EventDetailsComponent :details=\"raceData.eventDetails\" :raceid=\"raceData.raceid\"/>\n    <div v-if=\"Object.keys(racers).length\">\n      <div class=\"row\">\n      <div :class=\"{'col-md-6':showPaytype}\">\n        <h4>{{filteredRacers.length}} Registered for {{raceData.displayName}} on {{raceDate}}</h4>\n      </div>\n      <div v-if=\"showPaytype\" class=\"col-md-6\">\n        <FormKit\n                type=\"select\"\n                label=\"Show registrations for:\"\n                name=\"stageFilter\"\n                v-model=\"stageFilter\"\n                default=\"all\"\n                :options=\"filterOptions\"\n              />\n      </div>\n    </div>\n      <div class=\"container text-center mt-5\">\n       <ul class=\"list-inline\">\n          <template v-for=\"(cat) in sortedCats\" :key=\"cat.id\">\n            <li class=\"list-inline-item  mx-2\">\n              <a role=\"button\" @click=\"scrollMeTo(replacePlusSymbol(cat.id))\" class=\"link-primary\">{{ cat.catdispname }}</a>\n            </li>\n          </template>\n        </ul>\n        </div>\n      <div class=\"container-fluid\">\n        <div v-for=\"(cat) in sortedCats\" :key=\"cat.id\" class=\"mt-5\">\n          <h3 :id=\"replacePlusSymbol(cat.id)\">{{ cat.catdispname }}</h3>\n          <table class=\"table table-striped table-hover\">\n            <thead>\n              <tr>\n                <th>\n                  First Name\n                </th>\n                 <th>\n                  Last Name\n                </th>\n                 <th>\n                  Team/Sponsor\n                </th>\n                <th v-if=\"showPaytype\">\n                  Stages\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(racer, idx) in groupedRacers[cat.id]\" :key=\"idx\">\n                <td>{{racer.first_name}}</td>\n                <td>{{racer.last_name}}</td>\n                <td>{{racer.sponsor}}</td>\n                <td  v-if=\"showPaytype\">{{payTypeToStage(racer.paytype)}}</td>\n              </tr>\n            </tbody>\n          </table>\n          <a role=\"button\" @click=\"scrollMeTo('top')\" class=\"link-primary\"\n            >Back to Top</a\n          >\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"text-center\">\n        <h2 class=\"mt-5\">No registrations yet...</h2>\n      </div>\n    </div>\n    </div>\n  </div>\n</template>\n\n<style>\ntable.table {\n  --bs-table-hover-bg: #76c8ff;\n}\nbody {\n  min-height: 75rem;\n  padding-top: 4.5rem;\n}\n</style>\n","import { createRouter, createWebHashHistory } from 'vue-router';\nimport Landing from '@/components/LandingComponent.vue'\nimport RaceResult from '@/components/results/RaceResult.vue';\nimport ResultComponent from '@/components/results/ResultComponent.vue';\nimport SeriesResultComponent from '@/components/results/SeriesResultComponent.vue';\nimport RaceReg from '@/components/registration/RaceReg.vue';\nimport RaceRegConfirm from '@/components/registration/RaceRegConfirm.vue';\nimport SeriesRaceResult from '@/components/results/SeriesResult.vue';\nimport TeamComp from '@/components/results/TeamComp.vue'\nimport TeamCompComponent from '@/components/results/TeamCompComponent.vue'\nimport Roster from '@/components/registration/Roster.vue';\n\nconst router = createRouter({\n  history: createWebHashHistory(import.meta.env.BASE_URL),\n  routes: [\n    { \n      path: '/', \n      name: 'home',\n      component: Landing\n    },\n    { \n      path: '/results/', \n      name: 'results',\n      component: Landing\n    },\n    { \n        path: '/race/:raceid', \n        component: RaceResult\n    },\n    { \n        path: '/result/:id',\n        name: 'raceResult',\n        component: ResultComponent\n    },\n    { \n        path: '/result/series/:seriesid', \n        name: 'seriesResults',\n        component: SeriesResultComponent\n    },\n    { \n        path: '/result/series/:seriesid/team',\n        name: \"teamCompResults\",\n        component: TeamCompComponent\n    },\n    { \n      path: '/register/:raceid', \n      name: 'register',\n      component: RaceReg\n    },\n    { \n      path: '/register/test/:raceid', \n      name: 'register-test',\n      component: RaceReg\n    },\n    { \n      path: '/regconfirmation/:raceid/:payment_id', \n      component: RaceRegConfirm\n    },\n    { \n        path: '/roster/:raceid', \n        name: 'roster',\n        component: Roster\n    },\n    { \n        path: '/series/:seriesid', \n        component: SeriesRaceResult\n    },\n    { \n        path: '/series/grom/:seriesid', \n        component: SeriesRaceResult\n    },\n    { \n        path: '/teamcomp/:seriesid', \n        component: TeamComp\n    },\n  ]\n})\n\nexport default router\n","import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport { plugin, defaultConfig } from '@formkit/vue'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport * as bootstrap from 'bootstrap'\nimport '@formkit/themes/genesis';\nimport { datadogLogs } from '@datadog/browser-logs'\nconst devMode = import.meta.env.DEV\n\nif (!devMode) {\n  datadogLogs.init({\n    clientToken: 'pub5b9b0cfce30b3b609b588d9f3ac85ebb',\n    site: 'datadoghq.com',\n    env: devMode ? 'dev' : 'production',\n    service: 'public-site',\n    version: APP_VERSION,\n    forwardErrorsToLogs: true,\n    sampleRate: 100,\n  })\n}\n\nconst app = createApp(App)\napp.use(plugin, defaultConfig);\napp.use(router);\napp.mount('#app');"],"names":["_sfc_main","RouterView","_hoisted_1","_openBlock","_createElementBlock","_createVNode","_component_RouterView","d","s","id","js","fjs","_createElementVNode","_hoisted_2","FbShareComponent","dayjs","_hoisted_3","_hoisted_5","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_13","_hoisted_15","_hoisted_17","$options","$props","_hoisted_4","_toDisplayString","_hoisted_12","_hoisted_14","_hoisted_16","_hoisted_18","_component_FbShareComponent","_hoisted_19","_hoisted_20","_a","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_component_RouterLink","_hoisted_25","_hoisted_6","_hoisted_7","_normalizeClass","_ctx","$data","MainNav","EventDetailsComponent","request","response","err","series","filtered","_","raceInfo","isInFuture","o","_component_MainNav","_Fragment","_renderList","race","idx","_component_EventDetailsComponent","msToTimeString","ms","showMillis","minSecMillis","millis","lap","fill","dataUrl","data","_createTextVNode","ResultRow","SeriesNavBar","refName","element","cat","_component_SeriesNavBar","key","$event","columnName","index","racer","_component_ResultRow","_b","cols","firstRacerLaps","headers","i","SeriesResultRow","_component_SeriesResultRow","startTime","sorted","a","b","timeGroup","time","category","saveForm","raceid","getForm","parsed","clearFormStorage","getFees","priceInDollars","cents","onlineFee","EventCategoryScheduleComponent","newValue","oldValue","amt","prevFormData","now","eventDate","bibNumber","couponCode","clickEvent","resolve","error","cats","options","altPaytype","payOpt","el","_c","fees","dets","_d","newTot","label","description","amount","dec31","bday","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_30","_hoisted_31","_hoisted_33","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_39","_hoisted_41","_hoisted_47","_hoisted_50","_component_FormKit","_createBlock","item","_hoisted_29","_hoisted_32","_hoisted_34","_hoisted_38","_hoisted_40","_hoisted_42","_hoisted_43","_hoisted_45","_hoisted_46","_hoisted_48","_component_EventCategoryScheduleComponent","_hoisted_49","_hoisted_51","temp","team","res","date","text","paytype","router","createRouter","createWebHashHistory","Landing","RaceResult","ResultComponent","SeriesResultComponent","TeamCompComponent","RaceReg","RaceRegConfirm","Roster","SeriesRaceResult","TeamComp","datadogLogs","app","createApp","App","plugin","defaultConfig"],"mappings":"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"}