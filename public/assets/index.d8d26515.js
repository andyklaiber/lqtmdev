import{r as m,o as s,c as n,a as e,F as u,b as _,d as f,w as $,n as R,e as w,t as i,R as k,f as L,_ as N,g as x,h as B,i as C}from"./vendor.517d0f13.js";const P=function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))p(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&p(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function p(a){if(a.ep)return;a.ep=!0;const r=t(a);fetch(a.href,r)}};P();var v=(o,d)=>{const t=o.__vccOpts||o;for(const[p,a]of d)t[p]=a;return t};const S={props:["races"],data(){return{count:0}},computed:{}},V={class:"navbar navbar-expand-lg navbar-light bg-light"},A={class:"container-fluid"},M=e("div",{class:"navbar-brand",href:"#"},"2022 Prairie City Race Series",-1),O={class:"collapse navbar-collapse",id:"navbarSupportedContent"},D={class:"navbar-nav me-auto mb-2 mb-lg-0"},F={class:"nav-item dropdown"},H=e("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Races ",-1),I={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},T=e("div",{class:"nav-item"},[e("a",{class:"nav-link active","aria-current":"page",href:"https://racemtb.com/"},"RaceMtb Home")],-1);function j(o,d,t,p,a,r){const l=m("RouterLink");return s(),n("nav",V,[e("div",A,[M,e("div",O,[e("ul",D,[e("li",F,[H,e("ul",I,[(s(!0),n(u,null,_(t.races,c=>(s(),n("li",{key:c.raceid},[f(l,{class:R(["dropdown-item",{active:"$route.params.raceid === race.raceid"}]),to:`/race/${c.raceid}`},{default:$(()=>[w(i(c.displayName+` - ${c.formattedStartDate}`),1)]),_:2},1032,["class","to"])]))),128))])])])]),T])])}var E=v(S,[["render",j]]);let U="/api/races/";const W={components:{RouterView:k,NavBar:E},data(){return{races:[],raceId:null}},mounted:function(){fetch(U).then(o=>o.json()).then(o=>{console.log(o),this.races=o})},computed:{raceMeta(){return this.races.find(o=>o.raceid===this.raceId)}}};function q(o,d,t,p,a,r){const l=m("NavBar"),c=m("RouterView");return s(),n(u,null,[f(l,{races:a.races,id:"top"},null,8,["races"]),f(c)],64)}var z=v(W,[["render",q]]);const K={props:["data","Pos","totLaps"],data(){return{count:0}},computed:{incompleteLaps(){return new Array(this.totLaps-this.data.laps.length).fill("-")}}};function G(o,d,t,p,a,r){return s(),n(u,null,[e("td",null,i(t.Pos+1),1),e("td",null,i(t.data.Bib),1),e("td",null,i(t.data.Name),1),e("td",null,i(t.data.Sponsor),1),(s(!0),n(u,null,_(t.data.laps,(l,c)=>(s(),n("td",{key:c},i(l.timeString),1))),128)),t.totLaps-t.data.laps.length>0?(s(!0),n(u,{key:0},_(r.incompleteLaps,l=>(s(),n("td",null,i(l),1))),256)):L("",!0),e("td",null,i(t.data.Time),1),e("td",null,i(t.data.back||"-"),1)],64)}var J=v(K,[["render",G]]);const Q={props:["raceMeta"],components:{ResultRow:J},data(){return{categories:{}}},mounted:function(){let o=`/api/races/results/${this.$route.params.raceid}`,d=this;fetch(o).then(t=>t.json()).then(t=>{d.categories=t.categories})},computed:{sortedCats(){return N.orderBy(this.categories,"disporder")}}},X=e("div",{class:"text-center"},[e("h2",null,"Preliminary Race Results - Wednesday March 23")],-1),Y={class:"container text-center"},Z={class:"list-inline"},ee=["href"],te={class:"container-fluid"},ae=["id"],re={class:"table table-striped table-hover"},se=e("a",{href:"#top"},"Back to Top",-1);function ne(o,d,t,p,a,r){const l=m("ResultRow");return s(),n(u,null,[X,e("div",Y,[e("ul",Z,[(s(!0),n(u,null,_(r.sortedCats,(c,b)=>(s(),n("li",{key:c.id,class:"list-inline-item"},[e("a",{href:"#"+b},i(c.catdispname),9,ee)]))),128))])]),e("div",te,[(s(!0),n(u,null,_(r.sortedCats,(c,b)=>(s(),n("div",{key:c.id,class:"mt-5"},[e("h3",{id:b},i(c.catdispname),9,ae),e("table",re,[e("thead",null,[e("tr",null,[(s(!0),n(u,null,_(c.columns,(g,h)=>(s(),n("th",{scope:"col",key:h},i(g),1))),128))])]),e("tbody",null,[(s(!0),n(u,null,_(c.results,(g,h)=>(s(),n("tr",{key:h},[f(l,{totLaps:c.laps,Pos:h,data:g},null,8,["totLaps","Pos","data"])]))),128))])]),se]))),128))])],64)}var oe=v(Q,[["render",ne]]);const ce=x({history:B("/"),routes:[{path:"/race/:raceid",component:oe}]});const y=C(z);y.use(ce);y.mount("#app");
